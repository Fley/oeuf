{"version":3,"sources":["components/theme/Theme.tsx","store/selectors.ts","components/notification/presentational/Toast.tsx","components/notification/redux/selectors.ts","components/notification/redux/actions.ts","components/notification/container/NotificationContainer.tsx","components/notification/redux/sagas.ts","components/notification/redux/reducer.ts","components/layout/Layout.tsx","components/layout/CenteredPageLayout.tsx","components/empty-page/EmptyPage.tsx","components/swipeable-list-item/SwipeableListItem.tsx","components/exercise-list/presentational/ExerciseList.tsx","components/exercise-list/presentational/ExerciseListPage.tsx","store/actions.ts","components/exercise-list/container/ExerciseListPageContainer.tsx","components/exercise/presentational/ExerciseStep.tsx","components/exercise/presentational/Exercise.tsx","components/exercise/presentational/ExercisePage.tsx","components/exercise/container/ExercisePageContainer.tsx","store/reducer.ts","idb/datastore.ts","serviceWorker/redux/actions.ts","serviceWorker/redux/sagas.tsx","serviceWorker/index.ts","store/saga.ts","redux/configureStore.ts","redux/RootContainer.tsx","components/empty-page/Error404.tsx","components/exercise-runner/presentational/TimedProgress.tsx","components/exercise-runner/presentational/RepetitionProgress.tsx","components/exercise-runner/presentational/ExerciseRunner.tsx","components/exercise-runner/container/ExerciseRunnerContainer.tsx","App.tsx","index.tsx"],"names":["Theme","_ref","children","React","Children","only","react_default","a","createElement","Fragment","getExerciseList","state","getExercisesState","ids","map","id","byId","getExerciseById","areExercisesLoading","loading","hasErrorLoadingExercises","error","exercises","getNotificationState","notification","Toast","message","_ref$type","type","_ref$actions","actions","_ref$hidden","hidden","onClick","onMouseEnter","onMouseLeave","className","classNames","concat","toast-hidden","toast-visible","action","index","key","getNotification","NOTIFICATION_PUSH","pushNotification","NOTIFICATION_PAUSE_AUTO_HIDE","NOTIFICATION_RESUME_AUTO_HIDE","showNotification","NOTIFICATION_HIDE","hideNotification","NotificationContainer","connect","dispatch","Toast_Toast","watchNotifications","handleNotification","NOTIFICATION_DELAY_MS","notificationChannel","regenerator_default","wrap","_context","prev","next","actionChannel","sent","take","call","stop","_marked","this","waiting","_ref2","stopped","_context2","put","race","hide","timeout","delay","_marked2","initialState","undefined","Layout","header","_ref$navItems","navItems","_ref$headerBackground","headerBackground","isLight","navbar-light","navbar-dark","navItem","CenteredPageLayout","style","height","position","top","left","EmptyPage","icon","text","CenteredPageLayout_CenteredPageLayout","index_es","size","SwipeableListItem","props","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","onChangeIndex","setState","onTransitionEnd","onSwipeLeft","onSwipeRight","_this$props","rightSwipeElement","leftSwipeElement","lib_default","Component","SwipedItemAcknowledged","faCheck","SwipedItemRemoved","faTimes","SwipedItemCanceled","faUndo","mapExerciceItem","name","done","SwipeableListItem_SwipeableListItem","SwipeableListItem_SwipedItemCanceled","SwipeableListItem_SwipedItemAcknowledged","SwipeableListItem_SwipedItemRemoved","Link","to","role","aria-label","e","preventDefault","faTrash","faAngleRight","ExerciseList","_ref2$exercises","onAddExercise","onAcknowledgeExercise","onDeleteExercise","onCancelExercise","_ref2$loading","_ref2$errorLoading","errorLoading","length","filter","empty_page_EmptyPage","faSun","faPoo","faListAlt","ExerciseListPage","_ref$loading","_ref$errorLoading","Layout_Layout","disabled","faPlusSquare","exercise_list_presentational_ExerciseList","TYPES","FETCH_EXERCISES","REQUEST","SUCCESS","FAILURE","FETCH_EXERCISE","ADD_EXERCISE","DELETE_EXERCISE","ACKNOWLEDGE_EXERCISE","CANCEL_EXERCISE","UPDATE_EXERCISE_NAME","ADD_EXERCISE_STEP","DELETE_EXERCISE_STEP","ACKNOWLEDGE_EXERCISE_STEP","CANCEL_EXERCISE_STEP","UPDATE_EXERCISE_STEP","MOVE_EXERCISE_STEP","START_EXERCISE","STOP_EXERCISE","PAUSE_EXERCISE","fetchAllExercisesRequest","fetchAllExercisesSuccess","fetchAllExercisesFailure","fetchExerciseSuccess","exercise","fetchExerciseFailure","addExerciseSuccess","addExerciseFailure","deleteExerciseSuccess","deleteExerciseFailure","acknowledgeExerciseRequest","acknowledgeExerciseSuccess","acknowledgeExerciseFailure","exerciseId","cancelExerciseSuccess","cancelExerciseFailure","updateExerciseNameSuccess","updateExerciseNameFailure","acknowledgeExerciseStepRequest","stepId","acknowledgeExerciseStepSuccess","acknowledgeExerciseStepFailure","cancelExerciseStepSuccess","cancelExerciseStepFailure","addExerciseStepSuccess","addExerciseStepFailure","createExerciseStep","stepContent","objectSpread","duration","rest","uuidv4","kg","repetition","Error","deleteExerciseStepSuccess","deleteExerciseStepFailure","updateExerciseStepSuccess","updateExerciseStepFailure","contentPatch","moveExerciseStepSuccess","moveExerciseStepFailure","oldIndex","newIndex","ExerciceListPageContainer","load","restProps","objectWithoutProperties","presentational_ExerciseListPage","steps","progress","addExerciseRequest","deleteExerciseRequest","cancelExerciseRequest","DragHandle","SortableHandle","width","faBars","InputNumber","defaultValue","placeholder","onChange","min","max","required","StepRepetition","onContentChange","ExerciseStep_InputNumber","parseFloat","currentTarget","value","HeaderStepRepetition","faDumbbell","faHandPaper","HeaderStepTimed","faClock","StepTimed","_ref3","SortableStep","SortableElement","_ref$step","step","content","ExerciseStep_StepTimed","ExerciseStep_StepRepetition","SortableStepList","SortableContainer","onUpdateStep","_onSwipeRight","apply","arguments","toString","_onSwipeLeft","Exercise","onAddFirstStep","onDeleteStep","onAcknowledgeStep","onCancelStep","onMoveStep","onExerciseNameChange","_this$props$exercise","onSubmit","htmlFor","autoComplete","ExerciseStep_HeaderStepTimed","ExerciseStep_HeaderStepRepetition","onSortEnd","lockAxis","useDragHandle","helperClass","_ref4","faStopwatch","LoadingPage","ErrorLoadingPage","ExerciseNotFoundPage","faQuidditch","firstStepIdToRun","stepNotDone","ExercisePage","onAddStep","onStartExercise","faPlay","toConsumableArray","ExercisePage_LoadingPage","ExercisePage_ErrorLoadingPage","presentational_Exercise","ExercisePage_ExerciseNotFoundPage","ExercicePageContainer","presentational_ExercisePage","ownProps","stepType","addExerciseStepRequest","deleteExerciseStepRequest","cancelExerciseStepRequest","updateExerciseStepRequest","moveExerciseStepRequest","updateExerciseNameRequest","exsercisesInitialState","removeExerciseFromStateById","restIds","restById","reduce","defineProperty","reducer","combineReducers","status","startedAt","Date","stoppedAt","pausedAt","RW","dbPromise","idb","open","upgradeDB","oldVersion","createObjectStore","keyPath","putExercise","asyncToGenerator","mark","_callee","db","tx","transaction","objectStore","complete","abrupt","_x","patchExerciseById","_callee2","patchExercise","store","newExercise","get","_x2","_x3","deleteExercise","_callee3","_context3","delete","_x4","getAllExercises","_callee4","_context4","getAll","_ref5","_callee5","_context5","_x5","SERVICEWORKER_REGISTRATION_ERROR","registrationError","errorMessage","registrationSuccess","SERVICEWORKER_NEW_CONTENT_AVAILABLE","newContentAvailable","SERVICEWORKER_CONTENT_CACHED","contentCached","SERVICEWORKER_OFFLINE","offlineMode","offline","onRegistrationError","onNewContentAvailable","onContentCached","onofflineReady","watchServiceWorker","sagas_marked","objectDestructuringEmpty","href","window","location","reload","sagas_marked2","_marked3","_marked4","t0","all","takeLatest","t1","t2","t3","t4","t5","_marked5","isLocalhost","Boolean","hostname","match","updateOnlineStatus","navigator","onLine","registerValidSW","swUrl","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","fetchExercises","watchFetchExercises","fetchOneExercise","watchFetchOneExercise","addNewExercise","watchAddNewExercise","watchDeleteExercise","acknowledgeExercise","watchAcknowledgeExercise","cancelExercise","watchCancelExercise","updateExerciseName","watchUpdateExerciseName","addExerciseStep","watchAddExerciseStep","deleteExerciseStep","watchDeleteExerciseStep","acknowledgeExerciseStep","watchAcknowledgeExerciseStep","cancelExerciseStep","watchCancelExerciseStep","moveExerciseStep","watchMoveExerciseStep","updateExerciseStep","watchUpdateExerciseStep","rootSaga","datastore","saga_marked","saga_marked2","saga_marked3","saga_marked4","saga_marked5","_context6","takeEvery","_marked6","_context7","_marked7","_context8","_marked8","patchedExercise","_context9","_marked9","_context10","_marked10","_context11","_marked11","_context12","_marked12","_ref6","_context13","_marked13","_context14","_marked14","_ref7","_context15","_marked15","_context16","_marked16","_ref8","_context17","s","_marked17","_context18","_marked18","_ref9","_context19","find","every","_marked19","_context20","_marked20","_ref10","_context21","_marked21","_context22","_marked22","_ref11","_context23","arrayMove","_marked23","_context24","_marked24","_ref12","stepIndex","_context25","findIndex","_marked25","_context26","_marked26","_context27","_marked27","sagaMiddleware","createSagaMiddleware","middlewares","thunkMiddleware","appStore","preloadedState","createStore","rootReducer","composeWithDevTools","applyMiddleware","run","saga","configureStore","URL","process","origin","addEventListener","fetch","response","headers","indexOf","ready","unregister","checkValidServiceWorker","registerServiceWorker","RootContainer","es","Error404","history","goBackButton","goBack","faKiwiBird","TimedProgress","_PureComponent","intervalId","timeoutId","clearTimers","clearInterval","clearTimeout","startTimers","tick","setInterval","tick_ms","setTimeout","finish","remainingTime","start","onFinished","reset","totalTime","newTime","onTapTimer","getStrokeDashoffset","Math","PI","inherits","createClass","theme","_this$state","version","xmlns","transform","in","stdDeviation","dx","dy","result","slope","r","cx","cy","fill","strokeDasharray","strokeDashoffset","transition","ceil","flip","faRedo","PureComponent","defaultProps","RepetitionProgress","ExerciseRunner","goToNextStep","renderNext","finishStepAndRest","onStepFinished","currentStepIndex","renderProgress","currentStep","TimedProgress_TimedProgress","RepetitionProgress_RepetitionProgress","exerciseName","faStepBackward","faStepForward","success","faSmileBeam","Redirect","ExerciseStepNotFoundPage","ExerciseRunnerContainerComponent","loadExercise","ExerciseRunnerContainer_LoadingPage","ExerciseRunnerContainer_ErrorLoadingPage","ExerciseRunnerContainer_ExerciseStepNotFoundPage","ExerciseRunner_ExerciseRunner","ExerciseRunnerContainer_ExerciseNotFoundPage","ExerciseRunnerContainer","App","redux_RootContainer","BrowserRouter","basename","components_theme_Theme","Switch","Route","exact","path","component","ExerciseListPageContainer","ExercisePageContainer","params","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.18397443.chunk.js","sourcesContent":["import React, { SFC } from 'react';\r\nimport './Theme.css';\r\n\r\nconst Theme: SFC = ({ children }) => {\r\n  React.Children.only(children);\r\n  return <>{children}</>;\r\n};\r\n\r\nexport default Theme;\r\n","import { AppStore } from './reducer';\n\nexport const getExerciseList = (state: AppStore) =>\n  getExercisesState(state).ids.map(id => getExercisesState(state).byId[id]);\n\nexport const getExerciseById = (state: AppStore) => (id: string) => getExercisesState(state).byId[id];\n\nexport const areExercisesLoading = (state: AppStore) => getExercisesState(state).loading;\n\nexport const hasErrorLoadingExercises = (state: AppStore) => !!getExercisesState(state).error;\n\nexport const getExercisesState = (state: AppStore) => state.exercises;\nexport const getNotificationState = (state: AppStore) => state.notification;\n","import React, { SFC } from 'react';\nimport classNames from 'classnames';\nimport './Toast.css';\n\nexport type ToastProps = {\n  message: string;\n  type?: 'default' | 'danger' | 'success' | 'warning' | 'info';\n  hidden?: boolean;\n  actions?: React.ReactNode[];\n  onClick: () => void;\n  onMouseEnter?: () => void;\n  onMouseLeave?: () => void;\n};\n\nexport const Toast: SFC<ToastProps> = ({\n  message,\n  type = 'default',\n  actions = [],\n  hidden = false,\n  onClick,\n  onMouseEnter,\n  onMouseLeave\n}) => (\n  <div className=\"toast-container\" onClick={onClick} onMouseEnter={onMouseEnter} onMouseLeave={onMouseLeave}>\n    <div\n      className={classNames('toast', 'shadow-up-sm', `toast-${type}`, {\n        'toast-hidden': hidden,\n        'toast-visible': !hidden\n      })}\n    >\n      <div>{message}</div>\n      {actions && (\n        <div className=\"toast-actions\">\n          {actions.map((action, index) => (\n            <span key={`action-${index}`}>{action}</span>\n          ))}\n        </div>\n      )}\n    </div>\n  </div>\n);\n","import { NotificationStore } from './reducer';\n\nexport const getNotification = (state: NotificationStore) => state.notification;\n","import { Notification } from './reducer';\n\nexport const NOTIFICATION_PUSH: 'NOTIFICATION_PUSH' = 'NOTIFICATION_PUSH';\nexport const pushNotification = (notification: Notification) => ({\n  type: NOTIFICATION_PUSH,\n  notification\n});\n\nexport const NOTIFICATION_PAUSE_AUTO_HIDE: 'NOTIFICATION_PAUSE_AUTO_HIDE' = 'NOTIFICATION_PAUSE_AUTO_HIDE';\nexport const pauseAutoHideNotification = () => ({ type: NOTIFICATION_PAUSE_AUTO_HIDE });\n\nexport const NOTIFICATION_RESUME_AUTO_HIDE: 'NOTIFICATION_RESUME_AUTO_HIDE' = 'NOTIFICATION_RESUME_AUTO_HIDE';\nexport const resumeAutoHideNotification = () => ({ type: NOTIFICATION_RESUME_AUTO_HIDE });\n\nconst NOTIFICATION_SHOW: 'NOTIFICATION_SHOW' = 'NOTIFICATION_SHOW';\nexport const showNotification = (notification: Notification) => ({\n  type: NOTIFICATION_SHOW,\n  notification\n});\n\nexport const NOTIFICATION_HIDE: 'NOTIFICATION_HIDE' = 'NOTIFICATION_HIDE';\nexport const hideNotification = () => ({\n  type: NOTIFICATION_HIDE\n});\n\nexport type Action =\n  | ReturnType<typeof pushNotification>\n  | ReturnType<typeof pauseAutoHideNotification>\n  | ReturnType<typeof resumeAutoHideNotification>\n  | ReturnType<typeof showNotification>\n  | ReturnType<typeof hideNotification>;\n","import React, { SFC } from 'react';\nimport { Toast } from '../presentational/Toast';\nimport { Notification } from '../redux/reducer';\nimport { MapStateToProps, connect, MapDispatchToProps } from 'react-redux';\nimport { AppStore } from 'store/reducer';\nimport { getNotification } from '../redux/selectors';\nimport { getNotificationState } from 'store/selectors';\nimport { hideNotification, pauseAutoHideNotification, resumeAutoHideNotification } from '../redux/actions';\n\ntype NotificationComponentStateProps = {\n  notification?: Notification;\n};\n\ntype NotificationComponentDispatchProps = {\n  onClick: () => void;\n  onMouseEnter: () => void;\n  onMouseLeave: () => void;\n};\n\ntype NotificationComponentProps = NotificationComponentStateProps & NotificationComponentDispatchProps;\n\nconst NotificationComponent: SFC<NotificationComponentProps> = ({\n  notification,\n  onClick,\n  onMouseEnter,\n  onMouseLeave\n}) => (\n  <>\n    {notification && (\n      <Toast\n        message={notification.message}\n        type={notification.type}\n        onClick={onClick}\n        onMouseEnter={onMouseEnter}\n        onMouseLeave={onMouseLeave}\n      />\n    )}\n  </>\n);\n\nconst mapStateToProps: MapStateToProps<NotificationComponentStateProps, {}, AppStore> = state => ({\n  notification: getNotification(getNotificationState(state))\n});\n\nconst mapDispatchToProps: MapDispatchToProps<NotificationComponentDispatchProps, {}> = dispatch => ({\n  onClick: () => dispatch(hideNotification()),\n  onMouseEnter: () => dispatch(pauseAutoHideNotification()),\n  onMouseLeave: () => dispatch(resumeAutoHideNotification())\n});\n\nexport const NotificationContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(NotificationComponent);\n","import { take, actionChannel, call, put, race } from 'redux-saga/effects';\nimport {\n  NOTIFICATION_PUSH,\n  showNotification,\n  hideNotification,\n  pushNotification,\n  NOTIFICATION_HIDE,\n  NOTIFICATION_PAUSE_AUTO_HIDE,\n  NOTIFICATION_RESUME_AUTO_HIDE\n} from './actions';\nimport { delay, Channel } from 'redux-saga';\nimport { Notification } from './reducer';\n\nconst NOTIFICATION_DELAY_MS = 5000;\n\nexport function* watchNotifications() {\n  const notificationChannel: Channel<ReturnType<typeof pushNotification>> = yield actionChannel(NOTIFICATION_PUSH);\n  while (true) {\n    const { notification } = yield take<ReturnType<typeof pushNotification>>(notificationChannel);\n    yield call(handleNotification, notification);\n  }\n}\n\nfunction* handleNotification(notification?: Notification) {\n  if (notification) {\n    yield put(showNotification(notification));\n  }\n  let waiting = true;\n  while (waiting) {\n    const { stopped, timeout } = yield race({\n      hide: take(NOTIFICATION_HIDE),\n      stopped: take(NOTIFICATION_PAUSE_AUTO_HIDE),\n      timeout: call(delay, NOTIFICATION_DELAY_MS)\n    });\n    if (timeout) {\n      yield put(hideNotification());\n      waiting = false;\n    } else if (stopped) {\n      yield take(NOTIFICATION_RESUME_AUTO_HIDE);\n    }\n  }\n}\n","import { Reducer } from 'redux';\nimport { Action } from './actions';\n\nexport type Notification = {\n  message: string;\n  type?: 'default' | 'danger' | 'success' | 'warning' | 'info';\n  actions?: React.ReactNode[];\n};\n\nexport type NotificationStore = {\n  notification?: Notification;\n};\n\nconst initialState: NotificationStore = {\n  notification: undefined\n};\n\nexport const notificationReducer: Reducer<NotificationStore, Action> = (state = initialState, action) => {\n  switch (action.type) {\n    case 'NOTIFICATION_SHOW':\n      return { ...state, notification: action.notification };\n    case 'NOTIFICATION_HIDE':\n      return { ...state, notification: undefined };\n    default:\n      return state;\n  }\n};\n","import React, { ReactNode, SFC } from 'react';\nimport classNames from 'classnames';\nimport { NotificationContainer } from 'components/notification';\n\nexport interface LayoutProps {\n  header?: ReactNode;\n  navItems?: ReactNode[];\n  headerBackground?: {\n    className: string;\n    isLight?: boolean;\n  };\n}\n\nexport const Layout: SFC<LayoutProps> = ({\n  header,\n  children,\n  navItems = [],\n  headerBackground = { className: 'bg-white', isLight: true }\n}) => (\n  <>\n    <header\n      className={classNames('navbar justify-content-start sticky-top shadow-sm', headerBackground.className, {\n        'navbar-light': headerBackground.isLight,\n        'navbar-dark': !headerBackground.isLight\n      })}\n    >\n      {header}\n    </header>\n    <main className=\"col-sm-10 mx-auto mb-5 py-3 px-0 px-xs-2\">{children}</main>\n    <footer className=\"fixed-bottom \">\n      <NotificationContainer />\n      <nav className=\"navbar navbar-light bg-white p-0 navbar-expand shadow-up-sm\">\n        <ul className=\"navbar-nav nav-justified w-100\">\n          {navItems.map((navItem, index) => (\n            <li key={`nav-item-${index}`} className=\"nav-item\">\n              {navItem}\n            </li>\n          ))}\n        </ul>\n      </nav>\n    </footer>\n  </>\n);\n","import React, { SFC } from 'react';\nimport classNames from 'classnames';\n\nexport type CenteredPageLayoutProps = {\n  className?: string;\n};\n\nexport const CenteredPageLayout: SFC<CenteredPageLayoutProps> = ({ children, className }) => (\n  <div\n    className={classNames('d-flex align-items-center w-100 text-center bg-light text-dark', className)}\n    style={{\n      height: '100vh',\n      position: 'fixed',\n      top: 0,\n      left: 0\n    }}\n  >\n    <section className=\"m-auto\">{children}</section>\n  </div>\n);\n","import React, { SFC, ReactNode } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { IconProp } from '@fortawesome/fontawesome-svg-core';\r\nimport { CenteredPageLayout } from 'components/layout';\r\n\r\nexport type EmptyPageProps = {\r\n  icon: IconProp;\r\n  text: string | ReactNode;\r\n  action: ReactNode;\r\n};\r\n\r\nconst EmptyPage: SFC<EmptyPageProps> = ({ icon, text, action }) => {\r\n  return (\r\n    <CenteredPageLayout>\r\n      <div>{icon && <FontAwesomeIcon icon={icon} size=\"7x\" />}</div>\r\n      <div>{text}</div>\r\n      {action && <nav className=\"m-5\">{action}</nav>}\r\n    </CenteredPageLayout>\r\n  );\r\n};\r\n\r\nexport default EmptyPage;\r\n","import React, { Component, ReactNode } from 'react';\r\nimport SwipeableViews from 'react-swipeable-views';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTimes, faCheck, faUndo } from '@fortawesome/free-solid-svg-icons';\r\n\r\nexport type SwipeableListItemProps = {\r\n  className: string;\r\n  rightSwipeElement: ReactNode;\r\n  leftSwipeElement: ReactNode;\r\n  onSwipeRight: () => void;\r\n  onSwipeLeft: () => void;\r\n};\r\n\r\nexport type SwipeableListItemState = {\r\n  index: number;\r\n};\r\n\r\nexport default class SwipeableListItem extends Component<SwipeableListItemProps, SwipeableListItemState> {\r\n  constructor(props: SwipeableListItemProps) {\r\n    super(props);\r\n    this.state = { index: 1 };\r\n  }\r\n\r\n  onChangeIndex = (index: number) => {\r\n    this.setState({ index });\r\n  };\r\n\r\n  onTransitionEnd = () => {\r\n    if (this.state.index === 0) {\r\n      this.props.onSwipeLeft();\r\n    } else if (this.state.index === 2) {\r\n      this.props.onSwipeRight();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { className, children, rightSwipeElement, leftSwipeElement } = this.props;\r\n\r\n    return (\r\n      <li className={className}>\r\n        <SwipeableViews\r\n          index={this.state.index}\r\n          onTransitionEnd={this.onTransitionEnd}\r\n          onChangeIndex={this.onChangeIndex}\r\n        >\r\n          {leftSwipeElement}\r\n          {children}\r\n          {rightSwipeElement}\r\n        </SwipeableViews>\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nexport const SwipedItemAcknowledged = () => (\r\n  <div className=\"d-flex bg-success text-white py-3 px-3 h-100 justify-content-end\">\r\n    <FontAwesomeIcon icon={faCheck} className=\"align-self-center\" />\r\n  </div>\r\n);\r\n\r\nexport const SwipedItemRemoved = () => (\r\n  <div className=\"bg-danger text-white py-3 px-3 h-100\">\r\n    <FontAwesomeIcon icon={faTimes} className=\"align-self-center\" />\r\n  </div>\r\n);\r\n\r\nexport const SwipedItemCanceled = () => (\r\n  <div className=\"d-flex bg-warning text-white py-3 px-3 h-100 justify-content-end\">\r\n    <FontAwesomeIcon icon={faUndo} className=\"align-self-center\" />\r\n  </div>\r\n);\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faListAlt } from '@fortawesome/free-regular-svg-icons';\r\nimport { faAngleRight, faSun, faPoo, faTrash, faCheck, faUndo } from '@fortawesome/free-solid-svg-icons';\r\nimport EmptyPage from '../../../components/empty-page/EmptyPage';\r\nimport SwipeableListItem, {\r\n  SwipedItemAcknowledged,\r\n  SwipedItemRemoved,\r\n  SwipedItemCanceled\r\n} from '../../../components/swipeable-list-item/SwipeableListItem';\r\nimport './ExerciseList.css';\r\nimport { Exercise } from '../../../store/types';\r\n\r\nconst mapExerciceItem = (onSwipeLeft: (id: string) => void, onSwipeRight: (id: string) => void) => ({\r\n  id,\r\n  name,\r\n  done\r\n}: Pick<Exercise, 'id' | 'done' | 'name'>) => {\r\n  return (\r\n    <SwipeableListItem\r\n      key={`exercise-${id}`}\r\n      className={'list-group-item p-0 ' + (done ? 'list-group-item-success' : '')}\r\n      onSwipeLeft={() => onSwipeLeft(id)}\r\n      onSwipeRight={() => onSwipeRight(id)}\r\n      leftSwipeElement={done ? <SwipedItemCanceled /> : <SwipedItemAcknowledged />}\r\n      rightSwipeElement={<SwipedItemRemoved />}\r\n    >\r\n      <Link\r\n        to={`/${id}`}\r\n        className={`d-flex py-3 px-3 list-group-item-action ${done ? 'list-group-item-success' : ''} h-100`}\r\n      >\r\n        <span className=\"flex-grow-1 p-1\">{name}</span>\r\n        <div\r\n          className=\"d-none d-sm-block btn-toolbar list-toolbar-hover\"\r\n          role=\"toolbar\"\r\n          aria-label=\"Toolbar with actions on the exercise\"\r\n        >\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-outline-dark rounded-circle border-0 mx-1\"\r\n            aria-label=\"Delete\"\r\n            onClick={e => {\r\n              onSwipeRight(id);\r\n              e.preventDefault();\r\n            }}\r\n          >\r\n            <FontAwesomeIcon icon={faTrash} />\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-outline-dark rounded-circle border-0 mx-1\"\r\n            aria-label=\"Complete\"\r\n            onClick={e => {\r\n              onSwipeLeft(id);\r\n              e.preventDefault();\r\n            }}\r\n          >\r\n            {done ? <FontAwesomeIcon icon={faUndo} /> : <FontAwesomeIcon icon={faCheck} />}\r\n          </button>\r\n        </div>\r\n        <span className=\"p-1 ml-1\">\r\n          <FontAwesomeIcon icon={faAngleRight} />\r\n        </span>\r\n      </Link>\r\n    </SwipeableListItem>\r\n  );\r\n};\r\n\r\nexport type ExerciseListProps = {\r\n  exercises: Exercise[];\r\n  onAddExercise: () => void;\r\n  onAcknowledgeExercise: (id: string) => void;\r\n  onDeleteExercise: (id: string) => void;\r\n  onCancelExercise: (id: string) => void;\r\n  loading?: boolean;\r\n  errorLoading?: boolean;\r\n};\r\n\r\nconst ExerciseList = ({\r\n  exercises = [],\r\n  onAddExercise,\r\n  onAcknowledgeExercise,\r\n  onDeleteExercise,\r\n  onCancelExercise,\r\n  loading = false,\r\n  errorLoading = false\r\n}: ExerciseListProps) => {\r\n  return exercises.length > 0 ? (\r\n    <ul className=\"list-group shadow-y-sm\">\r\n      {exercises && exercises.filter(e => !e.done).map(mapExerciceItem(onAcknowledgeExercise, onDeleteExercise))}\r\n      {exercises && exercises.filter(e => e.done).map(mapExerciceItem(onCancelExercise, onDeleteExercise))}\r\n    </ul>\r\n  ) : loading ? (\r\n    <EmptyPage text=\"Loading ...\" icon={faSun} action={<p>Your exercises are being loaded</p>} />\r\n  ) : errorLoading ? (\r\n    <EmptyPage\r\n      text=\"Error loading your exercises\"\r\n      icon={faPoo}\r\n      action={<p>Sorry an error occured loading your exercices !</p>}\r\n    />\r\n  ) : (\r\n    <EmptyPage\r\n      text=\"You have no exercises yet\"\r\n      icon={faListAlt}\r\n      action={\r\n        <>\r\n          <button className=\"btn btn-primary m-1\" onClick={() => onAddExercise()}>\r\n            Create your first exercise\r\n          </button>\r\n          <button className=\"btn btn-outline-primary m-1\">Import exercises</button>\r\n        </>\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default ExerciseList;\r\n","import React from 'react';\r\nimport ExerciseList, { ExerciseListProps } from './ExerciseList';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPlusSquare } from '@fortawesome/free-solid-svg-icons';\r\nimport { Layout } from '../../../components/layout';\r\n\r\nconst ExerciseListPage = ({\r\n  loading = false,\r\n  errorLoading = false,\r\n  exercises,\r\n  onAddExercise,\r\n  onDeleteExercise,\r\n  onAcknowledgeExercise,\r\n  onCancelExercise\r\n}: ExerciseListProps) => (\r\n  <Layout\r\n    header={<span className=\"navbar-brand mb-0 h1\">Exercises</span>}\r\n    headerBackground={{ className: 'bg-primary', isLight: false }}\r\n    navItems={[\r\n      <button\r\n        key=\"nav-new-exercise\"\r\n        className=\"btn btn-link nav-link\"\r\n        disabled={loading || errorLoading}\r\n        onClick={() => onAddExercise()}\r\n      >\r\n        <FontAwesomeIcon icon={faPlusSquare} /> New exercise\r\n      </button>\r\n    ]}\r\n  >\r\n    <ExerciseList\r\n      exercises={exercises}\r\n      onAddExercise={onAddExercise}\r\n      onDeleteExercise={onDeleteExercise}\r\n      onAcknowledgeExercise={onAcknowledgeExercise}\r\n      onCancelExercise={onCancelExercise}\r\n      loading={loading}\r\n      errorLoading={errorLoading}\r\n    />\r\n  </Layout>\r\n);\r\n\r\nexport default ExerciseListPage;\r\n","import uuidv4 from 'uuid/v4';\nimport { Exercise, StepType, Step, UnexpectedError } from './types';\n\nexport type Action = {\n  type: string;\n  [key: string]: any;\n};\n\nexport const TYPES = {\n  FETCH_EXERCISES: {\n    REQUEST: 'exercises/FETCH_EXERCISES/REQUEST',\n    SUCCESS: 'exercises/FETCH_EXERCISES/SUCCESS',\n    FAILURE: 'exercises/FETCH_EXERCISES/FAILURE'\n  },\n  FETCH_EXERCISE: {\n    REQUEST: 'exercises/FETCH_EXERCISE/REQUEST',\n    SUCCESS: 'exercises/FETCH_EXERCISE/SUCCESS',\n    FAILURE: 'exercises/FETCH_EXERCISE/FAILURE'\n  },\n  ADD_EXERCISE: {\n    REQUEST: 'exercises/ADD_EXERCISE/REQUEST',\n    SUCCESS: 'exercises/ADD_EXERCISE/SUCCESS',\n    FAILURE: 'exercises/ADD_EXERCISE/FAILURE'\n  },\n  DELETE_EXERCISE: {\n    REQUEST: 'exercises/DELETE_EXERCISE/REQUEST',\n    SUCCESS: 'exercises/DELETE_EXERCISE/SUCCESS',\n    FAILURE: 'exercises/DELETE_EXERCISE/FAILURE'\n  },\n  ACKNOWLEDGE_EXERCISE: {\n    REQUEST: 'exercises/ACKNOWLEDGE_EXERCISE/REQUEST',\n    SUCCESS: 'exercises/ACKNOWLEDGE_EXERCISE/SUCCESS',\n    FAILURE: 'exercises/ACKNOWLEDGE_EXERCISE/FAILURE'\n  },\n  CANCEL_EXERCISE: {\n    REQUEST: 'exercises/CANCEL_EXERCISE/REQUEST',\n    SUCCESS: 'exercises/CANCEL_EXERCISE/SUCCESS',\n    FAILURE: 'exercises/CANCEL_EXERCISE/FAILURE'\n  },\n  UPDATE_EXERCISE_NAME: {\n    REQUEST: 'exercises/UPDATE_EXERCISE_NAME/REQUEST',\n    SUCCESS: 'exercises/UPDATE_EXERCISE_NAME/SUCCESS',\n    FAILURE: 'exercises/UPDATE_EXERCISE_NAME/FAILURE'\n  },\n  ADD_EXERCISE_STEP: {\n    REQUEST: 'exercises/ADD_EXERCISE_STEP/REQUEST',\n    SUCCESS: 'exercises/ADD_EXERCISE_STEP/SUCCESS',\n    FAILURE: 'exercises/ADD_EXERCISE_STEP/FAILURE'\n  },\n  DELETE_EXERCISE_STEP: {\n    REQUEST: 'exercises/DELETE_EXERCISE_STEP/REQUEST',\n    SUCCESS: 'exercises/DELETE_EXERCISE_STEP/SUCCESS',\n    FAILURE: 'exercises/DELETE_EXERCISE_STEP/FAILURE'\n  },\n  ACKNOWLEDGE_EXERCISE_STEP: {\n    REQUEST: 'exercises/ACKNOWLEDGE_EXERCISE_STEP/REQUEST',\n    SUCCESS: 'exercises/ACKNOWLEDGE_EXERCISE_STEP/SUCCESS',\n    FAILURE: 'exercises/ACKNOWLEDGE_EXERCISE_STEP/FAILURE'\n  },\n  CANCEL_EXERCISE_STEP: {\n    REQUEST: 'exercises/CANCEL_EXERCISE_STEP/REQUEST',\n    SUCCESS: 'exercises/CANCEL_EXERCISE_STEP/SUCCESS',\n    FAILURE: 'exercises/CANCEL_EXERCISE_STEP/FAILURE'\n  },\n  UPDATE_EXERCISE_STEP: {\n    REQUEST: 'exercises/UPDATE_EXERCISE_STEP/REQUEST',\n    SUCCESS: 'exercises/UPDATE_EXERCISE_STEP/SUCCESS',\n    FAILURE: 'exercises/UPDATE_EXERCISE_STEP/FAILURE'\n  },\n  MOVE_EXERCISE_STEP: {\n    REQUEST: 'exercises/MOVE_EXERCISE_STEP/REQUEST',\n    SUCCESS: 'exercises/MOVE_EXERCISE_STEP/SUCCESS',\n    FAILURE: 'exercises/MOVE_EXERCISE_STEP/FAILURE'\n  },\n  START_EXERCISE: 'exercises/START',\n  STOP_EXERCISE: 'exercises/STOP',\n  PAUSE_EXERCISE: 'exercises/PAUSE'\n};\n\n// FETCH_EXERCISES\nexport const fetchAllExercisesRequest = () => ({\n  type: TYPES.FETCH_EXERCISES.REQUEST\n});\nexport const fetchAllExercisesSuccess = (exercises: Exercise[]) => ({\n  type: TYPES.FETCH_EXERCISES.SUCCESS,\n  exercises\n});\nexport const fetchAllExercisesFailure = (error: UnexpectedError) => ({\n  type: TYPES.FETCH_EXERCISES.FAILURE,\n  error\n});\n\n// FETCH_EXERCISE\nexport const fetchExerciseRequest = (id: string) => ({\n  type: TYPES.FETCH_EXERCISE.REQUEST,\n  id\n});\nexport const fetchExerciseSuccess = (exercise: Exercise) => ({\n  type: TYPES.FETCH_EXERCISE.SUCCESS,\n  exercise\n});\nexport const fetchExerciseFailure = (id: string, error: UnexpectedError) => ({\n  type: TYPES.FETCH_EXERCISE.FAILURE,\n  id,\n  error\n});\n\n// ADD_EXERCISE\nexport const addExerciseRequest = () => {\n  const exercise: Exercise = {\n    id: uuidv4(),\n    name: 'New exercise',\n    type: null,\n    steps: [],\n    done: false,\n    progress: null\n  };\n  return {\n    type: TYPES.ADD_EXERCISE.REQUEST,\n    exercise\n  };\n};\nexport const addExerciseSuccess = (exercise: Exercise) => ({\n  type: TYPES.ADD_EXERCISE.SUCCESS,\n  exercise\n});\nexport const addExerciseFailure = (exercise: Exercise, error: UnexpectedError) => ({\n  type: TYPES.ADD_EXERCISE.FAILURE,\n  exercise,\n  error\n});\n\n// DELETE_EXERCISE\nexport const deleteExerciseRequest = (id: string) => ({\n  type: TYPES.DELETE_EXERCISE.REQUEST,\n  id\n});\nexport const deleteExerciseSuccess = (id: string) => ({\n  type: TYPES.DELETE_EXERCISE.SUCCESS,\n  id\n});\nexport const deleteExerciseFailure = (id: string, error: UnexpectedError) => ({\n  type: TYPES.DELETE_EXERCISE.FAILURE,\n  id,\n  error\n});\n\n// ACKNOWLEDGE_EXERCISE\nexport const acknowledgeExerciseRequest = (id: string) => ({\n  type: TYPES.ACKNOWLEDGE_EXERCISE.REQUEST,\n  id\n});\nexport const acknowledgeExerciseSuccess = (exercise: Exercise) => ({\n  type: TYPES.ACKNOWLEDGE_EXERCISE.SUCCESS,\n  exercise\n});\nexport const acknowledgeExerciseFailure = (exerciseId: string, error: UnexpectedError) => ({\n  type: TYPES.ACKNOWLEDGE_EXERCISE.FAILURE,\n  exerciseId,\n  error\n});\n\n// CANCEL_EXERCISE\nexport const cancelExerciseRequest = (id: string) => ({\n  type: TYPES.CANCEL_EXERCISE.REQUEST,\n  id\n});\nexport const cancelExerciseSuccess = (exercise: Exercise) => ({\n  type: TYPES.CANCEL_EXERCISE.SUCCESS,\n  exercise\n});\nexport const cancelExerciseFailure = (exerciseId: string, error: UnexpectedError) => ({\n  type: TYPES.CANCEL_EXERCISE.FAILURE,\n  exerciseId,\n  error\n});\n\n// UPDATE EXERCISE NAME\nexport const updateExerciseNameRequest = (id: string, name: string) => ({\n  type: TYPES.UPDATE_EXERCISE_NAME.REQUEST,\n  id,\n  name\n});\nexport const updateExerciseNameSuccess = (exercise: Exercise) => ({\n  type: TYPES.UPDATE_EXERCISE_NAME.SUCCESS,\n  exercise\n});\nexport const updateExerciseNameFailure = (id: string, error: UnexpectedError) => ({\n  type: TYPES.UPDATE_EXERCISE_NAME.FAILURE,\n  id,\n  error\n});\n\n// ACKNOWLEDGE_EXERCISE_STEP\nexport const acknowledgeExerciseStepRequest = (exerciseId: string, stepId: string) => ({\n  type: TYPES.ACKNOWLEDGE_EXERCISE_STEP.REQUEST,\n  exerciseId,\n  stepId\n});\nexport const acknowledgeExerciseStepSuccess = (exercise: Exercise) => ({\n  type: TYPES.ACKNOWLEDGE_EXERCISE_STEP.SUCCESS,\n  exercise\n});\nexport const acknowledgeExerciseStepFailure = (exerciseId: string, stepId: string, error: UnexpectedError) => ({\n  type: TYPES.ACKNOWLEDGE_EXERCISE_STEP.FAILURE,\n  exerciseId,\n  stepId,\n  error\n});\n\n// CANCEL_EXERCISE_STEP\nexport const cancelExerciseStepRequest = (exerciseId: string, stepId: string) => ({\n  type: TYPES.CANCEL_EXERCISE_STEP.REQUEST,\n  exerciseId,\n  stepId\n});\nexport const cancelExerciseStepSuccess = (exercise: Exercise) => ({\n  type: TYPES.CANCEL_EXERCISE_STEP.SUCCESS,\n  exercise\n});\nexport const cancelExerciseStepFailure = (exerciseId: string, stepId: string, error: UnexpectedError) => ({\n  type: TYPES.CANCEL_EXERCISE_STEP.FAILURE,\n  exerciseId,\n  stepId,\n  error\n});\n\n// ADD_EXERCISE_STEP\nexport const addExerciseStepRequest = (exerciseId: string, stepType: StepType, stepContent?: Step) => {\n  const step = createExerciseStep(stepType, stepContent);\n  return {\n    type: TYPES.ADD_EXERCISE_STEP.REQUEST,\n    exerciseId,\n    stepType,\n    step\n  };\n};\nexport const addExerciseStepSuccess = (exercise: Exercise) => ({\n  type: TYPES.ADD_EXERCISE_STEP.SUCCESS,\n  exercise\n});\nexport const addExerciseStepFailure = (exerciseId: string, error: UnexpectedError) => ({\n  type: TYPES.ADD_EXERCISE_STEP.FAILURE,\n  exerciseId,\n  error\n});\n\nconst createExerciseStep = (type: StepType, stepContent?: Step) => {\n  switch (type) {\n    case 'timed':\n      return {\n        duration: 0,\n        rest: 0,\n        ...stepContent,\n        id: uuidv4(),\n        done: false\n      };\n    case 'repetition':\n      return {\n        kg: 0,\n        repetition: 1,\n        rest: 0,\n        ...stepContent,\n        id: uuidv4(),\n        done: false\n      };\n    default:\n      throw new Error(`Unknown step type \"${type}\"`);\n  }\n};\n\n// DELETE_EXERCISE_STEP\nexport const deleteExerciseStepRequest = (exerciseId: string, stepId: string) => ({\n  type: TYPES.DELETE_EXERCISE_STEP.REQUEST,\n  exerciseId,\n  stepId\n});\nexport const deleteExerciseStepSuccess = (exercise: Exercise) => ({\n  type: TYPES.DELETE_EXERCISE_STEP.SUCCESS,\n  exercise\n});\nexport const deleteExerciseStepFailure = (exerciseId: string, stepId: string, error: UnexpectedError) => ({\n  type: TYPES.DELETE_EXERCISE_STEP.FAILURE,\n  exerciseId,\n  stepId,\n  error\n});\n\n// UPDATE_EXERCISE_STEP\nexport const updateExerciseStepRequest = (exerciseId: string, stepId: string, contentPatch: Partial<Step>) => ({\n  type: TYPES.UPDATE_EXERCISE_STEP.REQUEST,\n  exerciseId,\n  stepId,\n  contentPatch\n});\nexport const updateExerciseStepSuccess = (exercise: Exercise) => ({\n  type: TYPES.UPDATE_EXERCISE_STEP.SUCCESS,\n  exercise\n});\nexport const updateExerciseStepFailure = (\n  exerciseId: string,\n  stepId: string,\n  contentPatch: Partial<Step>,\n  error: UnexpectedError\n) => ({\n  type: TYPES.DELETE_EXERCISE_STEP.FAILURE,\n  exerciseId,\n  stepId,\n  contentPatch,\n  error\n});\n\n// MOVE_EXERCISE_STEP\nexport const moveExerciseStepRequest = (exerciseId: string, oldIndex: number, newIndex: number) => ({\n  type: TYPES.MOVE_EXERCISE_STEP.REQUEST,\n  exerciseId,\n  oldIndex,\n  newIndex\n});\nexport const moveExerciseStepSuccess = (exercise: Exercise) => ({\n  type: TYPES.MOVE_EXERCISE_STEP.SUCCESS,\n  exercise\n});\nexport const moveExerciseStepFailure = (\n  exerciseId: string,\n  oldIndex: number,\n  newIndex: number,\n  error: UnexpectedError\n) => ({\n  type: TYPES.MOVE_EXERCISE_STEP.FAILURE,\n  exerciseId,\n  oldIndex,\n  newIndex,\n  error\n});\n\n// START_EXERCISE\nexport const startExercise = (exercise: Exercise) => ({\n  type: TYPES.START_EXERCISE,\n  exercise\n});\n\n// STOP_EXERCISE\nexport const stopExercise = (exercise: Exercise) => ({\n  type: TYPES.STOP_EXERCISE,\n  exercise\n});\n\n// PAUSE_EXERCISE\nexport const pauseExercise = (exercise: Exercise) => ({\n  type: TYPES.PAUSE_EXERCISE,\n  exercise\n});\n","import React, { Component } from 'react';\r\nimport { connect, MapStateToProps, MapDispatchToProps } from 'react-redux';\r\nimport { getExerciseList, areExercisesLoading, hasErrorLoadingExercises } from '../../../store/selectors';\r\nimport ExerciseListPage from '../presentational/ExerciseListPage';\r\nimport {\r\n  fetchAllExercisesRequest,\r\n  deleteExerciseRequest,\r\n  acknowledgeExerciseRequest,\r\n  cancelExerciseRequest,\r\n  addExerciseRequest\r\n} from '../../../store/actions';\r\nimport { AppStore } from '../../../store/reducer';\r\nimport { Exercise } from '../../../store/types';\r\n\r\ntype ExerciceListPageContainerStateProps = {\r\n  exercises: Exercise[];\r\n  loading: boolean;\r\n  errorLoading: boolean;\r\n};\r\n\r\ntype ExerciceListPageContainerDispatchProps = {\r\n  load: () => void;\r\n  onAddExercise: () => void;\r\n  onDeleteExercise: (id: string) => void;\r\n  onAcknowledgeExercise: (id: string) => void;\r\n  onCancelExercise: (id: string) => void;\r\n};\r\n\r\nexport type ExerciceListPageContainerOwnProps = {};\r\n\r\ntype ExerciceListPageContainerProps = ExerciceListPageContainerStateProps &\r\n  ExerciceListPageContainerDispatchProps &\r\n  ExerciceListPageContainerOwnProps;\r\n\r\nconst mapStateToProps: MapStateToProps<\r\n  ExerciceListPageContainerStateProps,\r\n  ExerciceListPageContainerOwnProps,\r\n  AppStore\r\n> = state => ({\r\n  exercises: getExerciseList(state),\r\n  loading: areExercisesLoading(state),\r\n  errorLoading: hasErrorLoadingExercises(state)\r\n});\r\n\r\nconst mapDispatchToProps: MapDispatchToProps<\r\n  ExerciceListPageContainerDispatchProps,\r\n  ExerciceListPageContainerOwnProps\r\n> = dispatch => ({\r\n  load: () => dispatch(fetchAllExercisesRequest()),\r\n  onAddExercise: () => dispatch(addExerciseRequest()),\r\n  onDeleteExercise: (id: string) => dispatch(deleteExerciseRequest(id)),\r\n  onAcknowledgeExercise: (id: string) => dispatch(acknowledgeExerciseRequest(id)),\r\n  onCancelExercise: (id: string) => dispatch(cancelExerciseRequest(id))\r\n});\r\n\r\nclass ExerciceListPageContainer extends Component<ExerciceListPageContainerProps> {\r\n  componentDidMount() {\r\n    if (this.props.exercises.length === 0) {\r\n      this.props.load();\r\n    }\r\n  }\r\n  render() {\r\n    const { load, ...restProps } = this.props;\r\n    return <ExerciseListPage {...restProps} />;\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ExerciceListPageContainer);\r\n","import React from 'react';\r\nimport { SortableHandle } from 'react-sortable-hoc';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faBars, faDumbbell, faTimes, faHandPaper, faClock } from '@fortawesome/free-solid-svg-icons';\r\nimport { StepRepetition as StepRepetitionType, StepTimed as StepTimedType } from '../../../store/types';\r\n\r\nconst DragHandle = SortableHandle(() => (\r\n  <div className=\"list-group-item-drag-handle\" style={{ width: '1em' }}>\r\n    <FontAwesomeIcon icon={faBars} />\r\n  </div>\r\n));\r\n\r\nconst InputNumber = ({\r\n  defaultValue,\r\n  placeholder,\r\n  onChange\r\n}: {\r\n  defaultValue: number;\r\n  placeholder: string;\r\n  onChange: (e: React.SyntheticEvent<HTMLInputElement>) => void;\r\n}) => (\r\n  <input\r\n    type=\"number\"\r\n    className=\"form-control form-control-sm mx-auto\"\r\n    placeholder={placeholder}\r\n    defaultValue={`${defaultValue}`}\r\n    onChange={onChange}\r\n    min=\"0\"\r\n    max=\"999\"\r\n    style={{ width: '4em' }}\r\n    required\r\n  />\r\n);\r\n\r\nexport type StepRepetitionProps = {\r\n  kg: StepRepetitionType['kg'];\r\n  repetition: StepRepetitionType['repetition'];\r\n  rest: StepRepetitionType['rest'];\r\n  onContentChange: (content: Partial<StepRepetitionType>) => void;\r\n};\r\n\r\nexport const StepRepetition = ({ kg, repetition, rest, onContentChange }: StepRepetitionProps) => (\r\n  <div className=\"d-flex justify-content-between p-3\">\r\n    <div>\r\n      <InputNumber\r\n        defaultValue={kg}\r\n        placeholder=\"Kg\"\r\n        onChange={(e: React.SyntheticEvent<HTMLInputElement>) =>\r\n          onContentChange({ kg: parseFloat(e.currentTarget.value) })\r\n        }\r\n      />\r\n    </div>\r\n    <div>\r\n      <InputNumber\r\n        defaultValue={repetition}\r\n        placeholder=\"Repetition\"\r\n        onChange={e => onContentChange({ repetition: parseFloat(e.currentTarget.value) })}\r\n      />\r\n    </div>\r\n    <div>\r\n      <InputNumber\r\n        defaultValue={rest}\r\n        placeholder=\"Rest\"\r\n        onChange={e => onContentChange({ rest: parseFloat(e.currentTarget.value) })}\r\n      />\r\n    </div>\r\n    <DragHandle />\r\n  </div>\r\n);\r\n\r\nexport const HeaderStepRepetition = () => (\r\n  <header className=\"list-group-item-header border-top-0 border-left-0 border-right-0 d-flex justify-content-between text-dark text-center\">\r\n    <div style={{ width: '4em' }}>\r\n      <FontAwesomeIcon icon={faDumbbell} size=\"lg\" />\r\n    </div>\r\n    <div style={{ width: '4em' }}>\r\n      <FontAwesomeIcon icon={faTimes} size=\"lg\" />\r\n    </div>\r\n    <div style={{ width: '4em' }}>\r\n      <FontAwesomeIcon icon={faHandPaper} size=\"lg\" />\r\n    </div>\r\n    <div style={{ width: '1em' }} />\r\n  </header>\r\n);\r\n\r\nexport const HeaderStepTimed = () => (\r\n  <header className=\"list-group-item-header border-top-0 border-left-0 border-right-0 d-flex justify-content-between text-dark text-center\">\r\n    <div style={{ width: '4em' }}>\r\n      <FontAwesomeIcon icon={faClock} size=\"lg\" />\r\n    </div>\r\n    <div style={{ width: '4em' }}>\r\n      <FontAwesomeIcon icon={faHandPaper} size=\"lg\" />\r\n    </div>\r\n    <div style={{ width: '1em' }} />\r\n  </header>\r\n);\r\n\r\nexport type StepTimedProps = {\r\n  duration: StepTimedType['duration'];\r\n  rest: StepTimedType['rest'];\r\n  onContentChange: (content: Partial<StepTimedType>) => void;\r\n};\r\n\r\nexport const StepTimed = ({ duration, rest, onContentChange }: StepTimedProps) => (\r\n  <div className=\"d-flex justify-content-between p-3\">\r\n    <div>\r\n      <InputNumber\r\n        defaultValue={duration}\r\n        placeholder=\"Duration\"\r\n        onChange={e => onContentChange({ duration: parseFloat(e.currentTarget.value) })}\r\n      />\r\n    </div>\r\n    <div>\r\n      <InputNumber\r\n        defaultValue={rest}\r\n        placeholder=\"Rest\"\r\n        onChange={e => onContentChange({ rest: parseFloat(e.currentTarget.value) })}\r\n      />\r\n    </div>\r\n    <DragHandle />\r\n  </div>\r\n);\r\n","import React, { Component, ReactNode } from 'react';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faDumbbell, faStopwatch } from '@fortawesome/free-solid-svg-icons';\nimport SwipeableListItem, {\n  SwipedItemAcknowledged,\n  SwipedItemRemoved,\n  SwipedItemCanceled\n} from '../../../components/swipeable-list-item/SwipeableListItem';\nimport { StepRepetition, HeaderStepRepetition, HeaderStepTimed, StepTimed } from './ExerciseStep';\nimport {\n  Exercise as ExerciseType,\n  StepType,\n  Step,\n  StepTimed as StepTimedType,\n  StepRepetition as StepRepetitionType\n} from '../../../store/types';\n\ntype SortableStepProps = {\n  type: StepType;\n  step: Step;\n  onSwipeLeft: () => void;\n  onSwipeRight: () => void;\n  leftSwipeElement: ReactNode;\n  rightSwipeElement: ReactNode;\n  onContentChange: (content: Partial<StepRepetitionType>) => void;\n};\n\nconst SortableStep = SortableElement(\n  ({\n    type,\n    step: { done, ...content },\n    onSwipeLeft,\n    onSwipeRight,\n    leftSwipeElement,\n    rightSwipeElement,\n    onContentChange\n  }: SortableStepProps) => (\n    <SwipeableListItem\n      className={'list-group-item p-0 ' + (done ? 'list-group-item-success' : '')}\n      onSwipeLeft={onSwipeLeft}\n      onSwipeRight={onSwipeRight}\n      leftSwipeElement={leftSwipeElement}\n      rightSwipeElement={rightSwipeElement}\n    >\n      {type === 'timed' ? (\n        <StepTimed\n          duration={(content as StepTimedType).duration}\n          rest={content.rest}\n          onContentChange={onContentChange}\n        />\n      ) : (\n        <StepRepetition\n          kg={(content as StepRepetitionType).kg}\n          repetition={(content as StepRepetitionType).repetition}\n          rest={content.rest}\n          onContentChange={onContentChange}\n        />\n      )}\n    </SwipeableListItem>\n  )\n);\n\ntype SortableStepListProps = {\n  type: StepType;\n  onSwipeLeft: (step: Step) => void;\n  onSwipeRight: (step: Step) => void;\n  leftSwipeElement: ReactNode;\n  rightSwipeElement: ReactNode;\n  steps: Step[];\n  onUpdateStep: (stepId: string) => (content: Partial<StepRepetitionType>) => void;\n};\n\nconst SortableStepList = SortableContainer(\n  ({\n    type,\n    onSwipeLeft,\n    onSwipeRight,\n    leftSwipeElement,\n    rightSwipeElement,\n    steps,\n    onUpdateStep\n  }: SortableStepListProps) => (\n    <ul className=\"list-group list-group-flush\">\n      {steps.map((step, index) => (\n        <SortableStep\n          key={`item-${step.id}`}\n          index={index}\n          type={type}\n          step={step}\n          onSwipeRight={() => onSwipeRight(step)}\n          onSwipeLeft={() => onSwipeLeft(step)}\n          leftSwipeElement={leftSwipeElement}\n          rightSwipeElement={rightSwipeElement}\n          onContentChange={onUpdateStep(step.id)}\n        />\n      ))}\n    </ul>\n  )\n);\n\nexport type ExerciseProps = {\n  exercise: ExerciseType;\n  onAddFirstStep: (stepType: StepType) => (stepContent?: Step) => void;\n  onDeleteStep: (stepId: string) => void;\n  onAcknowledgeStep: (stepId: string) => void;\n  onCancelStep: (stepId: string) => void;\n  onUpdateStep: (stepId: string) => (contentPatch: Partial<Step>) => void;\n  onMoveStep: (p: { oldIndex: number; newIndex: number }) => void;\n  onStartExercise: () => void;\n  onExerciseNameChange: (name: string) => void;\n};\n\nexport type ExerciseState = {\n  name: string;\n};\n\nclass Exercise extends Component<ExerciseProps, ExerciseState> {\n  constructor(props: ExerciseProps) {\n    super(props);\n    const { name } = props.exercise;\n    this.state = {\n      name: name\n    };\n  }\n\n  render() {\n    const { name } = this.state;\n    const {\n      onAddFirstStep,\n      onDeleteStep,\n      onAcknowledgeStep,\n      onCancelStep,\n      onUpdateStep,\n      onMoveStep,\n      onExerciseNameChange,\n      exercise: { type, steps }\n    } = this.props;\n    return (\n      <article className=\"card\">\n        <form onSubmit={e => e.preventDefault()}>\n          <header className=\"card-body\">\n            <label htmlFor=\"exerciseName\" className=\"d-none\">\n              Exercise name\n            </label>\n            <input\n              type=\"text\"\n              className=\"form-control font-weight-bold text-primary\"\n              id=\"exerciseName\"\n              placeholder=\"Your exercise name\"\n              defaultValue={name}\n              onChange={e => onExerciseNameChange(e.currentTarget.value)}\n              autoComplete=\"off\"\n              required\n            />\n          </header>\n          <>\n            {type && steps && steps.length > 0 ? (\n              <section>\n                {type === 'timed' ? <HeaderStepTimed /> : <HeaderStepRepetition />}\n                <SortableStepList\n                  type={type}\n                  steps={steps.filter(step => !step.done)}\n                  onSortEnd={({ oldIndex, newIndex }) => onMoveStep({ oldIndex, newIndex })}\n                  onSwipeLeft={step => onAcknowledgeStep(step.id)}\n                  onSwipeRight={step => onDeleteStep(step.id)}\n                  leftSwipeElement={<SwipedItemAcknowledged />}\n                  rightSwipeElement={<SwipedItemRemoved />}\n                  onUpdateStep={onUpdateStep}\n                  lockAxis=\"y\"\n                  useDragHandle={true}\n                  helperClass=\"list-group-item-sortable-helper\"\n                />\n                <SortableStepList\n                  type={type}\n                  steps={steps.filter(step => step.done)}\n                  onSortEnd={({ oldIndex, newIndex }) => onMoveStep({ oldIndex, newIndex })}\n                  onSwipeLeft={step => onCancelStep(step.id)}\n                  onSwipeRight={step => onDeleteStep(step.id)}\n                  leftSwipeElement={<SwipedItemCanceled />}\n                  rightSwipeElement={<SwipedItemRemoved />}\n                  onUpdateStep={onUpdateStep}\n                  lockAxis=\"y\"\n                  useDragHandle={true}\n                  helperClass=\"list-group-item-sortable-helper\"\n                />\n              </section>\n            ) : (\n              <section className=\"card-body text-center\">\n                <p className=\"card-text lead\">Choose your exercise type:</p>\n                <button type=\"button\" className=\"btn btn-outline-primary m-1\" onClick={() => onAddFirstStep('timed')()}>\n                  <FontAwesomeIcon icon={faStopwatch} /> Time serie\n                </button>\n                <button\n                  type=\"button\"\n                  className=\"btn btn-outline-primary m-1\"\n                  onClick={() => onAddFirstStep('repetition')()}\n                >\n                  <FontAwesomeIcon icon={faDumbbell} /> Repetition serie\n                </button>\n              </section>\n            )}\n          </>\n        </form>\n      </article>\n    );\n  }\n}\n\nexport default Exercise;\n","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlusSquare, faPlay, faTimes, faPoo, faSun, faQuidditch } from '@fortawesome/free-solid-svg-icons';\nimport { Link } from 'react-router-dom';\nimport EmptyPage from '../../../components/empty-page/EmptyPage';\nimport { Layout } from '../../../components/layout';\nimport { StepType, Step, Exercise as ExerciseType } from '../../../store/types';\nimport Exercise from './Exercise';\n\nconst LoadingPage = () => (\n  <EmptyPage text=\"Loading ...\" icon={faSun} action={<div>Your exercise is being loaded</div>} />\n);\nconst ErrorLoadingPage = () => (\n  <EmptyPage\n    text=\"Error loading your exercise\"\n    icon={faPoo}\n    action={<div>Sorry an error occured loading your exercice !</div>}\n  />\n);\nconst ExerciseNotFoundPage = () => (\n  <EmptyPage\n    text=\"Exercise not found\"\n    icon={faQuidditch}\n    action={\n      <Link className=\"btn btn-primary\" to=\"/\">\n        Back to exercises\n      </Link>\n    }\n  />\n);\n\nconst firstStepIdToRun = (steps: Step[]) => {\n  const stepNotDone = steps.filter(step => !step.done);\n  return stepNotDone.length > 0 ? stepNotDone[0].id : steps.length > 0 ? steps[0].id : undefined;\n};\n\nexport type ExercisePageProps = {\n  loading?: boolean;\n  exercise?: ExerciseType;\n  errorLoading?: boolean;\n  onAddStep: (exerciseId: string) => (stepType: StepType) => (stepContent?: Step) => void;\n  onDeleteStep: (exerciseId: string) => (stepId: string) => void;\n  onAcknowledgeStep: (exerciseId: string) => (stepId: string) => void;\n  onCancelStep: (exerciseId: string) => (stepId: string) => void;\n  onUpdateStep: (exerciseId: string) => (stepId: string) => (contentPatch: Partial<Step>) => void;\n  onMoveStep: (exerciseId: string) => (p: { oldIndex: number; newIndex: number }) => void;\n  onStartExercise: () => void;\n  onExerciseNameChange: (exerciseId: string) => (name: string) => void;\n};\n\nconst ExercisePage = ({\n  loading = false,\n  errorLoading = false,\n  exercise,\n  onAddStep,\n  onDeleteStep,\n  onAcknowledgeStep,\n  onCancelStep,\n  onStartExercise,\n  onUpdateStep,\n  onMoveStep,\n  onExerciseNameChange\n}: ExercisePageProps) => {\n  const header = (\n    <Link to=\"/\" className=\"btn btn-link text-dark\" aria-label=\"Back to exercises list\">\n      <FontAwesomeIcon icon={faTimes} />\n    </Link>\n  );\n  let navItems = [\n    loading || errorLoading || !exercise || exercise.steps.length === 0 ? (\n      <button key=\"nav-start\" className=\"btn btn-link nav-link btn-block\" disabled>\n        <FontAwesomeIcon icon={faPlay} /> Start\n      </button>\n    ) : (\n      <Link\n        to={`/${exercise!.id}/runner/${firstStepIdToRun(exercise.steps)}`}\n        key=\"nav-start\"\n        className=\"btn btn-link nav-link btn-block\"\n      >\n        <FontAwesomeIcon icon={faPlay} /> Start\n      </Link>\n    )\n  ];\n  if (exercise && exercise.type) {\n    navItems = [\n      ...navItems,\n      <button\n        key=\"nav-new-step\"\n        className=\"btn btn-link nav-link btn-block\"\n        disabled={loading || errorLoading}\n        onClick={() => onAddStep(exercise.id)(exercise.type!)(exercise.steps[exercise.steps.length - 1])}\n      >\n        <FontAwesomeIcon icon={faPlusSquare} /> New step\n      </button>\n    ];\n  }\n  return (\n    <Layout header={header} navItems={navItems}>\n      {loading ? (\n        <LoadingPage />\n      ) : errorLoading ? (\n        <ErrorLoadingPage />\n      ) : exercise ? (\n        <Exercise\n          exercise={exercise}\n          onAddFirstStep={onAddStep(exercise.id)}\n          onDeleteStep={onDeleteStep(exercise.id)}\n          onAcknowledgeStep={onAcknowledgeStep(exercise.id)}\n          onCancelStep={onCancelStep(exercise.id)}\n          onUpdateStep={onUpdateStep(exercise.id)}\n          onMoveStep={onMoveStep(exercise.id)}\n          onExerciseNameChange={onExerciseNameChange(exercise.id)}\n          onStartExercise={() => {\n            return;\n          }}\n        />\n      ) : (\n        <ExerciseNotFoundPage />\n      )}\n    </Layout>\n  );\n};\n\nexport default ExercisePage;\n","import React, { Component } from 'react';\nimport { connect, MapStateToProps, MapDispatchToProps } from 'react-redux';\nimport { getExerciseById, areExercisesLoading, hasErrorLoadingExercises } from '../../../store/selectors';\nimport ExercisePage from '../presentational/ExercisePage';\nimport {\n  fetchAllExercisesRequest,\n  updateExerciseNameRequest,\n  addExerciseStepRequest,\n  deleteExerciseStepRequest,\n  acknowledgeExerciseStepRequest,\n  cancelExerciseStepRequest,\n  updateExerciseStepRequest,\n  moveExerciseStepRequest\n} from '../../../store/actions';\nimport { AppStore } from '../../../store/reducer';\nimport { StepType, Step, Exercise } from '../../../store/types';\n\ntype ExercicePageContainerStateProps = {\n  exercise: Exercise;\n  loading: boolean;\n  errorLoading: boolean;\n};\n\ntype ExercicePageContainerDispatchProps = {\n  load: () => void;\n  onAddStep: (exerciseId: string) => (stepType: StepType) => (stepContent?: Step) => void;\n  onDeleteStep: (exerciseId: string) => (stepId: string) => void;\n  onAcknowledgeStep: (exerciseId: string) => (stepId: string) => void;\n  onCancelStep: (exerciseId: string) => (stepId: string) => void;\n  onUpdateStep: (exerciseId: string) => (stepId: string) => (contentPatch: Partial<Step>) => void;\n  onMoveStep: (exerciseId: string) => (p: { oldIndex: number; newIndex: number }) => void;\n  onStartExercise: () => void;\n  onExerciseNameChange: (id: string) => (name: string) => void;\n};\n\nexport type ExercicePageContainerOwnProps = {\n  exerciseId: string;\n};\n\nconst mapStateToProps: MapStateToProps<ExercicePageContainerStateProps, ExercicePageContainerOwnProps, AppStore> = (\n  state,\n  ownProps\n) => ({\n  exercise: getExerciseById(state)(ownProps.exerciseId),\n  loading: areExercisesLoading(state),\n  errorLoading: hasErrorLoadingExercises(state)\n});\n\nconst mapDispatchToProps: MapDispatchToProps<\n  ExercicePageContainerDispatchProps,\n  ExercicePageContainerOwnProps\n> = dispatch => {\n  return {\n    load: () => dispatch(fetchAllExercisesRequest()),\n    onAddStep: (exerciseId: string) => (stepType: StepType) => (stepContent?: Step) =>\n      dispatch(addExerciseStepRequest(exerciseId, stepType, stepContent)),\n    onDeleteStep: (exerciseId: string) => (stepId: string) => dispatch(deleteExerciseStepRequest(exerciseId, stepId)),\n    onAcknowledgeStep: (exerciseId: string) => (stepId: string) =>\n      dispatch(acknowledgeExerciseStepRequest(exerciseId, stepId)),\n    onCancelStep: (exerciseId: string) => (stepId: string) => dispatch(cancelExerciseStepRequest(exerciseId, stepId)),\n    onUpdateStep: (exerciseId: string) => (stepId: string) => (contentPatch: Partial<Step>) =>\n      dispatch(updateExerciseStepRequest(exerciseId, stepId, contentPatch)),\n    onMoveStep: (exerciseId: string) => ({ oldIndex, newIndex }: { oldIndex: number; newIndex: number }) =>\n      dispatch(moveExerciseStepRequest(exerciseId, oldIndex, newIndex)),\n    onStartExercise: () => {\n      return;\n    },\n    onExerciseNameChange: (id: string) => (name: string) => dispatch(updateExerciseNameRequest(id, name))\n  };\n};\n\ntype ExercicePageContainerProps = ExercicePageContainerStateProps &\n  ExercicePageContainerDispatchProps &\n  ExercicePageContainerOwnProps;\n\nclass ExercicePageContainer extends Component<ExercicePageContainerProps> {\n  componentDidMount() {\n    if (!this.props.exercise) {\n      this.props.load();\n    }\n  }\n  render() {\n    const { load, ...restProps } = this.props;\n    return <ExercisePage {...restProps} />;\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ExercicePageContainer);\n","import { Exercise } from './types';\nimport { TYPES as actions, Action } from './actions';\nimport { combineReducers, Reducer } from 'redux';\nimport { notificationReducer } from '../components/notification';\n\nexport type ExerciseStore = {\n  loading: boolean;\n  error: any;\n  ids: string[];\n  byId: {\n    [id: string]: Exercise;\n  };\n};\n\nexport const exsercisesInitialState: ExerciseStore = { loading: false, error: null, ids: [], byId: {} };\n\nexport const exercises: Reducer<ExerciseStore, Action> = (state = exsercisesInitialState, action) => {\n  switch (action.type) {\n    case actions.FETCH_EXERCISES.REQUEST:\n    case actions.FETCH_EXERCISE.REQUEST:\n      return { ...state, loading: true, error: null };\n    case actions.FETCH_EXERCISES.SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        ids: action.exercises.map((e: Exercise) => e.id),\n        byId: action.exercises.reduce((byId: ExerciseStore['byId'], e: Exercise) => ({ ...byId, [e.id]: e }), {})\n      };\n    case actions.FETCH_EXERCISES.FAILURE:\n    case actions.FETCH_EXERCISE.FAILURE:\n      return { ...state, loading: false, error: action.error };\n    case actions.ADD_EXERCISE.SUCCESS:\n    case actions.FETCH_EXERCISE.SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        ids: [...state.ids, action.exercise.id],\n        byId: { ...state.byId, [action.exercise.id]: action.exercise }\n      };\n    case actions.DELETE_EXERCISE.SUCCESS:\n      return removeExerciseFromStateById(state, action.id);\n    case actions.ACKNOWLEDGE_EXERCISE.SUCCESS:\n    case actions.CANCEL_EXERCISE.SUCCESS:\n    case actions.ACKNOWLEDGE_EXERCISE_STEP.SUCCESS:\n    case actions.CANCEL_EXERCISE_STEP.SUCCESS:\n    case actions.UPDATE_EXERCISE_NAME.SUCCESS:\n    case actions.ADD_EXERCISE_STEP.SUCCESS:\n    case actions.DELETE_EXERCISE_STEP.SUCCESS:\n    case actions.UPDATE_EXERCISE_STEP.SUCCESS:\n    case actions.MOVE_EXERCISE_STEP.SUCCESS:\n      return { ...state, byId: { ...state.byId, [action.exercise.id]: { ...action.exercise } } };\n    case actions.START_EXERCISE:\n      return state.byId[action.exercise.id]\n        ? {\n            ...state,\n            byId: {\n              ...state.byId,\n              [action.exercise.id]: {\n                ...state.byId[action.exercise.id],\n                progress: {\n                  ...state.byId[action.exercise.id].progress,\n                  status: 'running',\n                  startedAt: new Date()\n                }\n              }\n            }\n          }\n        : state;\n    case actions.STOP_EXERCISE:\n      return state.byId[action.exercise.id]\n        ? {\n            ...state,\n            byId: {\n              ...state.byId,\n              [action.exercise.id]: {\n                ...state.byId[action.exercise.id],\n                progress: {\n                  ...state.byId[action.exercise.id].progress,\n                  status: 'stopped',\n                  stoppedAt: new Date()\n                }\n              }\n            }\n          }\n        : state;\n    case actions.PAUSE_EXERCISE:\n      return state.byId[action.exercise.id]\n        ? {\n            ...state,\n            byId: {\n              ...state.byId,\n              [action.exercise.id]: {\n                ...state.byId[action.exercise.id],\n                progress: { ...state.byId[action.exercise.id].progress, status: 'paused', pausedAt: new Date() }\n              }\n            }\n          }\n        : state;\n    default:\n      return state;\n  }\n};\n\nconst removeExerciseFromStateById = (state: ExerciseStore, exerciseId: string) => {\n  const restIds = state.ids.filter(id => id !== exerciseId);\n  const restById = restIds.reduce((byId, id) => ({ ...byId, [id]: state.byId[id] }), {});\n  return { ...state, ids: restIds, byId: restById };\n};\n\nconst reducer = combineReducers({\n  exercises,\n  notification: notificationReducer\n});\n\nexport type AppStore = ReturnType<typeof reducer>;\n\nexport default reducer;\n","import idb from 'idb';\r\nimport { Exercise } from '../store/types';\r\n\r\nconst RW = 'readwrite';\r\n\r\nconst dbname = 'oeuf-db';\r\nconst version = 1;\r\n\r\nconst EXERCISE_STORE = 'exercise';\r\n\r\nconst dbPromise = idb.open(dbname, version, upgradeDB => {\r\n  switch (upgradeDB.oldVersion) {\r\n    case 0:\r\n    default:\r\n      upgradeDB.createObjectStore<Exercise, string>(EXERCISE_STORE, { keyPath: 'id' });\r\n  }\r\n});\r\n\r\nexport default dbPromise;\r\n\r\n// EXERCISE\r\n\r\nexport const putExercise = async (exercise: Exercise) => {\r\n  const db = await dbPromise;\r\n  const tx = db.transaction(EXERCISE_STORE, RW);\r\n  tx.objectStore<Exercise, string>(EXERCISE_STORE).put(exercise);\r\n  await tx.complete;\r\n  return exercise;\r\n};\r\n\r\nexport const patchExerciseById = async (id: string, patchExercise: Partial<Exercise>) => {\r\n  const db = await dbPromise;\r\n  const tx = db.transaction(EXERCISE_STORE, RW);\r\n  const store = tx.objectStore<Exercise, string>(EXERCISE_STORE);\r\n  const exercise = await store.get(id);\r\n  if (exercise) {\r\n    const newExercise = { ...exercise, ...patchExercise };\r\n    store.put(newExercise);\r\n    await tx.complete;\r\n    return newExercise;\r\n  } else {\r\n    throw new Error(`Exercise not found (id=\"${id}\"\")`);\r\n  }\r\n};\r\n\r\nexport const deleteExercise = async (id: string) => {\r\n  const db = await dbPromise;\r\n  const tx = db.transaction(EXERCISE_STORE, RW);\r\n  tx.objectStore<Exercise, string>(EXERCISE_STORE).delete(id);\r\n  return tx.complete;\r\n};\r\n\r\nexport const getAllExercises = async () => {\r\n  const db = await dbPromise;\r\n  return db\r\n    .transaction(EXERCISE_STORE)\r\n    .objectStore<Exercise, string>(EXERCISE_STORE)\r\n    .getAll();\r\n};\r\n\r\nexport const getExerciseById = async (id: string) => {\r\n  const db = await dbPromise;\r\n  return db\r\n    .transaction(EXERCISE_STORE)\r\n    .objectStore<Exercise, string>(EXERCISE_STORE)\r\n    .get(id);\r\n};\r\n","export const SERVICEWORKER_REGISTRATION_ERROR: 'SERVICEWORKER_REGISTRATION_ERROR' = 'SERVICEWORKER_REGISTRATION_ERROR';\nexport const registrationError = ({ errorMessage, error }: { errorMessage: string; error?: Error }) => ({\n  type: SERVICEWORKER_REGISTRATION_ERROR,\n  error,\n  errorMessage\n});\n\nexport const SERVICEWORKER_REGISTRATION_SUCCESS: 'SERVICEWORKER_REGISTRATION_SUCCESS' =\n  'SERVICEWORKER_REGISTRATION_SUCCESS';\nexport const registrationSuccess = () => ({ type: SERVICEWORKER_REGISTRATION_SUCCESS });\n\nexport const SERVICEWORKER_NEW_CONTENT_AVAILABLE: 'SERVICEWORKER_NEW_CONTENT_AVAILABLE' =\n  'SERVICEWORKER_NEW_CONTENT_AVAILABLE';\nexport const newContentAvailable = () => ({ type: SERVICEWORKER_NEW_CONTENT_AVAILABLE });\n\nexport const SERVICEWORKER_CONTENT_CACHED: 'SERVICEWORKER_CONTENT_CACHED' = 'SERVICEWORKER_CONTENT_CACHED';\nexport const contentCached = () => ({ type: SERVICEWORKER_CONTENT_CACHED });\n\nexport const SERVICEWORKER_OFFLINE: 'SERVICEWORKER_OFFLINE' = 'SERVICEWORKER_OFFLINE';\nexport const offlineMode = (offline = true) => ({ offline, type: SERVICEWORKER_OFFLINE });\n\nexport type ServiceWorkerAction =\n  | ReturnType<typeof registrationError>\n  | ReturnType<typeof registrationSuccess>\n  | ReturnType<typeof newContentAvailable>\n  | ReturnType<typeof offlineMode>\n  | ReturnType<typeof contentCached>;\n","import React from 'react';\nimport { all, put, takeLatest } from 'redux-saga/effects';\nimport {\n  SERVICEWORKER_REGISTRATION_ERROR,\n  registrationError,\n  SERVICEWORKER_NEW_CONTENT_AVAILABLE,\n  SERVICEWORKER_CONTENT_CACHED,\n  SERVICEWORKER_OFFLINE,\n  newContentAvailable,\n  contentCached,\n  offlineMode\n} from './actions';\nimport { pushNotification } from 'components/notification';\n\nfunction* onRegistrationError({ errorMessage }: ReturnType<typeof registrationError>) {\n  yield put(pushNotification({ message: errorMessage, type: 'danger' }));\n}\n\nfunction* onNewContentAvailable({  }: ReturnType<typeof newContentAvailable>) {\n  yield put(\n    pushNotification({\n      message: 'New content is available; please refresh.',\n      actions: [\n        <a key=\"refresh-button\" href=\"\" onClick={() => window.location.reload()}>\n          REFRESH\n        </a>\n      ]\n    })\n  );\n}\n\nfunction* onContentCached({  }: ReturnType<typeof contentCached>) {\n  yield put(pushNotification({ message: 'Content is cached for offline use.' }));\n}\n\nfunction* onofflineReady({ offline }: ReturnType<typeof offlineMode>) {\n  if (offline) {\n    yield put(pushNotification({ message: \"Offline ? Keep working out it's fine !\" }));\n  }\n}\n\nexport function* watchServiceWorker() {\n  yield all([\n    yield takeLatest(SERVICEWORKER_REGISTRATION_ERROR, onRegistrationError),\n    yield takeLatest(SERVICEWORKER_NEW_CONTENT_AVAILABLE, onNewContentAvailable),\n    yield takeLatest(SERVICEWORKER_CONTENT_CACHED, onContentCached),\n    yield takeLatest(SERVICEWORKER_OFFLINE, onofflineReady)\n  ]);\n}\n","import { Dispatch } from 'redux';\nimport {\n  registrationError,\n  registrationSuccess,\n  newContentAvailable,\n  ServiceWorkerAction,\n  contentCached,\n  offlineMode\n} from './redux/actions';\n\nexport * from './redux/sagas';\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(dispatch: Dispatch<ServiceWorkerAction>) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      dispatch(\n        registrationError({ errorMessage: \"Our service worker won't work if PUBLIC_URL is on a different origin\" })\n      );\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, dispatch);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => dispatch(registrationSuccess()));\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, dispatch);\n      }\n    });\n    window.addEventListener('online', updateOnlineStatus(dispatch));\n    window.addEventListener('offline', updateOnlineStatus(dispatch));\n  } else {\n    dispatch(registrationError({ errorMessage: 'Service worker is not supported by your navigator.' }));\n  }\n}\n\nconst updateOnlineStatus = (dispatch: Dispatch<ServiceWorkerAction>) => () => {\n  dispatch(offlineMode(navigator.onLine));\n};\n\nfunction registerValidSW(swUrl: string, dispatch: Dispatch<ServiceWorkerAction>) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker!.onstatechange = () => {\n          if (installingWorker!.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              dispatch(newContentAvailable());\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              dispatch(contentCached());\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      dispatch(\n        registrationError({\n          errorMessage: 'Error during service worker registration',\n          error\n        })\n      );\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, dispatch: Dispatch<ServiceWorkerAction>) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (response.status === 404 || response.headers.get('content-type')!.indexOf('javascript') === -1) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, dispatch);\n      }\n    })\n    .catch(() => {\n      dispatch(offlineMode());\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { Exercise } from './types';\nimport { all, call, put, takeLatest, takeEvery } from 'redux-saga/effects';\nimport { delay } from 'redux-saga';\nimport { arrayMove } from 'react-sortable-hoc';\nimport * as datastore from '../idb/datastore';\nimport {\n  TYPES,\n  fetchAllExercisesSuccess,\n  addExerciseSuccess,\n  addExerciseFailure,\n  deleteExerciseSuccess,\n  deleteExerciseFailure,\n  acknowledgeExerciseFailure,\n  acknowledgeExerciseSuccess,\n  cancelExerciseSuccess,\n  cancelExerciseFailure,\n  updateExerciseNameSuccess,\n  updateExerciseNameFailure,\n  addExerciseStepSuccess,\n  addExerciseStepFailure,\n  deleteExerciseStepSuccess,\n  deleteExerciseStepFailure,\n  acknowledgeExerciseStepSuccess,\n  acknowledgeExerciseStepFailure,\n  acknowledgeExerciseRequest,\n  cancelExerciseStepSuccess,\n  cancelExerciseStepFailure,\n  updateExerciseStepSuccess,\n  updateExerciseStepFailure,\n  moveExerciseStepSuccess,\n  moveExerciseStepFailure,\n  fetchAllExercisesFailure,\n  addExerciseRequest,\n  deleteExerciseRequest,\n  cancelExerciseRequest,\n  updateExerciseNameRequest,\n  addExerciseStepRequest,\n  deleteExerciseStepRequest,\n  acknowledgeExerciseStepRequest,\n  cancelExerciseStepRequest,\n  moveExerciseStepRequest,\n  updateExerciseStepRequest,\n  fetchExerciseRequest,\n  fetchExerciseSuccess,\n  fetchExerciseFailure\n} from './actions';\nimport { watchNotifications } from 'components/notification';\nimport { watchServiceWorker } from 'serviceWorker';\n\nfunction* fetchExercises() {\n  try {\n    const exercises: Exercise[] = yield call(datastore.getAllExercises);\n    yield put(fetchAllExercisesSuccess(exercises));\n  } catch (e) {\n    yield put(fetchAllExercisesFailure(e));\n  }\n}\nfunction* watchFetchExercises() {\n  yield takeLatest(TYPES.FETCH_EXERCISES.REQUEST, fetchExercises);\n}\n\nfunction* fetchOneExercise({ id }: ReturnType<typeof fetchExerciseRequest>) {\n  try {\n    const exercise: Exercise = yield call(datastore.getExerciseById, id);\n    yield put(fetchExerciseSuccess(exercise));\n  } catch (e) {\n    yield put(fetchExerciseFailure(id, e));\n  }\n}\nfunction* watchFetchOneExercise() {\n  yield takeLatest(TYPES.FETCH_EXERCISE.REQUEST, fetchOneExercise);\n}\n\nfunction* addNewExercise({ exercise }: ReturnType<typeof addExerciseRequest>) {\n  try {\n    const newExercise: Exercise = yield call(datastore.putExercise, exercise);\n    yield put(addExerciseSuccess(newExercise));\n  } catch (e) {\n    yield put(addExerciseFailure(exercise, e));\n  }\n}\nfunction* watchAddNewExercise() {\n  yield takeEvery(TYPES.ADD_EXERCISE.REQUEST, addNewExercise);\n}\n\nfunction* deleteExercise({ id }: ReturnType<typeof deleteExerciseRequest>) {\n  try {\n    yield call(datastore.deleteExercise, id);\n    yield put(deleteExerciseSuccess(id));\n  } catch (e) {\n    yield put(deleteExerciseFailure(id, e));\n  }\n}\nfunction* watchDeleteExercise() {\n  yield takeEvery(TYPES.DELETE_EXERCISE.REQUEST, deleteExercise);\n}\n\nfunction* acknowledgeExercise({ id }: ReturnType<typeof acknowledgeExerciseRequest>) {\n  try {\n    const exercise: Exercise = yield call(datastore.getExerciseById, id);\n    const patchedExercise: Exercise = yield call(datastore.putExercise, {\n      ...exercise,\n      done: true,\n      steps: exercise.steps.map(step => ({ ...step, done: true }))\n    });\n    yield put(acknowledgeExerciseSuccess(patchedExercise));\n  } catch (e) {\n    yield put(acknowledgeExerciseFailure(id, e));\n  }\n}\nfunction* watchAcknowledgeExercise() {\n  yield takeEvery(TYPES.ACKNOWLEDGE_EXERCISE.REQUEST, acknowledgeExercise);\n}\n\nfunction* cancelExercise({ id }: ReturnType<typeof cancelExerciseRequest>) {\n  try {\n    const exercise: Exercise = yield call(datastore.getExerciseById, id);\n    const patchedExercise: Exercise = yield call(datastore.putExercise, {\n      ...exercise,\n      done: false,\n      steps: exercise.steps.map(step => ({ ...step, done: false }))\n    });\n    yield put(cancelExerciseSuccess(patchedExercise));\n  } catch (e) {\n    yield put(cancelExerciseFailure(id, e));\n  }\n}\nfunction* watchCancelExercise() {\n  yield takeEvery(TYPES.CANCEL_EXERCISE.REQUEST, cancelExercise);\n}\n\nfunction* updateExerciseName({ id, name }: ReturnType<typeof updateExerciseNameRequest>) {\n  // Debounce\n  yield call(delay, 500);\n  try {\n    const patchedExercise: Exercise = yield call(datastore.patchExerciseById, id, { name });\n    yield put(updateExerciseNameSuccess(patchedExercise));\n  } catch (e) {\n    yield put(updateExerciseNameFailure(id, e));\n  }\n}\nfunction* watchUpdateExerciseName() {\n  yield takeLatest(TYPES.UPDATE_EXERCISE_NAME.REQUEST, updateExerciseName);\n}\n\nfunction* addExerciseStep({ exerciseId, stepType, step }: ReturnType<typeof addExerciseStepRequest>) {\n  try {\n    const exercise: Exercise = yield call(datastore.getExerciseById, exerciseId);\n    const patchedExercise: Exercise = yield call(datastore.putExercise, {\n      ...exercise,\n      type: stepType,\n      steps: [...exercise.steps, step]\n    });\n    yield put(addExerciseStepSuccess(patchedExercise));\n  } catch (e) {\n    yield put(addExerciseStepFailure(exerciseId, e));\n  }\n}\nfunction* watchAddExerciseStep() {\n  yield takeLatest(TYPES.ADD_EXERCISE_STEP.REQUEST, addExerciseStep);\n}\n\nfunction* deleteExerciseStep({ exerciseId, stepId }: ReturnType<typeof deleteExerciseStepRequest>) {\n  try {\n    const exercise: Exercise = yield call(datastore.getExerciseById, exerciseId);\n    const patchedExercise: Exercise = yield call(datastore.putExercise, {\n      ...exercise,\n      steps: [...exercise.steps.filter(s => s.id !== stepId)]\n    });\n    yield put(deleteExerciseStepSuccess(patchedExercise));\n  } catch (e) {\n    yield put(deleteExerciseStepFailure(exerciseId, stepId, e));\n  }\n}\nfunction* watchDeleteExerciseStep() {\n  yield takeEvery(TYPES.DELETE_EXERCISE_STEP.REQUEST, deleteExerciseStep);\n}\n\nfunction* acknowledgeExerciseStep({ exerciseId, stepId }: ReturnType<typeof acknowledgeExerciseStepRequest>) {\n  try {\n    const exercise: Exercise = yield call(datastore.getExerciseById, exerciseId);\n    const steps = [...exercise.steps];\n    steps.find(s => s.id === stepId)!.done = true;\n    const patchedExercise: Exercise = yield call(datastore.putExercise, {\n      ...exercise,\n      steps\n    });\n    yield put(acknowledgeExerciseStepSuccess(patchedExercise));\n    if (patchedExercise.steps.every(s => s.done)) {\n      yield put(acknowledgeExerciseRequest(patchedExercise.id));\n    }\n  } catch (e) {\n    yield put(acknowledgeExerciseStepFailure(exerciseId, stepId, e));\n  }\n}\nfunction* watchAcknowledgeExerciseStep() {\n  yield takeEvery(TYPES.ACKNOWLEDGE_EXERCISE_STEP.REQUEST, acknowledgeExerciseStep);\n}\n\nfunction* cancelExerciseStep({ exerciseId, stepId }: ReturnType<typeof cancelExerciseStepRequest>) {\n  try {\n    const exercise: Exercise = yield call(datastore.getExerciseById, exerciseId);\n    const steps = [...exercise.steps];\n    steps.find(s => s.id === stepId)!.done = false;\n    const patchedExercise: Exercise = yield call(datastore.putExercise, {\n      ...exercise,\n      done: false,\n      steps\n    });\n    yield put(cancelExerciseStepSuccess(patchedExercise));\n  } catch (e) {\n    yield put(cancelExerciseStepFailure(exerciseId, stepId, e));\n  }\n}\nfunction* watchCancelExerciseStep() {\n  yield takeEvery(TYPES.CANCEL_EXERCISE_STEP.REQUEST, cancelExerciseStep);\n}\n\nfunction* moveExerciseStep({ exerciseId, oldIndex, newIndex }: ReturnType<typeof moveExerciseStepRequest>) {\n  try {\n    const exercise: Exercise = yield call(datastore.getExerciseById, exerciseId);\n    const steps = arrayMove([...exercise.steps], oldIndex, newIndex);\n    const patchedExercise: Exercise = yield call(datastore.putExercise, {\n      ...exercise,\n      done: false,\n      steps\n    });\n    yield put(moveExerciseStepSuccess(patchedExercise));\n  } catch (e) {\n    yield put(moveExerciseStepFailure(exerciseId, oldIndex, newIndex, e));\n  }\n}\nfunction* watchMoveExerciseStep() {\n  yield takeEvery(TYPES.MOVE_EXERCISE_STEP.REQUEST, moveExerciseStep);\n}\n\nfunction* updateExerciseStep({ exerciseId, stepId, contentPatch }: ReturnType<typeof updateExerciseStepRequest>) {\n  // Debounce\n  yield call(delay, 500);\n  try {\n    const exercise: Exercise = yield call(datastore.getExerciseById, exerciseId);\n    const steps = [...exercise.steps];\n    const stepIndex = steps.findIndex(s => s.id === stepId);\n    steps[stepIndex] = { ...steps[stepIndex], ...contentPatch };\n    const patchedExercise: Exercise = yield call(datastore.putExercise, {\n      ...exercise,\n      done: false,\n      steps\n    });\n    yield put(updateExerciseStepSuccess(patchedExercise));\n  } catch (e) {\n    yield put(updateExerciseStepFailure(exerciseId, stepId, contentPatch, e));\n  }\n}\nfunction* watchUpdateExerciseStep() {\n  yield takeLatest(TYPES.UPDATE_EXERCISE_STEP.REQUEST, updateExerciseStep);\n}\n\nexport default function* rootSaga() {\n  yield all([\n    watchFetchExercises(),\n    watchFetchOneExercise(),\n    watchAddNewExercise(),\n    watchDeleteExercise(),\n    watchAcknowledgeExercise(),\n    watchCancelExercise(),\n    watchUpdateExerciseName(),\n    watchAddExerciseStep(),\n    watchDeleteExerciseStep(),\n    watchAcknowledgeExerciseStep(),\n    watchCancelExerciseStep(),\n    watchMoveExerciseStep(),\n    watchUpdateExerciseStep(),\n    watchNotifications(),\n    watchServiceWorker()\n  ]);\n}\n","import { AppStore } from './../store/reducer';\r\nimport { createStore, applyMiddleware, Middleware } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension/developmentOnly';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { createLogger } from 'redux-logger';\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport rootReducer from '../store/reducer';\r\nimport saga from '../store/saga';\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\n\r\nconst middlewares: Middleware[] = [thunkMiddleware, sagaMiddleware];\r\nif (process.env.NODE_ENV === 'development') {\r\n  const loggerMiddleware = createLogger();\r\n  middlewares.push(loggerMiddleware);\r\n}\r\n\r\nexport default function configureStore(preloadedState?: AppStore) {\r\n  const store = createStore(rootReducer, preloadedState, composeWithDevTools(applyMiddleware(...middlewares)));\r\n  sagaMiddleware.run(saga);\r\n  return store;\r\n}\r\n","import React, { SFC } from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport { Store } from 'redux';\r\nimport configureStore from './configureStore';\r\nimport { register as registerServiceWorker } from '../serviceWorker';\r\n\r\nconst appStore = configureStore();\r\nexport type RootContainerProps = {\r\n  store?: Store;\r\n};\r\nregisterServiceWorker(appStore.dispatch);\r\nconst RootContainer: SFC<RootContainerProps> = ({ children, store }) => (\r\n  <Provider store={store || appStore}>{children}</Provider>\r\n);\r\n\r\nexport default RootContainer;\r\n","import React from 'react';\nimport EmptyPage from './EmptyPage';\nimport { faKiwiBird } from '@fortawesome/free-solid-svg-icons';\nimport { RouteComponentProps } from 'react-router';\n\nexport default ({ history }: RouteComponentProps) => {\n  const goBackButton = (\n    <button className=\"btn btn-primary\" onClick={() => history.goBack()}>\n      Go back\n    </button>\n  );\n  return <EmptyPage icon={faKiwiBird} text={'Sorry, page was not found'} action={goBackButton} />;\n};\n","import React, { PureComponent } from 'react';\nimport classNames from 'classnames';\nimport './styles.css';\nimport { faRedo } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nexport type TimedProgressProps = {\n  totalTime: number;\n  tick_ms: number;\n  theme: 'rest' | 'exercise';\n  onFinished: () => void;\n};\nexport type TimedProgressState = {\n  remainingTime: number;\n  status: 'STOPPED' | 'RUNNING' | 'FINISHED';\n};\n\nexport class TimedProgress extends PureComponent<TimedProgressProps, TimedProgressState> {\n  constructor(props: TimedProgressProps) {\n    super(props);\n    this.state = {\n      remainingTime: this.props.totalTime,\n      status: 'STOPPED'\n    };\n  }\n\n  static defaultProps: Pick<TimedProgressProps, 'onFinished' | 'tick_ms' | 'theme'> = {\n    tick_ms: 1000,\n    theme: 'exercise',\n    onFinished: () => {\n      return;\n    }\n  };\n\n  intervalId?: number;\n  timeoutId?: number;\n\n  clearTimers = () => {\n    this.intervalId && clearInterval(this.intervalId);\n    this.intervalId = undefined;\n    this.timeoutId && clearTimeout(this.timeoutId);\n    this.timeoutId = undefined;\n  };\n  startTimers = () => {\n    this.tick();\n    this.clearTimers();\n    this.intervalId = window.setInterval(this.tick, this.props.tick_ms);\n    this.timeoutId = window.setTimeout(this.finish, this.state.remainingTime * 1000);\n  };\n\n  start = () => {\n    if (this.state.status !== 'RUNNING' && this.state.remainingTime > 0) {\n      this.setState({ status: 'RUNNING' }, () => {\n        this.startTimers();\n      });\n    }\n  };\n  stop = () => {\n    this.clearTimers();\n    this.setState({ status: 'STOPPED' });\n  };\n  finish = () => {\n    this.clearTimers();\n    this.setState({ status: 'FINISHED', remainingTime: 0 });\n    this.props.onFinished();\n  };\n  reset = () => {\n    this.setState({ remainingTime: this.props.totalTime }, () => {\n      if (this.state.status === 'RUNNING') this.startTimers();\n    });\n  };\n  tick = () => {\n    this.setState(state => {\n      const newTime = state.remainingTime - this.props.tick_ms! / 1000;\n      return newTime >= 0 ? { remainingTime: newTime } : { remainingTime: 0 };\n    });\n  };\n\n  onTapTimer = () => (this.state.status === 'RUNNING' ? this.stop() : this.start());\n\n  getStrokeDashoffset = (percentage = 0) => {\n    const r = 90;\n    const c = Math.PI * (r * 2);\n\n    return percentage * c;\n  };\n\n  componentDidMount() {\n    if (this.props.theme === 'rest') {\n      this.start();\n    }\n  }\n  componentWillUnmount() {\n    this.clearTimers();\n  }\n\n  render() {\n    const { status, remainingTime } = this.state;\n    return (\n      <>\n        <div>{status}</div>\n        <div className={classNames('timer-container', { rest: this.props.theme === 'rest' })} onClick={this.onTapTimer}>\n          <svg\n            className=\"timer-svg m-auto d-flex\"\n            width=\"200\"\n            height=\"200\"\n            version=\"1.1\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            transform=\"rotate(-90)\"\n          >\n            <filter xmlns=\"http://www.w3.org/2000/svg\" id=\"dropshadow\" height=\"130%\">\n              <feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"3\" />\n              <feOffset dx=\"2\" dy=\"2\" result=\"offsetblur\" />\n              <feComponentTransfer>\n                <feFuncA type=\"linear\" slope=\"0.2\" />\n              </feComponentTransfer>\n              <feMerge>\n                <feMergeNode />\n                <feMergeNode in=\"SourceGraphic\" />\n              </feMerge>\n            </filter>\n            <circle\n              className=\"progress-bar\"\n              filter=\"url(#dropshadow)\"\n              r=\"90\"\n              cx=\"100\"\n              cy=\"100\"\n              fill=\"transparent\"\n              strokeDasharray=\"565.48\"\n              strokeDashoffset=\"0\"\n            />\n            <circle\n              className=\"bar\"\n              r=\"90\"\n              cx=\"100\"\n              cy=\"100\"\n              fill=\"transparent\"\n              strokeDasharray=\"565.48\"\n              strokeDashoffset={this.getStrokeDashoffset(remainingTime / this.props.totalTime)}\n              style={\n                status === 'RUNNING' ? { transition: `stroke-dashoffset ${this.props.tick_ms! / 1000}s linear` } : {}\n              }\n            />\n          </svg>\n          <div className=\"timer-info d-flex\">\n            <div className=\"m-auto display-2\">{Math.ceil(remainingTime)}</div>\n          </div>\n        </div>\n        <div className=\"my-2\">\n          <button className=\"btn btn-block btn-link m-1\" onClick={this.reset}>\n            <FontAwesomeIcon flip=\"horizontal\" icon={faRedo} /> Reset\n          </button>\n        </div>\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport { faDumbbell, faTimes } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nexport type RepetitionProgressProps = {\n  kg: number;\n  repetition: number;\n  onFinished: () => void;\n};\n\nexport const RepetitionProgress = ({ onFinished, kg, repetition }: RepetitionProgressProps) => (\n  <>\n    <div className=\"d-flex justify-content-around align-items-center\">\n      <FontAwesomeIcon className=\"m-2 display-3\" icon={faDumbbell} aria-label=\"weight in kg\" />\n      <span className=\"m-2 text-primary display-2\">{kg}</span>\n    </div>\n    <div className=\"d-flex justify-content-around align-items-center\">\n      <FontAwesomeIcon className=\"m-2 display-2\" icon={faTimes} aria-label=\"repetition\" />\n      <span className=\"m-2 text-primary display-3\">{repetition}</span>\n    </div>\n  </>\n);\n","import React, { PureComponent } from 'react';\nimport './ExerciseRunner.css';\nimport classNames from 'classnames';\nimport { Exercise, Step, StepTimed, StepRepetition } from 'store/types';\nimport { Layout, CenteredPageLayout } from 'components/layout';\nimport { Link } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimes, faStepForward, faStepBackward } from '@fortawesome/free-solid-svg-icons';\nimport { faSmileBeam } from '@fortawesome/free-regular-svg-icons';\nimport { TimedProgress } from './TimedProgress';\nimport { RepetitionProgress } from './RepetitionProgress';\nimport { Redirect } from 'react-router';\n\nexport type ExerciseRunnerProps = {\n  exerciseId: Exercise['id'];\n  exerciseName: Exercise['name'];\n  type: Exercise['type'];\n  steps: Step[];\n  currentStepIndex: number;\n  onStepFinished: (stepId: string) => void;\n};\n\ntype ExerciseRunnerLayoutState = {\n  rest: boolean;\n  renderNext: boolean;\n};\n\nexport class ExerciseRunner extends PureComponent<ExerciseRunnerProps, ExerciseRunnerLayoutState> {\n  constructor(props: ExerciseRunnerProps) {\n    super(props);\n    this.state = { rest: false, renderNext: false };\n  }\n\n  static defaultProps: { currentStepIndex: number } = {\n    currentStepIndex: 0\n  };\n\n  goToNextStep = () => this.setState({ renderNext: true });\n\n  finishStepAndRest = () => {\n    this.setState({ rest: true });\n    this.props.onStepFinished(this.props.steps[this.props.currentStepIndex].id);\n  };\n\n  renderProgress = (currentStep: Step) => {\n    const { type } = this.props;\n    if (type === 'timed') {\n      const step = currentStep as StepTimed;\n      return <TimedProgress totalTime={step.duration} onFinished={this.finishStepAndRest} />;\n    } else if (type === 'repetition') {\n      const step = currentStep as StepRepetition;\n      return <RepetitionProgress repetition={step.repetition} kg={step.kg} onFinished={this.finishStepAndRest} />;\n    }\n    return 'Error displaying progress of the exercise, unknown type';\n  };\n\n  render() {\n    const { exerciseId, exerciseName, steps, currentStepIndex } = this.props;\n    return (\n      <Layout\n        header={\n          <>\n            <Link to={`/${exerciseId}`} className=\"btn btn-link text-dark\" aria-label=\"Back to exercises list\">\n              <FontAwesomeIcon icon={faTimes} />\n            </Link>\n            {`${exerciseName} - Step ${currentStepIndex + 1}`}\n          </>\n        }\n        navItems={[\n          <>\n            {currentStepIndex > 0 ? (\n              <Link\n                to={`/${exerciseId}/runner/${steps[currentStepIndex - 1].id}`}\n                key=\"nav-previous\"\n                className=\"btn btn-link nav-link btn-block\"\n              >\n                <FontAwesomeIcon icon={faStepBackward} /> Previous\n              </Link>\n            ) : (\n              <button key=\"nav-previous\" className=\"btn btn-link nav-link btn-block\" disabled>\n                <FontAwesomeIcon icon={faStepBackward} /> Previous\n              </button>\n            )}\n          </>,\n          <>\n            {currentStepIndex < steps.length - 1 ? (\n              <Link\n                to={`/${exerciseId}/runner/${steps[currentStepIndex + 1].id}`}\n                key=\"nav-next\"\n                className=\"btn btn-link nav-link btn-block\"\n              >\n                <FontAwesomeIcon icon={faStepForward} /> Next\n              </Link>\n            ) : (\n              <button key=\"nav-next\" className=\"btn btn-link nav-link btn-block\" disabled>\n                <FontAwesomeIcon icon={faStepForward} /> Next\n              </button>\n            )}\n          </>\n        ]}\n      >\n        <CenteredPageLayout className={classNames({ success: steps[currentStepIndex].done })}>\n          {this.state.rest ? (\n            <TimedProgress\n              key=\"rest-timed-progress\"\n              totalTime={steps[currentStepIndex].rest}\n              theme=\"rest\"\n              onFinished={this.goToNextStep}\n            />\n          ) : (\n            <>\n              {this.renderProgress(steps[currentStepIndex])}\n              <div className=\"d-flex\">\n                <button className=\"btn btn-outline-info btn-block m-1\" onClick={this.finishStepAndRest}>\n                  <FontAwesomeIcon icon={faSmileBeam} /> Rest\n                </button>\n              </div>\n            </>\n          )}\n        </CenteredPageLayout>\n        {this.state.renderNext && currentStepIndex < steps.length - 1 && (\n          <Redirect to={`/${exerciseId}/runner/${steps[currentStepIndex + 1].id}`} />\n        )}\n      </Layout>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { MapStateToProps, MapDispatchToProps, connect } from 'react-redux';\nimport { Exercise, Step } from '../../../store/types';\nimport { ExerciseRunner } from '../presentational/ExerciseRunner';\nimport { AppStore } from '../../../store/reducer';\nimport { getExerciseById, areExercisesLoading, hasErrorLoadingExercises } from '../../../store/selectors';\nimport { fetchExerciseRequest, acknowledgeExerciseStepRequest } from '../../../store/actions';\nimport EmptyPage from 'components/empty-page/EmptyPage';\nimport { faSun, faPoo, faQuidditch } from '@fortawesome/free-solid-svg-icons';\nimport { Link } from 'react-router-dom';\n\nconst LoadingPage = () => <EmptyPage text=\"Loading ...\" icon={faSun} action={<p>Your exercise is being loaded</p>} />;\nconst ErrorLoadingPage = () => (\n  <EmptyPage\n    text=\"Error loading your exercise\"\n    icon={faPoo}\n    action={<p>Sorry an error occured loading your exercice !</p>}\n  />\n);\nconst ExerciseNotFoundPage = () => (\n  <EmptyPage\n    text=\"Exercise not found\"\n    icon={faQuidditch}\n    action={\n      <Link className=\"btn btn-primary\" to=\"/\">\n        Back to exercises\n      </Link>\n    }\n  />\n);\nconst ExerciseStepNotFoundPage = () => (\n  <EmptyPage\n    text=\"Step not found\"\n    icon={faQuidditch}\n    action={\n      <Link className=\"btn btn-primary\" to=\"/\">\n        Back to exercises\n      </Link>\n    }\n  />\n);\n\nexport type ExerciseRunnerContainerOwnProps = {\n  exerciseId: Exercise['id'];\n  stepId: Step['id'];\n};\n\ntype ExerciseRunnerContainerStateProps = {\n  exercise: Exercise;\n  loading: boolean;\n  errorLoading: boolean;\n};\n\ntype ExerciseRunnerContainerDispatchProps = {\n  loadExercise: () => void;\n  onStepFinished: () => void;\n};\n\ntype ExerciseRunnerContainerProps = ExerciseRunnerContainerOwnProps &\n  ExerciseRunnerContainerStateProps &\n  ExerciseRunnerContainerDispatchProps;\n\nclass ExerciseRunnerContainerComponent extends PureComponent<ExerciseRunnerContainerProps> {\n  componentDidMount() {\n    if (!this.props.exercise) {\n      this.props.loadExercise();\n    }\n  }\n  render() {\n    const { stepId, exercise, onStepFinished, loading, errorLoading } = this.props;\n    const stepIndex = exercise ? exercise.steps.findIndex(({ id }) => id === stepId) : -1;\n    return loading ? (\n      <LoadingPage />\n    ) : errorLoading ? (\n      <ErrorLoadingPage />\n    ) : !exercise ? (\n      <ExerciseNotFoundPage />\n    ) : stepIndex < 0 ? (\n      <ExerciseStepNotFoundPage />\n    ) : (\n      <ExerciseRunner\n        key={`exercise-runner-${exercise.id}-${stepId}`}\n        exerciseId={exercise.id}\n        exerciseName={exercise.name}\n        type={exercise.type}\n        steps={exercise.steps}\n        onStepFinished={onStepFinished}\n        currentStepIndex={stepIndex}\n      />\n    );\n  }\n}\n\nconst mapStateToProps: MapStateToProps<ExerciseRunnerContainerStateProps, ExerciseRunnerContainerOwnProps, AppStore> = (\n  state,\n  ownProps\n) => ({\n  exercise: getExerciseById(state)(ownProps.exerciseId),\n  loading: areExercisesLoading(state),\n  errorLoading: hasErrorLoadingExercises(state)\n});\n\nconst mapDispatchToProps: MapDispatchToProps<ExerciseRunnerContainerDispatchProps, ExerciseRunnerContainerOwnProps> = (\n  dispatch,\n  ownProps\n) => ({\n  loadExercise: () => dispatch(fetchExerciseRequest(ownProps.exerciseId)),\n  onStepFinished: () => dispatch(acknowledgeExerciseStepRequest(ownProps.exerciseId, ownProps.stepId))\n});\n\nexport const ExerciseRunnerContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ExerciseRunnerContainerComponent);\n","import React, { Component } from 'react';\nimport 'App.css';\nimport Theme from './components/theme/Theme';\nimport ExerciseListPageContainer from './components/exercise-list/container/ExerciseListPageContainer';\nimport ExercisePageContainer from './components/exercise/container/ExercisePageContainer';\nimport RootContainer from './redux/RootContainer';\nimport { BrowserRouter as Router, Switch, Route, RouteComponentProps } from 'react-router-dom';\nimport Error404 from './components/empty-page/Error404';\nimport { ExerciseRunnerContainer } from 'components/exercise-runner';\n\nclass App extends Component {\n  render() {\n    return (\n      <RootContainer>\n        <Router basename={process.env.REACT_APP_BASE_DIR}>\n          <Theme>\n            <Switch>\n              <Route exact path=\"/\" component={ExerciseListPageContainer} />\n              <Route\n                exact\n                path=\"/:id\"\n                component={({ match }: RouteComponentProps<{ id: string }>) => (\n                  <ExercisePageContainer exerciseId={match.params.id} />\n                )}\n              />\n              <Route\n                exact\n                path=\"/:exerciseId/runner/:stepId\"\n                component={({ match }: RouteComponentProps<{ exerciseId: string; stepId: string }>) => (\n                  <ExerciseRunnerContainer exerciseId={match.params.exerciseId} stepId={match.params.stepId} />\n                )}\n              />\n              <Route component={Error404} />\n            </Switch>\n          </Theme>\n        </Router>\n      </RootContainer>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}