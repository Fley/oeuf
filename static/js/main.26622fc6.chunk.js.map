{"version":3,"sources":["components/theme/Theme.tsx","store/selectors.ts","components/notification/presentational/Toast.tsx","components/notification/redux/selectors.ts","components/notification/redux/actions.ts","components/notification/container/NotificationContainer.tsx","components/notification/redux/sagas.ts","components/notification/redux/reducer.ts","components/layout/Layout.tsx","components/layout/CenteredPageLayout.tsx","components/empty-page/EmptyPage.tsx","components/swipeable-list-item/SwipeableListItem.tsx","components/exercise-list/presentational/ExerciseList.tsx","components/exercise-list/presentational/ExerciseListPage.tsx","store/actions.ts","components/exercise-list/container/ExerciseListPageContainer.tsx","components/exercise/presentational/ExerciseStep.tsx","components/exercise/presentational/Exercise.tsx","components/exercise/presentational/ExercisePage.tsx","components/exercise/container/ExercisePageContainer.tsx","redux/RootContainer.tsx","components/empty-page/Error404.tsx","components/exercise-runner/presentational/TimedProgress.tsx","components/exercise-runner/presentational/RepetitionProgress.tsx","components/exercise-runner/presentational/ExerciseRunner.tsx","components/exercise-runner/container/ExerciseRunnerContainer.tsx","serviceWorker/redux/actions.ts","serviceWorker/redux/sagas.tsx","serviceWorker/serviceWorker.ts","store/reducer.ts","idb/datastore.ts","store/saga.ts","store/configureStore.ts","App.tsx","index.tsx"],"names":["Theme","_ref","children","React","Children","only","react_default","a","createElement","Fragment","getExerciseList","state","getExercisesState","ids","map","id","byId","getExerciseById","areExercisesLoading","loading","hasErrorLoadingExercises","error","exercises","getNotificationState","notification","Toast","message","_ref$type","type","_ref$actions","actions","_ref$hidden","hidden","onClick","onMouseEnter","onMouseLeave","className","classNames","concat","toast-hidden","toast-visible","action","index","key","getNotification","NOTIFICATION_PUSH","pushNotification","NOTIFICATION_PAUSE_AUTO_HIDE","NOTIFICATION_RESUME_AUTO_HIDE","showNotification","NOTIFICATION_HIDE","hideNotification","NotificationContainer","connect","dispatch","Toast_Toast","watchNotifications","handleNotification","NOTIFICATION_DELAY_MS","notificationChannel","regenerator_default","wrap","_context","prev","next","actionChannel","sent","take","call","stop","_marked","this","waiting","_ref2","stopped","_context2","put","race","hide","timeout","delay","_marked2","initialState","undefined","Layout","header","_ref$navItems","navItems","_ref$headerBackground","headerBackground","isLight","navbar-light","navbar-dark","navItem","CenteredPageLayout","style","height","position","top","left","EmptyPage","icon","text","CenteredPageLayout_CenteredPageLayout","index_es","size","SwipeableListItem","props","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","onChangeIndex","setState","onTransitionEnd","onSwipeLeft","onSwipeRight","_this$props","rightSwipeElement","leftSwipeElement","lib_default","Component","SwipedItemAcknowledged","faCheck","SwipedItemRemoved","faTimes","SwipedItemCanceled","faUndo","mapExerciceItem","name","done","SwipeableListItem_SwipeableListItem","SwipeableListItem_SwipedItemCanceled","SwipeableListItem_SwipedItemAcknowledged","SwipeableListItem_SwipedItemRemoved","Link","to","role","aria-label","e","preventDefault","faTrash","faAngleRight","ExerciseList","_ref2$exercises","onAddExercise","onAcknowledgeExercise","onDeleteExercise","onCancelExercise","_ref2$loading","_ref2$errorLoading","errorLoading","length","filter","empty_page_EmptyPage","faSun","faPoo","faListAlt","ExerciseListPage","_ref$loading","_ref$errorLoading","Layout_Layout","appVersion","disabled","faPlusSquare","exercise_list_presentational_ExerciseList","TYPES","FETCH_EXERCISES","REQUEST","SUCCESS","FAILURE","FETCH_EXERCISE","ADD_EXERCISE","DELETE_EXERCISE","ACKNOWLEDGE_EXERCISE","CANCEL_EXERCISE","UPDATE_EXERCISE_NAME","ADD_EXERCISE_STEP","DELETE_EXERCISE_STEP","ACKNOWLEDGE_EXERCISE_STEP","CANCEL_EXERCISE_STEP","UPDATE_EXERCISE_STEP","MOVE_EXERCISE_STEP","START_EXERCISE","STOP_EXERCISE","PAUSE_EXERCISE","fetchAllExercisesRequest","fetchAllExercisesSuccess","fetchAllExercisesFailure","fetchExerciseSuccess","exercise","fetchExerciseFailure","addExerciseSuccess","addExerciseFailure","deleteExerciseSuccess","deleteExerciseFailure","acknowledgeExerciseRequest","acknowledgeExerciseSuccess","acknowledgeExerciseFailure","exerciseId","cancelExerciseSuccess","cancelExerciseFailure","updateExerciseNameSuccess","updateExerciseNameFailure","acknowledgeExerciseStepRequest","stepId","acknowledgeExerciseStepSuccess","acknowledgeExerciseStepFailure","cancelExerciseStepSuccess","cancelExerciseStepFailure","addExerciseStepSuccess","addExerciseStepFailure","createExerciseStep","stepContent","objectSpread","duration","rest","uuidv4","kg","repetition","Error","deleteExerciseStepSuccess","deleteExerciseStepFailure","updateExerciseStepSuccess","updateExerciseStepFailure","contentPatch","moveExerciseStepSuccess","moveExerciseStepFailure","oldIndex","newIndex","ExerciceListPageContainer","load","restProps","objectWithoutProperties","presentational_ExerciseListPage","steps","progress","addExerciseRequest","deleteExerciseRequest","cancelExerciseRequest","DragHandle","SortableHandle","width","faBars","InputNumber","defaultValue","placeholder","onChange","min","max","required","StepRepetition","onContentChange","ExerciseStep_InputNumber","parseFloat","currentTarget","value","HeaderStepRepetition","faDumbbell","faHandPaper","HeaderStepTimed","faClock","StepTimed","_ref3","SortableStep","SortableElement","_ref$step","step","content","ExerciseStep_StepTimed","ExerciseStep_StepRepetition","SortableStepList","SortableContainer","onUpdateStep","_onSwipeRight","apply","arguments","toString","_onSwipeLeft","Exercise","onAddFirstStep","onDeleteStep","onAcknowledgeStep","onCancelStep","onMoveStep","onExerciseNameChange","_this$props$exercise","onSubmit","htmlFor","autoComplete","ExerciseStep_HeaderStepTimed","ExerciseStep_HeaderStepRepetition","onSortEnd","lockAxis","useDragHandle","helperClass","_ref4","faStopwatch","LoadingPage","ErrorLoadingPage","ExerciseNotFoundPage","faFrown","firstStepIdToRun","stepNotDone","ExercisePage","onAddStep","onStartExercise","faPlay","toConsumableArray","ExercisePage_LoadingPage","ExercisePage_ErrorLoadingPage","presentational_Exercise","ExercisePage_ExerciseNotFoundPage","ExercicePageContainer","presentational_ExercisePage","ownProps","stepType","addExerciseStepRequest","deleteExerciseStepRequest","cancelExerciseStepRequest","updateExerciseStepRequest","moveExerciseStepRequest","updateExerciseNameRequest","RootContainer","store","es","Error404","history","goBackButton","goBack","faKiwiBird","TimedProgress","_PureComponent","intervalId","timeoutId","clearTimers","clearInterval","clearTimeout","startTimers","tick","window","setInterval","tick_ms","setTimeout","finish","remainingTime","start","status","onFinished","reset","totalTime","newTime","onTapTimer","getStrokeDashoffset","Math","PI","inherits","createClass","theme","_this$state","version","xmlns","transform","in","stdDeviation","dx","dy","result","slope","r","cx","cy","fill","strokeDasharray","strokeDashoffset","transition","ceil","flip","faRedo","PureComponent","defaultProps","RepetitionProgress","ExerciseRunner","goToNextStep","renderNext","finishStepAndRest","onStepFinished","currentStepIndex","renderProgress","currentStep","TimedProgress_TimedProgress","RepetitionProgress_RepetitionProgress","exerciseName","faStepBackward","faStepForward","success","faSmileBeam","Redirect","ExerciseStepNotFoundPage","ExerciseRunnerContainerComponent","loadExercise","stepIndex","findIndex","ExerciseRunnerContainer_LoadingPage","ExerciseRunnerContainer_ErrorLoadingPage","ExerciseRunnerContainer_ExerciseStepNotFoundPage","ExerciseRunner_ExerciseRunner","ExerciseRunnerContainer_ExerciseNotFoundPage","ExerciseRunnerContainer","SERVICEWORKER_REGISTRATION_ERROR","registrationError","errorMessage","registrationSuccess","SERVICEWORKER_NEW_CONTENT_AVAILABLE","newContentAvailable","SERVICEWORKER_CONTENT_CACHED","contentCached","SERVICEWORKER_OFFLINE","offlineMode","offline","onRegistrationError","onNewContentAvailable","onContentCached","onOfflineReady","watchServiceWorker","sagas_marked","objectDestructuringEmpty","href","location","reload","sagas_marked2","_context3","_marked3","_context4","_marked4","_context5","t0","all","takeLatest","t1","t2","t3","t4","t5","_marked5","isLocalhost","Boolean","hostname","match","updateOnlineStatus","navigator","onLine","registerValidSW","swUrl","config","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","exsercisesInitialState","removeExerciseFromStateById","restIds","restById","reduce","defineProperty","reducer","combineReducers","startedAt","Date","stoppedAt","pausedAt","RW","dbPromise","idb","open","upgradeDB","oldVersion","createObjectStore","keyPath","putExercise","asyncToGenerator","mark","_callee","db","tx","transaction","objectStore","complete","abrupt","_x","patchExerciseById","_callee2","patchExercise","newExercise","get","_x2","_x3","deleteExercise","_callee3","delete","_x4","getAllExercises","_callee4","getAll","_ref5","_callee5","_x5","fetchExercises","watchFetchExercises","fetchOneExercise","watchFetchOneExercise","addNewExercise","watchAddNewExercise","watchDeleteExercise","acknowledgeExercise","watchAcknowledgeExercise","cancelExercise","watchCancelExercise","updateExerciseName","watchUpdateExerciseName","addExerciseStep","watchAddExerciseStep","deleteExerciseStep","watchDeleteExerciseStep","acknowledgeExerciseStep","watchAcknowledgeExerciseStep","cancelExerciseStep","watchCancelExerciseStep","moveExerciseStep","watchMoveExerciseStep","updateExerciseStep","watchUpdateExerciseStep","rootSaga","datastore","saga_marked","saga_marked2","saga_marked3","saga_marked4","saga_marked5","_context6","takeEvery","_marked6","_context7","_marked7","_context8","_marked8","patchedExercise","_context9","_marked9","_context10","_marked10","_context11","_marked11","_context12","_marked12","_ref6","_context13","_marked13","_context14","_marked14","_ref7","_context15","_marked15","_context16","_marked16","_ref8","_context17","s","_marked17","_context18","_marked18","_ref9","_context19","find","every","_marked19","_context20","_marked20","_ref10","_context21","_marked21","_context22","_marked22","_ref11","_context23","arrayMove","_marked23","_context24","_marked24","_ref12","_context25","_marked25","_context26","_marked26","_context27","_marked27","sagaMiddleware","createSagaMiddleware","middlewares","appStore","preloadedState","createStore","rootReducer","composeWithDevTools","applyMiddleware","run","saga","configureStore","URL","process","origin","addEventListener","fetch","response","contentType","headers","indexOf","ready","unregister","checkValidServiceWorker","registerServiceWorker","App","redux_RootContainer","BrowserRouter","basename","components_theme_Theme","Switch","Route","exact","path","component","ExerciseListPageContainer","ExercisePageContainer","params","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.26622fc6.chunk.js","sourcesContent":["import React, { SFC } from 'react';\r\nimport './Theme.css';\r\n\r\nconst Theme: SFC = ({ children }) => {\r\n  React.Children.only(children);\r\n  return <>{children}</>;\r\n};\r\n\r\nexport default Theme;\r\n","import { AppStore } from './reducer';\n\nexport const getExerciseList = (state: AppStore) =>\n  getExercisesState(state).ids.map(id => getExercisesState(state).byId[id]);\n\nexport const getExerciseById = (state: AppStore) => (id: string) => getExercisesState(state).byId[id];\n\nexport const areExercisesLoading = (state: AppStore) => getExercisesState(state).loading;\n\nexport const hasErrorLoadingExercises = (state: AppStore) => !!getExercisesState(state).error;\n\nexport const getExercisesState = (state: AppStore) => state.exercises;\nexport const getNotificationState = (state: AppStore) => state.notification;\n","import React, { SFC } from 'react';\nimport classNames from 'classnames';\nimport './Toast.css';\n\nexport type ToastProps = {\n  message: string;\n  type?: 'default' | 'danger' | 'success' | 'warning' | 'info';\n  hidden?: boolean;\n  actions?: React.ReactNode[];\n  onClick: () => void;\n  onMouseEnter?: () => void;\n  onMouseLeave?: () => void;\n};\n\nexport const Toast: SFC<ToastProps> = ({\n  message,\n  type = 'default',\n  actions = [],\n  hidden = false,\n  onClick,\n  onMouseEnter,\n  onMouseLeave\n}) => (\n  <div className=\"toast-container\" onClick={onClick} onMouseEnter={onMouseEnter} onMouseLeave={onMouseLeave}>\n    <div\n      className={classNames('toast', 'shadow-up-sm', `toast-${type}`, {\n        'toast-hidden': hidden,\n        'toast-visible': !hidden\n      })}\n    >\n      <div>{message}</div>\n      {actions && (\n        <div className=\"toast-actions\">\n          {actions.map((action, index) => (\n            <span key={`action-${index}`}>{action}</span>\n          ))}\n        </div>\n      )}\n    </div>\n  </div>\n);\n","import { NotificationStore } from './reducer';\n\nexport const getNotification = (state: NotificationStore) => state.notification;\n","import { Notification } from './reducer';\n\nexport const NOTIFICATION_PUSH: 'NOTIFICATION_PUSH' = 'NOTIFICATION_PUSH';\nexport const pushNotification = (notification: Notification) => ({\n  type: NOTIFICATION_PUSH,\n  notification\n});\n\nexport const NOTIFICATION_PAUSE_AUTO_HIDE: 'NOTIFICATION_PAUSE_AUTO_HIDE' = 'NOTIFICATION_PAUSE_AUTO_HIDE';\nexport const pauseAutoHideNotification = () => ({ type: NOTIFICATION_PAUSE_AUTO_HIDE });\n\nexport const NOTIFICATION_RESUME_AUTO_HIDE: 'NOTIFICATION_RESUME_AUTO_HIDE' = 'NOTIFICATION_RESUME_AUTO_HIDE';\nexport const resumeAutoHideNotification = () => ({ type: NOTIFICATION_RESUME_AUTO_HIDE });\n\nconst NOTIFICATION_SHOW: 'NOTIFICATION_SHOW' = 'NOTIFICATION_SHOW';\nexport const showNotification = (notification: Notification) => ({\n  type: NOTIFICATION_SHOW,\n  notification\n});\n\nexport const NOTIFICATION_HIDE: 'NOTIFICATION_HIDE' = 'NOTIFICATION_HIDE';\nexport const hideNotification = () => ({\n  type: NOTIFICATION_HIDE\n});\n\nexport type Action =\n  | ReturnType<typeof pushNotification>\n  | ReturnType<typeof pauseAutoHideNotification>\n  | ReturnType<typeof resumeAutoHideNotification>\n  | ReturnType<typeof showNotification>\n  | ReturnType<typeof hideNotification>;\n","import React, { SFC } from 'react';\nimport { Toast } from '../presentational/Toast';\nimport { Notification } from '../redux/reducer';\nimport { MapStateToProps, connect, MapDispatchToProps } from 'react-redux';\nimport { AppStore } from 'store/reducer';\nimport { getNotification } from '../redux/selectors';\nimport { getNotificationState } from 'store/selectors';\nimport { hideNotification, pauseAutoHideNotification, resumeAutoHideNotification } from '../redux/actions';\n\ntype NotificationComponentStateProps = {\n  notification?: Notification;\n};\n\ntype NotificationComponentDispatchProps = {\n  onClick: () => void;\n  onMouseEnter: () => void;\n  onMouseLeave: () => void;\n};\n\ntype NotificationComponentProps = NotificationComponentStateProps & NotificationComponentDispatchProps;\n\nconst NotificationComponent: SFC<NotificationComponentProps> = ({\n  notification,\n  onClick,\n  onMouseEnter,\n  onMouseLeave\n}) => (\n  <>\n    {notification && (\n      <Toast\n        message={notification.message}\n        type={notification.type}\n        actions={notification.actions}\n        onClick={onClick}\n        onMouseEnter={onMouseEnter}\n        onMouseLeave={onMouseLeave}\n      />\n    )}\n  </>\n);\n\nconst mapStateToProps: MapStateToProps<NotificationComponentStateProps, {}, AppStore> = state => ({\n  notification: getNotification(getNotificationState(state))\n});\n\nconst mapDispatchToProps: MapDispatchToProps<NotificationComponentDispatchProps, {}> = dispatch => ({\n  onClick: () => dispatch(hideNotification()),\n  onMouseEnter: () => dispatch(pauseAutoHideNotification()),\n  onMouseLeave: () => dispatch(resumeAutoHideNotification())\n});\n\nexport const NotificationContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(NotificationComponent);\n","import { take, actionChannel, call, put, race } from 'redux-saga/effects';\nimport {\n  NOTIFICATION_PUSH,\n  showNotification,\n  hideNotification,\n  pushNotification,\n  NOTIFICATION_HIDE,\n  NOTIFICATION_PAUSE_AUTO_HIDE,\n  NOTIFICATION_RESUME_AUTO_HIDE\n} from './actions';\nimport { delay, Channel } from 'redux-saga';\nimport { Notification } from './reducer';\n\nconst NOTIFICATION_DELAY_MS = 5000;\n\nexport function* watchNotifications() {\n  const notificationChannel: Channel<ReturnType<typeof pushNotification>> = yield actionChannel(NOTIFICATION_PUSH);\n  while (true) {\n    const { notification } = yield take<ReturnType<typeof pushNotification>>(notificationChannel);\n    yield call(handleNotification, notification);\n  }\n}\n\nfunction* handleNotification(notification?: Notification) {\n  if (notification) {\n    yield put(showNotification(notification));\n  }\n  let waiting = true;\n  while (waiting) {\n    const { stopped, timeout } = yield race({\n      hide: take(NOTIFICATION_HIDE),\n      stopped: take(NOTIFICATION_PAUSE_AUTO_HIDE),\n      timeout: call(delay, NOTIFICATION_DELAY_MS)\n    });\n    if (timeout) {\n      yield put(hideNotification());\n      waiting = false;\n    } else if (stopped) {\n      yield take(NOTIFICATION_RESUME_AUTO_HIDE);\n    }\n  }\n}\n","import { Reducer } from 'redux';\nimport { Action } from './actions';\n\nexport type Notification = {\n  message: string;\n  type?: 'default' | 'danger' | 'success' | 'warning' | 'info';\n  actions?: React.ReactNode[];\n};\n\nexport type NotificationStore = {\n  notification?: Notification;\n};\n\nconst initialState: NotificationStore = {\n  notification: undefined\n};\n\nexport const notificationReducer: Reducer<NotificationStore, Action> = (state = initialState, action) => {\n  switch (action.type) {\n    case 'NOTIFICATION_SHOW':\n      return { ...state, notification: action.notification };\n    case 'NOTIFICATION_HIDE':\n      return { ...state, notification: undefined };\n    default:\n      return state;\n  }\n};\n","import React, { ReactNode, SFC } from 'react';\nimport classNames from 'classnames';\nimport { NotificationContainer } from 'components/notification';\n\nexport interface LayoutProps {\n  header?: ReactNode;\n  navItems?: ReactNode[];\n  headerBackground?: {\n    className: string;\n    isLight?: boolean;\n  };\n}\n\nexport const Layout: SFC<LayoutProps> = ({\n  header,\n  children,\n  navItems = [],\n  headerBackground = { className: 'bg-white', isLight: true }\n}) => (\n  <>\n    <header\n      className={classNames('navbar justify-content-between sticky-top shadow-sm', headerBackground.className, {\n        'navbar-light': headerBackground.isLight,\n        'navbar-dark': !headerBackground.isLight\n      })}\n    >\n      {header}\n    </header>\n    <main className=\"col-sm-10 mx-auto mb-5 py-3 px-0 px-xs-2\">{children}</main>\n    <footer className=\"fixed-bottom \">\n      <NotificationContainer />\n      <nav className=\"navbar navbar-light bg-white p-0 navbar-expand shadow-up-sm\">\n        <ul className=\"navbar-nav nav-justified w-100\">\n          {navItems.map((navItem, index) => (\n            <li key={`nav-item-${index}`} className=\"nav-item\">\n              {navItem}\n            </li>\n          ))}\n        </ul>\n      </nav>\n    </footer>\n  </>\n);\n","import React, { SFC } from 'react';\nimport classNames from 'classnames';\n\nexport type CenteredPageLayoutProps = {\n  className?: string;\n};\n\nexport const CenteredPageLayout: SFC<CenteredPageLayoutProps> = ({ children, className }) => (\n  <div\n    className={classNames('d-flex align-items-center w-100 text-center bg-light text-dark', className)}\n    style={{\n      height: '100vh',\n      position: 'fixed',\n      top: 0,\n      left: 0\n    }}\n  >\n    <section className=\"m-auto\">{children}</section>\n  </div>\n);\n","import React, { SFC, ReactNode } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { IconProp } from '@fortawesome/fontawesome-svg-core';\r\nimport { CenteredPageLayout } from 'components/layout';\r\n\r\nexport type EmptyPageProps = {\r\n  icon: IconProp;\r\n  text: string | ReactNode;\r\n  action: ReactNode;\r\n};\r\n\r\nconst EmptyPage: SFC<EmptyPageProps> = ({ icon, text, action }) => {\r\n  return (\r\n    <CenteredPageLayout>\r\n      <div>{icon && <FontAwesomeIcon icon={icon} size=\"7x\" />}</div>\r\n      <div>{text}</div>\r\n      {action && <nav className=\"m-5\">{action}</nav>}\r\n    </CenteredPageLayout>\r\n  );\r\n};\r\n\r\nexport default EmptyPage;\r\n","import React, { Component, ReactNode } from 'react';\r\nimport SwipeableViews from 'react-swipeable-views';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTimes, faCheck, faUndo } from '@fortawesome/free-solid-svg-icons';\r\n\r\nexport type SwipeableListItemProps = {\r\n  className: string;\r\n  rightSwipeElement: ReactNode;\r\n  leftSwipeElement: ReactNode;\r\n  onSwipeRight: () => void;\r\n  onSwipeLeft: () => void;\r\n};\r\n\r\nexport type SwipeableListItemState = {\r\n  index: number;\r\n};\r\n\r\nexport default class SwipeableListItem extends Component<SwipeableListItemProps, SwipeableListItemState> {\r\n  constructor(props: SwipeableListItemProps) {\r\n    super(props);\r\n    this.state = { index: 1 };\r\n  }\r\n\r\n  onChangeIndex = (index: number) => {\r\n    this.setState({ index });\r\n  };\r\n\r\n  onTransitionEnd = () => {\r\n    if (this.state.index === 0) {\r\n      this.props.onSwipeLeft();\r\n    } else if (this.state.index === 2) {\r\n      this.props.onSwipeRight();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { className, children, rightSwipeElement, leftSwipeElement } = this.props;\r\n\r\n    return (\r\n      <li className={className}>\r\n        <SwipeableViews\r\n          index={this.state.index}\r\n          onTransitionEnd={this.onTransitionEnd}\r\n          onChangeIndex={this.onChangeIndex}\r\n        >\r\n          {leftSwipeElement}\r\n          {children}\r\n          {rightSwipeElement}\r\n        </SwipeableViews>\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nexport const SwipedItemAcknowledged = () => (\r\n  <div className=\"d-flex bg-success text-white py-3 px-3 h-100 justify-content-end\">\r\n    <FontAwesomeIcon icon={faCheck} className=\"align-self-center\" />\r\n  </div>\r\n);\r\n\r\nexport const SwipedItemRemoved = () => (\r\n  <div className=\"bg-danger text-white py-3 px-3 h-100\">\r\n    <FontAwesomeIcon icon={faTimes} className=\"align-self-center\" />\r\n  </div>\r\n);\r\n\r\nexport const SwipedItemCanceled = () => (\r\n  <div className=\"d-flex bg-warning text-white py-3 px-3 h-100 justify-content-end\">\r\n    <FontAwesomeIcon icon={faUndo} className=\"align-self-center\" />\r\n  </div>\r\n);\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faListAlt } from '@fortawesome/free-regular-svg-icons';\r\nimport { faAngleRight, faSun, faPoo, faTrash, faCheck, faUndo } from '@fortawesome/free-solid-svg-icons';\r\nimport EmptyPage from '../../../components/empty-page/EmptyPage';\r\nimport SwipeableListItem, {\r\n  SwipedItemAcknowledged,\r\n  SwipedItemRemoved,\r\n  SwipedItemCanceled\r\n} from '../../../components/swipeable-list-item/SwipeableListItem';\r\nimport './ExerciseList.css';\r\nimport { Exercise } from '../../../store/types';\r\n\r\nconst mapExerciceItem = (onSwipeLeft: (id: string) => void, onSwipeRight: (id: string) => void) => ({\r\n  id,\r\n  name,\r\n  done\r\n}: Pick<Exercise, 'id' | 'done' | 'name'>) => {\r\n  return (\r\n    <SwipeableListItem\r\n      key={`exercise-${id}`}\r\n      className={'list-group-item p-0 ' + (done ? 'list-group-item-success' : '')}\r\n      onSwipeLeft={() => onSwipeLeft(id)}\r\n      onSwipeRight={() => onSwipeRight(id)}\r\n      leftSwipeElement={done ? <SwipedItemCanceled /> : <SwipedItemAcknowledged />}\r\n      rightSwipeElement={<SwipedItemRemoved />}\r\n    >\r\n      <Link\r\n        to={`/${id}`}\r\n        className={`d-flex py-3 px-3 list-group-item-action ${done ? 'list-group-item-success' : ''} h-100`}\r\n      >\r\n        <span className=\"flex-grow-1 p-1\">{name}</span>\r\n        <div\r\n          className=\"d-none d-sm-block btn-toolbar list-toolbar-hover\"\r\n          role=\"toolbar\"\r\n          aria-label=\"Toolbar with actions on the exercise\"\r\n        >\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-outline-dark rounded-circle border-0 mx-1\"\r\n            aria-label=\"Delete\"\r\n            onClick={e => {\r\n              onSwipeRight(id);\r\n              e.preventDefault();\r\n            }}\r\n          >\r\n            <FontAwesomeIcon icon={faTrash} />\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-outline-dark rounded-circle border-0 mx-1\"\r\n            aria-label=\"Complete\"\r\n            onClick={e => {\r\n              onSwipeLeft(id);\r\n              e.preventDefault();\r\n            }}\r\n          >\r\n            {done ? <FontAwesomeIcon icon={faUndo} /> : <FontAwesomeIcon icon={faCheck} />}\r\n          </button>\r\n        </div>\r\n        <span className=\"p-1 ml-1\">\r\n          <FontAwesomeIcon icon={faAngleRight} />\r\n        </span>\r\n      </Link>\r\n    </SwipeableListItem>\r\n  );\r\n};\r\n\r\nexport type ExerciseListProps = {\r\n  exercises: Exercise[];\r\n  onAddExercise: () => void;\r\n  onAcknowledgeExercise: (id: string) => void;\r\n  onDeleteExercise: (id: string) => void;\r\n  onCancelExercise: (id: string) => void;\r\n  loading?: boolean;\r\n  errorLoading?: boolean;\r\n};\r\n\r\nconst ExerciseList = ({\r\n  exercises = [],\r\n  onAddExercise,\r\n  onAcknowledgeExercise,\r\n  onDeleteExercise,\r\n  onCancelExercise,\r\n  loading = false,\r\n  errorLoading = false\r\n}: ExerciseListProps) => {\r\n  return exercises.length > 0 ? (\r\n    <ul className=\"list-group shadow-y-sm\">\r\n      {exercises && exercises.filter(e => !e.done).map(mapExerciceItem(onAcknowledgeExercise, onDeleteExercise))}\r\n      {exercises && exercises.filter(e => e.done).map(mapExerciceItem(onCancelExercise, onDeleteExercise))}\r\n    </ul>\r\n  ) : loading ? (\r\n    <EmptyPage text=\"Loading ...\" icon={faSun} action={<p>Your exercises are being loaded</p>} />\r\n  ) : errorLoading ? (\r\n    <EmptyPage\r\n      text=\"Error loading your exercises\"\r\n      icon={faPoo}\r\n      action={<p>Sorry an error occured loading your exercices !</p>}\r\n    />\r\n  ) : (\r\n    <EmptyPage\r\n      text=\"You have no exercises yet\"\r\n      icon={faListAlt}\r\n      action={\r\n        <>\r\n          <button className=\"btn btn-primary m-1\" onClick={() => onAddExercise()}>\r\n            Create your first exercise\r\n          </button>\r\n          <button className=\"btn btn-outline-primary m-1\">Import exercises</button>\r\n        </>\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default ExerciseList;\r\n","import React from 'react';\r\nimport ExerciseList, { ExerciseListProps } from './ExerciseList';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPlusSquare } from '@fortawesome/free-solid-svg-icons';\r\nimport { Layout } from '../../../components/layout';\r\nimport { version as appVersion } from '../../../../package.json';\r\n\r\nconst ExerciseListPage = ({\r\n  loading = false,\r\n  errorLoading = false,\r\n  exercises,\r\n  onAddExercise,\r\n  onDeleteExercise,\r\n  onAcknowledgeExercise,\r\n  onCancelExercise\r\n}: ExerciseListProps) => (\r\n  <Layout\r\n    header={\r\n      <>\r\n        <span className=\"navbar-brand mb-0 h1\">Exercises</span>\r\n        <span className=\"navbar-text\">{appVersion}</span>\r\n      </>\r\n    }\r\n    headerBackground={{ className: 'bg-primary', isLight: false }}\r\n    navItems={[\r\n      <button\r\n        key=\"nav-new-exercise\"\r\n        className=\"btn btn-link nav-link\"\r\n        disabled={loading || errorLoading}\r\n        onClick={() => onAddExercise()}\r\n      >\r\n        <FontAwesomeIcon icon={faPlusSquare} /> New exercise\r\n      </button>\r\n    ]}\r\n  >\r\n    <ExerciseList\r\n      exercises={exercises}\r\n      onAddExercise={onAddExercise}\r\n      onDeleteExercise={onDeleteExercise}\r\n      onAcknowledgeExercise={onAcknowledgeExercise}\r\n      onCancelExercise={onCancelExercise}\r\n      loading={loading}\r\n      errorLoading={errorLoading}\r\n    />\r\n  </Layout>\r\n);\r\n\r\nexport default ExerciseListPage;\r\n","import uuidv4 from 'uuid/v4';\nimport { Exercise, StepType, Step, UnexpectedError } from './types';\n\nexport type Action = {\n  type: string;\n  [key: string]: any;\n};\n\nexport const TYPES = {\n  FETCH_EXERCISES: {\n    REQUEST: 'exercises/FETCH_EXERCISES/REQUEST',\n    SUCCESS: 'exercises/FETCH_EXERCISES/SUCCESS',\n    FAILURE: 'exercises/FETCH_EXERCISES/FAILURE'\n  },\n  FETCH_EXERCISE: {\n    REQUEST: 'exercises/FETCH_EXERCISE/REQUEST',\n    SUCCESS: 'exercises/FETCH_EXERCISE/SUCCESS',\n    FAILURE: 'exercises/FETCH_EXERCISE/FAILURE'\n  },\n  ADD_EXERCISE: {\n    REQUEST: 'exercises/ADD_EXERCISE/REQUEST',\n    SUCCESS: 'exercises/ADD_EXERCISE/SUCCESS',\n    FAILURE: 'exercises/ADD_EXERCISE/FAILURE'\n  },\n  DELETE_EXERCISE: {\n    REQUEST: 'exercises/DELETE_EXERCISE/REQUEST',\n    SUCCESS: 'exercises/DELETE_EXERCISE/SUCCESS',\n    FAILURE: 'exercises/DELETE_EXERCISE/FAILURE'\n  },\n  ACKNOWLEDGE_EXERCISE: {\n    REQUEST: 'exercises/ACKNOWLEDGE_EXERCISE/REQUEST',\n    SUCCESS: 'exercises/ACKNOWLEDGE_EXERCISE/SUCCESS',\n    FAILURE: 'exercises/ACKNOWLEDGE_EXERCISE/FAILURE'\n  },\n  CANCEL_EXERCISE: {\n    REQUEST: 'exercises/CANCEL_EXERCISE/REQUEST',\n    SUCCESS: 'exercises/CANCEL_EXERCISE/SUCCESS',\n    FAILURE: 'exercises/CANCEL_EXERCISE/FAILURE'\n  },\n  UPDATE_EXERCISE_NAME: {\n    REQUEST: 'exercises/UPDATE_EXERCISE_NAME/REQUEST',\n    SUCCESS: 'exercises/UPDATE_EXERCISE_NAME/SUCCESS',\n    FAILURE: 'exercises/UPDATE_EXERCISE_NAME/FAILURE'\n  },\n  ADD_EXERCISE_STEP: {\n    REQUEST: 'exercises/ADD_EXERCISE_STEP/REQUEST',\n    SUCCESS: 'exercises/ADD_EXERCISE_STEP/SUCCESS',\n    FAILURE: 'exercises/ADD_EXERCISE_STEP/FAILURE'\n  },\n  DELETE_EXERCISE_STEP: {\n    REQUEST: 'exercises/DELETE_EXERCISE_STEP/REQUEST',\n    SUCCESS: 'exercises/DELETE_EXERCISE_STEP/SUCCESS',\n    FAILURE: 'exercises/DELETE_EXERCISE_STEP/FAILURE'\n  },\n  ACKNOWLEDGE_EXERCISE_STEP: {\n    REQUEST: 'exercises/ACKNOWLEDGE_EXERCISE_STEP/REQUEST',\n    SUCCESS: 'exercises/ACKNOWLEDGE_EXERCISE_STEP/SUCCESS',\n    FAILURE: 'exercises/ACKNOWLEDGE_EXERCISE_STEP/FAILURE'\n  },\n  CANCEL_EXERCISE_STEP: {\n    REQUEST: 'exercises/CANCEL_EXERCISE_STEP/REQUEST',\n    SUCCESS: 'exercises/CANCEL_EXERCISE_STEP/SUCCESS',\n    FAILURE: 'exercises/CANCEL_EXERCISE_STEP/FAILURE'\n  },\n  UPDATE_EXERCISE_STEP: {\n    REQUEST: 'exercises/UPDATE_EXERCISE_STEP/REQUEST',\n    SUCCESS: 'exercises/UPDATE_EXERCISE_STEP/SUCCESS',\n    FAILURE: 'exercises/UPDATE_EXERCISE_STEP/FAILURE'\n  },\n  MOVE_EXERCISE_STEP: {\n    REQUEST: 'exercises/MOVE_EXERCISE_STEP/REQUEST',\n    SUCCESS: 'exercises/MOVE_EXERCISE_STEP/SUCCESS',\n    FAILURE: 'exercises/MOVE_EXERCISE_STEP/FAILURE'\n  },\n  START_EXERCISE: 'exercises/START',\n  STOP_EXERCISE: 'exercises/STOP',\n  PAUSE_EXERCISE: 'exercises/PAUSE'\n};\n\n// FETCH_EXERCISES\nexport const fetchAllExercisesRequest = () => ({\n  type: TYPES.FETCH_EXERCISES.REQUEST\n});\nexport const fetchAllExercisesSuccess = (exercises: Exercise[]) => ({\n  type: TYPES.FETCH_EXERCISES.SUCCESS,\n  exercises\n});\nexport const fetchAllExercisesFailure = (error: UnexpectedError) => ({\n  type: TYPES.FETCH_EXERCISES.FAILURE,\n  error\n});\n\n// FETCH_EXERCISE\nexport const fetchExerciseRequest = (id: string) => ({\n  type: TYPES.FETCH_EXERCISE.REQUEST,\n  id\n});\nexport const fetchExerciseSuccess = (exercise: Exercise) => ({\n  type: TYPES.FETCH_EXERCISE.SUCCESS,\n  exercise\n});\nexport const fetchExerciseFailure = (id: string, error: UnexpectedError) => ({\n  type: TYPES.FETCH_EXERCISE.FAILURE,\n  id,\n  error\n});\n\n// ADD_EXERCISE\nexport const addExerciseRequest = () => {\n  const exercise: Exercise = {\n    id: uuidv4(),\n    name: 'New exercise',\n    type: null,\n    steps: [],\n    done: false,\n    progress: null\n  };\n  return {\n    type: TYPES.ADD_EXERCISE.REQUEST,\n    exercise\n  };\n};\nexport const addExerciseSuccess = (exercise: Exercise) => ({\n  type: TYPES.ADD_EXERCISE.SUCCESS,\n  exercise\n});\nexport const addExerciseFailure = (exercise: Exercise, error: UnexpectedError) => ({\n  type: TYPES.ADD_EXERCISE.FAILURE,\n  exercise,\n  error\n});\n\n// DELETE_EXERCISE\nexport const deleteExerciseRequest = (id: string) => ({\n  type: TYPES.DELETE_EXERCISE.REQUEST,\n  id\n});\nexport const deleteExerciseSuccess = (id: string) => ({\n  type: TYPES.DELETE_EXERCISE.SUCCESS,\n  id\n});\nexport const deleteExerciseFailure = (id: string, error: UnexpectedError) => ({\n  type: TYPES.DELETE_EXERCISE.FAILURE,\n  id,\n  error\n});\n\n// ACKNOWLEDGE_EXERCISE\nexport const acknowledgeExerciseRequest = (id: string) => ({\n  type: TYPES.ACKNOWLEDGE_EXERCISE.REQUEST,\n  id\n});\nexport const acknowledgeExerciseSuccess = (exercise: Exercise) => ({\n  type: TYPES.ACKNOWLEDGE_EXERCISE.SUCCESS,\n  exercise\n});\nexport const acknowledgeExerciseFailure = (exerciseId: string, error: UnexpectedError) => ({\n  type: TYPES.ACKNOWLEDGE_EXERCISE.FAILURE,\n  exerciseId,\n  error\n});\n\n// CANCEL_EXERCISE\nexport const cancelExerciseRequest = (id: string) => ({\n  type: TYPES.CANCEL_EXERCISE.REQUEST,\n  id\n});\nexport const cancelExerciseSuccess = (exercise: Exercise) => ({\n  type: TYPES.CANCEL_EXERCISE.SUCCESS,\n  exercise\n});\nexport const cancelExerciseFailure = (exerciseId: string, error: UnexpectedError) => ({\n  type: TYPES.CANCEL_EXERCISE.FAILURE,\n  exerciseId,\n  error\n});\n\n// UPDATE EXERCISE NAME\nexport const updateExerciseNameRequest = (id: string, name: string) => ({\n  type: TYPES.UPDATE_EXERCISE_NAME.REQUEST,\n  id,\n  name\n});\nexport const updateExerciseNameSuccess = (exercise: Exercise) => ({\n  type: TYPES.UPDATE_EXERCISE_NAME.SUCCESS,\n  exercise\n});\nexport const updateExerciseNameFailure = (id: string, error: UnexpectedError) => ({\n  type: TYPES.UPDATE_EXERCISE_NAME.FAILURE,\n  id,\n  error\n});\n\n// ACKNOWLEDGE_EXERCISE_STEP\nexport const acknowledgeExerciseStepRequest = (exerciseId: string, stepId: string) => ({\n  type: TYPES.ACKNOWLEDGE_EXERCISE_STEP.REQUEST,\n  exerciseId,\n  stepId\n});\nexport const acknowledgeExerciseStepSuccess = (exercise: Exercise) => ({\n  type: TYPES.ACKNOWLEDGE_EXERCISE_STEP.SUCCESS,\n  exercise\n});\nexport const acknowledgeExerciseStepFailure = (exerciseId: string, stepId: string, error: UnexpectedError) => ({\n  type: TYPES.ACKNOWLEDGE_EXERCISE_STEP.FAILURE,\n  exerciseId,\n  stepId,\n  error\n});\n\n// CANCEL_EXERCISE_STEP\nexport const cancelExerciseStepRequest = (exerciseId: string, stepId: string) => ({\n  type: TYPES.CANCEL_EXERCISE_STEP.REQUEST,\n  exerciseId,\n  stepId\n});\nexport const cancelExerciseStepSuccess = (exercise: Exercise) => ({\n  type: TYPES.CANCEL_EXERCISE_STEP.SUCCESS,\n  exercise\n});\nexport const cancelExerciseStepFailure = (exerciseId: string, stepId: string, error: UnexpectedError) => ({\n  type: TYPES.CANCEL_EXERCISE_STEP.FAILURE,\n  exerciseId,\n  stepId,\n  error\n});\n\n// ADD_EXERCISE_STEP\nexport const addExerciseStepRequest = (exerciseId: string, stepType: StepType, stepContent?: Step) => {\n  const step = createExerciseStep(stepType, stepContent);\n  return {\n    type: TYPES.ADD_EXERCISE_STEP.REQUEST,\n    exerciseId,\n    stepType,\n    step\n  };\n};\nexport const addExerciseStepSuccess = (exercise: Exercise) => ({\n  type: TYPES.ADD_EXERCISE_STEP.SUCCESS,\n  exercise\n});\nexport const addExerciseStepFailure = (exerciseId: string, error: UnexpectedError) => ({\n  type: TYPES.ADD_EXERCISE_STEP.FAILURE,\n  exerciseId,\n  error\n});\n\nconst createExerciseStep = (type: StepType, stepContent?: Step) => {\n  switch (type) {\n    case 'timed':\n      return {\n        duration: 0,\n        rest: 0,\n        ...stepContent,\n        id: uuidv4(),\n        done: false\n      };\n    case 'repetition':\n      return {\n        kg: 0,\n        repetition: 1,\n        rest: 0,\n        ...stepContent,\n        id: uuidv4(),\n        done: false\n      };\n    default:\n      throw new Error(`Unknown step type \"${type}\"`);\n  }\n};\n\n// DELETE_EXERCISE_STEP\nexport const deleteExerciseStepRequest = (exerciseId: string, stepId: string) => ({\n  type: TYPES.DELETE_EXERCISE_STEP.REQUEST,\n  exerciseId,\n  stepId\n});\nexport const deleteExerciseStepSuccess = (exercise: Exercise) => ({\n  type: TYPES.DELETE_EXERCISE_STEP.SUCCESS,\n  exercise\n});\nexport const deleteExerciseStepFailure = (exerciseId: string, stepId: string, error: UnexpectedError) => ({\n  type: TYPES.DELETE_EXERCISE_STEP.FAILURE,\n  exerciseId,\n  stepId,\n  error\n});\n\n// UPDATE_EXERCISE_STEP\nexport const updateExerciseStepRequest = (exerciseId: string, stepId: string, contentPatch: Partial<Step>) => ({\n  type: TYPES.UPDATE_EXERCISE_STEP.REQUEST,\n  exerciseId,\n  stepId,\n  contentPatch\n});\nexport const updateExerciseStepSuccess = (exercise: Exercise) => ({\n  type: TYPES.UPDATE_EXERCISE_STEP.SUCCESS,\n  exercise\n});\nexport const updateExerciseStepFailure = (\n  exerciseId: string,\n  stepId: string,\n  contentPatch: Partial<Step>,\n  error: UnexpectedError\n) => ({\n  type: TYPES.DELETE_EXERCISE_STEP.FAILURE,\n  exerciseId,\n  stepId,\n  contentPatch,\n  error\n});\n\n// MOVE_EXERCISE_STEP\nexport const moveExerciseStepRequest = (exerciseId: string, oldIndex: number, newIndex: number) => ({\n  type: TYPES.MOVE_EXERCISE_STEP.REQUEST,\n  exerciseId,\n  oldIndex,\n  newIndex\n});\nexport const moveExerciseStepSuccess = (exercise: Exercise) => ({\n  type: TYPES.MOVE_EXERCISE_STEP.SUCCESS,\n  exercise\n});\nexport const moveExerciseStepFailure = (\n  exerciseId: string,\n  oldIndex: number,\n  newIndex: number,\n  error: UnexpectedError\n) => ({\n  type: TYPES.MOVE_EXERCISE_STEP.FAILURE,\n  exerciseId,\n  oldIndex,\n  newIndex,\n  error\n});\n\n// START_EXERCISE\nexport const startExercise = (exercise: Exercise) => ({\n  type: TYPES.START_EXERCISE,\n  exercise\n});\n\n// STOP_EXERCISE\nexport const stopExercise = (exercise: Exercise) => ({\n  type: TYPES.STOP_EXERCISE,\n  exercise\n});\n\n// PAUSE_EXERCISE\nexport const pauseExercise = (exercise: Exercise) => ({\n  type: TYPES.PAUSE_EXERCISE,\n  exercise\n});\n","import React, { Component } from 'react';\r\nimport { connect, MapStateToProps, MapDispatchToProps } from 'react-redux';\r\nimport { getExerciseList, areExercisesLoading, hasErrorLoadingExercises } from '../../../store/selectors';\r\nimport ExerciseListPage from '../presentational/ExerciseListPage';\r\nimport {\r\n  fetchAllExercisesRequest,\r\n  deleteExerciseRequest,\r\n  acknowledgeExerciseRequest,\r\n  cancelExerciseRequest,\r\n  addExerciseRequest\r\n} from '../../../store/actions';\r\nimport { AppStore } from '../../../store/reducer';\r\nimport { Exercise } from '../../../store/types';\r\n\r\ntype ExerciceListPageContainerStateProps = {\r\n  exercises: Exercise[];\r\n  loading: boolean;\r\n  errorLoading: boolean;\r\n};\r\n\r\ntype ExerciceListPageContainerDispatchProps = {\r\n  load: () => void;\r\n  onAddExercise: () => void;\r\n  onDeleteExercise: (id: string) => void;\r\n  onAcknowledgeExercise: (id: string) => void;\r\n  onCancelExercise: (id: string) => void;\r\n};\r\n\r\nexport type ExerciceListPageContainerOwnProps = {};\r\n\r\ntype ExerciceListPageContainerProps = ExerciceListPageContainerStateProps &\r\n  ExerciceListPageContainerDispatchProps &\r\n  ExerciceListPageContainerOwnProps;\r\n\r\nconst mapStateToProps: MapStateToProps<\r\n  ExerciceListPageContainerStateProps,\r\n  ExerciceListPageContainerOwnProps,\r\n  AppStore\r\n> = state => ({\r\n  exercises: getExerciseList(state),\r\n  loading: areExercisesLoading(state),\r\n  errorLoading: hasErrorLoadingExercises(state)\r\n});\r\n\r\nconst mapDispatchToProps: MapDispatchToProps<\r\n  ExerciceListPageContainerDispatchProps,\r\n  ExerciceListPageContainerOwnProps\r\n> = dispatch => ({\r\n  load: () => dispatch(fetchAllExercisesRequest()),\r\n  onAddExercise: () => dispatch(addExerciseRequest()),\r\n  onDeleteExercise: (id: string) => dispatch(deleteExerciseRequest(id)),\r\n  onAcknowledgeExercise: (id: string) => dispatch(acknowledgeExerciseRequest(id)),\r\n  onCancelExercise: (id: string) => dispatch(cancelExerciseRequest(id))\r\n});\r\n\r\nclass ExerciceListPageContainer extends Component<ExerciceListPageContainerProps> {\r\n  componentDidMount() {\r\n    if (this.props.exercises.length === 0) {\r\n      this.props.load();\r\n    }\r\n  }\r\n  render() {\r\n    const { load, ...restProps } = this.props;\r\n    return <ExerciseListPage {...restProps} />;\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ExerciceListPageContainer);\r\n","import React from 'react';\r\nimport { SortableHandle } from 'react-sortable-hoc';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faBars, faDumbbell, faTimes, faHandPaper, faClock } from '@fortawesome/free-solid-svg-icons';\r\nimport { StepRepetition as StepRepetitionType, StepTimed as StepTimedType } from '../../../store/types';\r\n\r\nconst DragHandle = SortableHandle(() => (\r\n  <div className=\"list-group-item-drag-handle\" style={{ width: '1em' }}>\r\n    <FontAwesomeIcon icon={faBars} />\r\n  </div>\r\n));\r\n\r\nconst InputNumber = ({\r\n  defaultValue,\r\n  placeholder,\r\n  onChange\r\n}: {\r\n  defaultValue: number;\r\n  placeholder: string;\r\n  onChange: (e: React.SyntheticEvent<HTMLInputElement>) => void;\r\n}) => (\r\n  <input\r\n    type=\"number\"\r\n    className=\"form-control form-control-sm mx-auto\"\r\n    placeholder={placeholder}\r\n    defaultValue={`${defaultValue}`}\r\n    onChange={onChange}\r\n    min=\"0\"\r\n    max=\"999\"\r\n    style={{ width: '4em' }}\r\n    required\r\n  />\r\n);\r\n\r\nexport type StepRepetitionProps = {\r\n  kg: StepRepetitionType['kg'];\r\n  repetition: StepRepetitionType['repetition'];\r\n  rest: StepRepetitionType['rest'];\r\n  onContentChange: (content: Partial<StepRepetitionType>) => void;\r\n};\r\n\r\nexport const StepRepetition = ({ kg, repetition, rest, onContentChange }: StepRepetitionProps) => (\r\n  <div className=\"d-flex justify-content-between p-3\">\r\n    <div>\r\n      <InputNumber\r\n        defaultValue={kg}\r\n        placeholder=\"Kg\"\r\n        onChange={(e: React.SyntheticEvent<HTMLInputElement>) =>\r\n          onContentChange({ kg: parseFloat(e.currentTarget.value) })\r\n        }\r\n      />\r\n    </div>\r\n    <div>\r\n      <InputNumber\r\n        defaultValue={repetition}\r\n        placeholder=\"Repetition\"\r\n        onChange={e => onContentChange({ repetition: parseFloat(e.currentTarget.value) })}\r\n      />\r\n    </div>\r\n    <div>\r\n      <InputNumber\r\n        defaultValue={rest}\r\n        placeholder=\"Rest\"\r\n        onChange={e => onContentChange({ rest: parseFloat(e.currentTarget.value) })}\r\n      />\r\n    </div>\r\n    <DragHandle />\r\n  </div>\r\n);\r\n\r\nexport const HeaderStepRepetition = () => (\r\n  <header className=\"list-group-item-header border-top-0 border-left-0 border-right-0 d-flex justify-content-between text-dark text-center\">\r\n    <div style={{ width: '4em' }}>\r\n      <FontAwesomeIcon icon={faDumbbell} size=\"lg\" />\r\n    </div>\r\n    <div style={{ width: '4em' }}>\r\n      <FontAwesomeIcon icon={faTimes} size=\"lg\" />\r\n    </div>\r\n    <div style={{ width: '4em' }}>\r\n      <FontAwesomeIcon icon={faHandPaper} size=\"lg\" />\r\n    </div>\r\n    <div style={{ width: '1em' }} />\r\n  </header>\r\n);\r\n\r\nexport const HeaderStepTimed = () => (\r\n  <header className=\"list-group-item-header border-top-0 border-left-0 border-right-0 d-flex justify-content-between text-dark text-center\">\r\n    <div style={{ width: '4em' }}>\r\n      <FontAwesomeIcon icon={faClock} size=\"lg\" />\r\n    </div>\r\n    <div style={{ width: '4em' }}>\r\n      <FontAwesomeIcon icon={faHandPaper} size=\"lg\" />\r\n    </div>\r\n    <div style={{ width: '1em' }} />\r\n  </header>\r\n);\r\n\r\nexport type StepTimedProps = {\r\n  duration: StepTimedType['duration'];\r\n  rest: StepTimedType['rest'];\r\n  onContentChange: (content: Partial<StepTimedType>) => void;\r\n};\r\n\r\nexport const StepTimed = ({ duration, rest, onContentChange }: StepTimedProps) => (\r\n  <div className=\"d-flex justify-content-between p-3\">\r\n    <div>\r\n      <InputNumber\r\n        defaultValue={duration}\r\n        placeholder=\"Duration\"\r\n        onChange={e => onContentChange({ duration: parseFloat(e.currentTarget.value) })}\r\n      />\r\n    </div>\r\n    <div>\r\n      <InputNumber\r\n        defaultValue={rest}\r\n        placeholder=\"Rest\"\r\n        onChange={e => onContentChange({ rest: parseFloat(e.currentTarget.value) })}\r\n      />\r\n    </div>\r\n    <DragHandle />\r\n  </div>\r\n);\r\n","import React, { Component, ReactNode } from 'react';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faDumbbell, faStopwatch } from '@fortawesome/free-solid-svg-icons';\nimport SwipeableListItem, {\n  SwipedItemAcknowledged,\n  SwipedItemRemoved,\n  SwipedItemCanceled\n} from '../../../components/swipeable-list-item/SwipeableListItem';\nimport { StepRepetition, HeaderStepRepetition, HeaderStepTimed, StepTimed } from './ExerciseStep';\nimport {\n  Exercise as ExerciseType,\n  StepType,\n  Step,\n  StepTimed as StepTimedType,\n  StepRepetition as StepRepetitionType\n} from '../../../store/types';\n\ntype SortableStepProps = {\n  type: StepType;\n  step: Step;\n  onSwipeLeft: () => void;\n  onSwipeRight: () => void;\n  leftSwipeElement: ReactNode;\n  rightSwipeElement: ReactNode;\n  onContentChange: (content: Partial<StepRepetitionType>) => void;\n};\n\nconst SortableStep = SortableElement(\n  ({\n    type,\n    step: { done, ...content },\n    onSwipeLeft,\n    onSwipeRight,\n    leftSwipeElement,\n    rightSwipeElement,\n    onContentChange\n  }: SortableStepProps) => (\n    <SwipeableListItem\n      className={'list-group-item p-0 ' + (done ? 'list-group-item-success' : '')}\n      onSwipeLeft={onSwipeLeft}\n      onSwipeRight={onSwipeRight}\n      leftSwipeElement={leftSwipeElement}\n      rightSwipeElement={rightSwipeElement}\n    >\n      {type === 'timed' ? (\n        <StepTimed\n          duration={(content as StepTimedType).duration}\n          rest={content.rest}\n          onContentChange={onContentChange}\n        />\n      ) : (\n        <StepRepetition\n          kg={(content as StepRepetitionType).kg}\n          repetition={(content as StepRepetitionType).repetition}\n          rest={content.rest}\n          onContentChange={onContentChange}\n        />\n      )}\n    </SwipeableListItem>\n  )\n);\n\ntype SortableStepListProps = {\n  type: StepType;\n  onSwipeLeft: (step: Step) => void;\n  onSwipeRight: (step: Step) => void;\n  leftSwipeElement: ReactNode;\n  rightSwipeElement: ReactNode;\n  steps: Step[];\n  onUpdateStep: (stepId: string) => (content: Partial<StepRepetitionType>) => void;\n};\n\nconst SortableStepList = SortableContainer(\n  ({\n    type,\n    onSwipeLeft,\n    onSwipeRight,\n    leftSwipeElement,\n    rightSwipeElement,\n    steps,\n    onUpdateStep\n  }: SortableStepListProps) => (\n    <ul className=\"list-group list-group-flush\">\n      {steps.map((step, index) => (\n        <SortableStep\n          key={`item-${step.id}`}\n          index={index}\n          type={type}\n          step={step}\n          onSwipeRight={() => onSwipeRight(step)}\n          onSwipeLeft={() => onSwipeLeft(step)}\n          leftSwipeElement={leftSwipeElement}\n          rightSwipeElement={rightSwipeElement}\n          onContentChange={onUpdateStep(step.id)}\n        />\n      ))}\n    </ul>\n  )\n);\n\nexport type ExerciseProps = {\n  exercise: ExerciseType;\n  onAddFirstStep: (stepType: StepType) => (stepContent?: Step) => void;\n  onDeleteStep: (stepId: string) => void;\n  onAcknowledgeStep: (stepId: string) => void;\n  onCancelStep: (stepId: string) => void;\n  onUpdateStep: (stepId: string) => (contentPatch: Partial<Step>) => void;\n  onMoveStep: (p: { oldIndex: number; newIndex: number }) => void;\n  onStartExercise: () => void;\n  onExerciseNameChange: (name: string) => void;\n};\n\nexport type ExerciseState = {\n  name: string;\n};\n\nclass Exercise extends Component<ExerciseProps, ExerciseState> {\n  constructor(props: ExerciseProps) {\n    super(props);\n    const { name } = props.exercise;\n    this.state = {\n      name: name\n    };\n  }\n\n  render() {\n    const { name } = this.state;\n    const {\n      onAddFirstStep,\n      onDeleteStep,\n      onAcknowledgeStep,\n      onCancelStep,\n      onUpdateStep,\n      onMoveStep,\n      onExerciseNameChange,\n      exercise: { type, steps }\n    } = this.props;\n    return (\n      <article className=\"card\">\n        <form onSubmit={e => e.preventDefault()}>\n          <header className=\"card-body\">\n            <label htmlFor=\"exerciseName\" className=\"d-none\">\n              Exercise name\n            </label>\n            <input\n              type=\"text\"\n              className=\"form-control font-weight-bold text-primary\"\n              id=\"exerciseName\"\n              placeholder=\"Your exercise name\"\n              defaultValue={name}\n              onChange={e => onExerciseNameChange(e.currentTarget.value)}\n              autoComplete=\"off\"\n              required\n            />\n          </header>\n          <>\n            {type && steps && steps.length > 0 ? (\n              <section>\n                {type === 'timed' ? <HeaderStepTimed /> : <HeaderStepRepetition />}\n                <SortableStepList\n                  type={type}\n                  steps={steps.filter(step => !step.done)}\n                  onSortEnd={({ oldIndex, newIndex }) => onMoveStep({ oldIndex, newIndex })}\n                  onSwipeLeft={step => onAcknowledgeStep(step.id)}\n                  onSwipeRight={step => onDeleteStep(step.id)}\n                  leftSwipeElement={<SwipedItemAcknowledged />}\n                  rightSwipeElement={<SwipedItemRemoved />}\n                  onUpdateStep={onUpdateStep}\n                  lockAxis=\"y\"\n                  useDragHandle={true}\n                  helperClass=\"list-group-item-sortable-helper\"\n                />\n                <SortableStepList\n                  type={type}\n                  steps={steps.filter(step => step.done)}\n                  onSortEnd={({ oldIndex, newIndex }) => onMoveStep({ oldIndex, newIndex })}\n                  onSwipeLeft={step => onCancelStep(step.id)}\n                  onSwipeRight={step => onDeleteStep(step.id)}\n                  leftSwipeElement={<SwipedItemCanceled />}\n                  rightSwipeElement={<SwipedItemRemoved />}\n                  onUpdateStep={onUpdateStep}\n                  lockAxis=\"y\"\n                  useDragHandle={true}\n                  helperClass=\"list-group-item-sortable-helper\"\n                />\n              </section>\n            ) : (\n              <section className=\"card-body text-center\">\n                <p className=\"card-text lead\">Choose your exercise type:</p>\n                <button type=\"button\" className=\"btn btn-outline-primary m-1\" onClick={() => onAddFirstStep('timed')()}>\n                  <FontAwesomeIcon icon={faStopwatch} /> Time serie\n                </button>\n                <button\n                  type=\"button\"\n                  className=\"btn btn-outline-primary m-1\"\n                  onClick={() => onAddFirstStep('repetition')()}\n                >\n                  <FontAwesomeIcon icon={faDumbbell} /> Repetition serie\n                </button>\n              </section>\n            )}\n          </>\n        </form>\n      </article>\n    );\n  }\n}\n\nexport default Exercise;\n","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlusSquare, faPlay, faTimes, faPoo, faSun } from '@fortawesome/free-solid-svg-icons';\nimport { faFrown } from '@fortawesome/free-regular-svg-icons';\nimport { Link } from 'react-router-dom';\nimport EmptyPage from '../../../components/empty-page/EmptyPage';\nimport { Layout } from '../../../components/layout';\nimport { StepType, Step, Exercise as ExerciseType } from '../../../store/types';\nimport Exercise from './Exercise';\n\nconst LoadingPage = () => (\n  <EmptyPage text=\"Loading ...\" icon={faSun} action={<div>Your exercise is being loaded</div>} />\n);\nconst ErrorLoadingPage = () => (\n  <EmptyPage\n    text=\"Error loading your exercise\"\n    icon={faPoo}\n    action={<div>Sorry an error occured loading your exercice !</div>}\n  />\n);\nconst ExerciseNotFoundPage = () => (\n  <EmptyPage\n    text=\"Exercise not found\"\n    icon={faFrown}\n    action={\n      <Link className=\"btn btn-primary\" to=\"/\">\n        Back to exercises\n      </Link>\n    }\n  />\n);\n\nconst firstStepIdToRun = (steps: Step[]) => {\n  const stepNotDone = steps.filter(step => !step.done);\n  return stepNotDone.length > 0 ? stepNotDone[0].id : steps.length > 0 ? steps[0].id : undefined;\n};\n\nexport type ExercisePageProps = {\n  loading?: boolean;\n  exercise?: ExerciseType;\n  errorLoading?: boolean;\n  onAddStep: (exerciseId: string) => (stepType: StepType) => (stepContent?: Step) => void;\n  onDeleteStep: (exerciseId: string) => (stepId: string) => void;\n  onAcknowledgeStep: (exerciseId: string) => (stepId: string) => void;\n  onCancelStep: (exerciseId: string) => (stepId: string) => void;\n  onUpdateStep: (exerciseId: string) => (stepId: string) => (contentPatch: Partial<Step>) => void;\n  onMoveStep: (exerciseId: string) => (p: { oldIndex: number; newIndex: number }) => void;\n  onStartExercise: () => void;\n  onExerciseNameChange: (exerciseId: string) => (name: string) => void;\n};\n\nconst ExercisePage = ({\n  loading = false,\n  errorLoading = false,\n  exercise,\n  onAddStep,\n  onDeleteStep,\n  onAcknowledgeStep,\n  onCancelStep,\n  onStartExercise,\n  onUpdateStep,\n  onMoveStep,\n  onExerciseNameChange\n}: ExercisePageProps) => {\n  const header = (\n    <Link to=\"/\" className=\"btn btn-link text-dark\" aria-label=\"Back to exercises list\">\n      <FontAwesomeIcon icon={faTimes} />\n    </Link>\n  );\n  let navItems = [\n    loading || errorLoading || !exercise || exercise.steps.length === 0 ? (\n      <button key=\"nav-start\" className=\"btn btn-link nav-link btn-block\" disabled>\n        <FontAwesomeIcon icon={faPlay} /> Start\n      </button>\n    ) : (\n      <Link\n        to={`/${exercise!.id}/runner/${firstStepIdToRun(exercise.steps)}`}\n        key=\"nav-start\"\n        className=\"btn btn-link nav-link btn-block\"\n      >\n        <FontAwesomeIcon icon={faPlay} /> Start\n      </Link>\n    )\n  ];\n  if (exercise && exercise.type) {\n    navItems = [\n      ...navItems,\n      <button\n        key=\"nav-new-step\"\n        className=\"btn btn-link nav-link btn-block\"\n        disabled={loading || errorLoading}\n        onClick={() => onAddStep(exercise.id)(exercise.type!)(exercise.steps[exercise.steps.length - 1])}\n      >\n        <FontAwesomeIcon icon={faPlusSquare} /> New step\n      </button>\n    ];\n  }\n  return (\n    <Layout header={header} navItems={navItems}>\n      {loading ? (\n        <LoadingPage />\n      ) : errorLoading ? (\n        <ErrorLoadingPage />\n      ) : exercise ? (\n        <Exercise\n          exercise={exercise}\n          onAddFirstStep={onAddStep(exercise.id)}\n          onDeleteStep={onDeleteStep(exercise.id)}\n          onAcknowledgeStep={onAcknowledgeStep(exercise.id)}\n          onCancelStep={onCancelStep(exercise.id)}\n          onUpdateStep={onUpdateStep(exercise.id)}\n          onMoveStep={onMoveStep(exercise.id)}\n          onExerciseNameChange={onExerciseNameChange(exercise.id)}\n          onStartExercise={() => {\n            return;\n          }}\n        />\n      ) : (\n        <ExerciseNotFoundPage />\n      )}\n    </Layout>\n  );\n};\n\nexport default ExercisePage;\n","import React, { Component } from 'react';\nimport { connect, MapStateToProps, MapDispatchToProps } from 'react-redux';\nimport { getExerciseById, areExercisesLoading, hasErrorLoadingExercises } from '../../../store/selectors';\nimport ExercisePage from '../presentational/ExercisePage';\nimport {\n  fetchAllExercisesRequest,\n  updateExerciseNameRequest,\n  addExerciseStepRequest,\n  deleteExerciseStepRequest,\n  acknowledgeExerciseStepRequest,\n  cancelExerciseStepRequest,\n  updateExerciseStepRequest,\n  moveExerciseStepRequest\n} from '../../../store/actions';\nimport { AppStore } from '../../../store/reducer';\nimport { StepType, Step, Exercise } from '../../../store/types';\n\ntype ExercicePageContainerStateProps = {\n  exercise: Exercise;\n  loading: boolean;\n  errorLoading: boolean;\n};\n\ntype ExercicePageContainerDispatchProps = {\n  load: () => void;\n  onAddStep: (exerciseId: string) => (stepType: StepType) => (stepContent?: Step) => void;\n  onDeleteStep: (exerciseId: string) => (stepId: string) => void;\n  onAcknowledgeStep: (exerciseId: string) => (stepId: string) => void;\n  onCancelStep: (exerciseId: string) => (stepId: string) => void;\n  onUpdateStep: (exerciseId: string) => (stepId: string) => (contentPatch: Partial<Step>) => void;\n  onMoveStep: (exerciseId: string) => (p: { oldIndex: number; newIndex: number }) => void;\n  onStartExercise: () => void;\n  onExerciseNameChange: (id: string) => (name: string) => void;\n};\n\nexport type ExercicePageContainerOwnProps = {\n  exerciseId: string;\n};\n\nconst mapStateToProps: MapStateToProps<ExercicePageContainerStateProps, ExercicePageContainerOwnProps, AppStore> = (\n  state,\n  ownProps\n) => ({\n  exercise: getExerciseById(state)(ownProps.exerciseId),\n  loading: areExercisesLoading(state),\n  errorLoading: hasErrorLoadingExercises(state)\n});\n\nconst mapDispatchToProps: MapDispatchToProps<\n  ExercicePageContainerDispatchProps,\n  ExercicePageContainerOwnProps\n> = dispatch => {\n  return {\n    load: () => dispatch(fetchAllExercisesRequest()),\n    onAddStep: (exerciseId: string) => (stepType: StepType) => (stepContent?: Step) =>\n      dispatch(addExerciseStepRequest(exerciseId, stepType, stepContent)),\n    onDeleteStep: (exerciseId: string) => (stepId: string) => dispatch(deleteExerciseStepRequest(exerciseId, stepId)),\n    onAcknowledgeStep: (exerciseId: string) => (stepId: string) =>\n      dispatch(acknowledgeExerciseStepRequest(exerciseId, stepId)),\n    onCancelStep: (exerciseId: string) => (stepId: string) => dispatch(cancelExerciseStepRequest(exerciseId, stepId)),\n    onUpdateStep: (exerciseId: string) => (stepId: string) => (contentPatch: Partial<Step>) =>\n      dispatch(updateExerciseStepRequest(exerciseId, stepId, contentPatch)),\n    onMoveStep: (exerciseId: string) => ({ oldIndex, newIndex }: { oldIndex: number; newIndex: number }) =>\n      dispatch(moveExerciseStepRequest(exerciseId, oldIndex, newIndex)),\n    onStartExercise: () => {\n      return;\n    },\n    onExerciseNameChange: (id: string) => (name: string) => dispatch(updateExerciseNameRequest(id, name))\n  };\n};\n\ntype ExercicePageContainerProps = ExercicePageContainerStateProps &\n  ExercicePageContainerDispatchProps &\n  ExercicePageContainerOwnProps;\n\nclass ExercicePageContainer extends Component<ExercicePageContainerProps> {\n  componentDidMount() {\n    if (!this.props.exercise) {\n      this.props.load();\n    }\n  }\n  render() {\n    const { load, ...restProps } = this.props;\n    return <ExercisePage {...restProps} />;\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ExercicePageContainer);\n","import React, { SFC } from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport { Store } from 'redux';\r\n\r\nexport type RootContainerProps = {\r\n  store: Store;\r\n};\r\nconst RootContainer: SFC<RootContainerProps> = ({ children, store }) => <Provider store={store}>{children}</Provider>;\r\n\r\nexport default RootContainer;\r\n","import React from 'react';\nimport EmptyPage from './EmptyPage';\nimport { faKiwiBird } from '@fortawesome/free-solid-svg-icons';\nimport { RouteComponentProps } from 'react-router';\n\nexport default ({ history }: RouteComponentProps) => {\n  const goBackButton = (\n    <button className=\"btn btn-primary\" onClick={() => history.goBack()}>\n      Go back\n    </button>\n  );\n  return <EmptyPage icon={faKiwiBird} text={'Sorry, page was not found'} action={goBackButton} />;\n};\n","import React, { PureComponent } from 'react';\nimport classNames from 'classnames';\nimport './styles.css';\nimport { faRedo } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nexport type TimedProgressProps = {\n  totalTime: number;\n  tick_ms: number;\n  theme: 'rest' | 'exercise';\n  onFinished: () => void;\n};\nexport type TimedProgressState = {\n  remainingTime: number;\n  status: 'STOPPED' | 'RUNNING' | 'FINISHED';\n};\n\nexport class TimedProgress extends PureComponent<TimedProgressProps, TimedProgressState> {\n  constructor(props: TimedProgressProps) {\n    super(props);\n    this.state = {\n      remainingTime: this.props.totalTime,\n      status: 'STOPPED'\n    };\n  }\n\n  static defaultProps: Pick<TimedProgressProps, 'onFinished' | 'tick_ms' | 'theme'> = {\n    tick_ms: 1000,\n    theme: 'exercise',\n    onFinished: () => {\n      return;\n    }\n  };\n\n  intervalId?: number;\n  timeoutId?: number;\n\n  clearTimers = () => {\n    this.intervalId && clearInterval(this.intervalId);\n    this.intervalId = undefined;\n    this.timeoutId && clearTimeout(this.timeoutId);\n    this.timeoutId = undefined;\n  };\n  startTimers = () => {\n    this.tick();\n    this.clearTimers();\n    this.intervalId = window.setInterval(this.tick, this.props.tick_ms);\n    this.timeoutId = window.setTimeout(this.finish, this.state.remainingTime * 1000);\n  };\n\n  start = () => {\n    if (this.state.status !== 'RUNNING' && this.state.remainingTime > 0) {\n      this.setState({ status: 'RUNNING' }, () => {\n        this.startTimers();\n      });\n    }\n  };\n  stop = () => {\n    this.clearTimers();\n    this.setState({ status: 'STOPPED' });\n  };\n  finish = () => {\n    this.clearTimers();\n    this.setState({ status: 'FINISHED', remainingTime: 0 });\n    this.props.onFinished();\n  };\n  reset = () => {\n    this.setState({ remainingTime: this.props.totalTime }, () => {\n      if (this.state.status === 'RUNNING') this.startTimers();\n    });\n  };\n  tick = () => {\n    this.setState(state => {\n      const newTime = state.remainingTime - this.props.tick_ms! / 1000;\n      return newTime >= 0 ? { remainingTime: newTime } : { remainingTime: 0 };\n    });\n  };\n\n  onTapTimer = () => (this.state.status === 'RUNNING' ? this.stop() : this.start());\n\n  getStrokeDashoffset = (percentage = 0) => {\n    const r = 90;\n    const c = Math.PI * (r * 2);\n\n    return percentage * c;\n  };\n\n  componentDidMount() {\n    if (this.props.theme === 'rest') {\n      this.start();\n    }\n  }\n  componentWillUnmount() {\n    this.clearTimers();\n  }\n\n  render() {\n    const { status, remainingTime } = this.state;\n    return (\n      <>\n        <div>{status}</div>\n        <div className={classNames('timer-container', { rest: this.props.theme === 'rest' })} onClick={this.onTapTimer}>\n          <svg\n            className=\"timer-svg m-auto d-flex\"\n            width=\"200\"\n            height=\"200\"\n            version=\"1.1\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            transform=\"rotate(-90)\"\n          >\n            <filter xmlns=\"http://www.w3.org/2000/svg\" id=\"dropshadow\" height=\"130%\">\n              <feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"3\" />\n              <feOffset dx=\"2\" dy=\"2\" result=\"offsetblur\" />\n              <feComponentTransfer>\n                <feFuncA type=\"linear\" slope=\"0.2\" />\n              </feComponentTransfer>\n              <feMerge>\n                <feMergeNode />\n                <feMergeNode in=\"SourceGraphic\" />\n              </feMerge>\n            </filter>\n            <circle\n              className=\"progress-bar\"\n              filter=\"url(#dropshadow)\"\n              r=\"90\"\n              cx=\"100\"\n              cy=\"100\"\n              fill=\"transparent\"\n              strokeDasharray=\"565.48\"\n              strokeDashoffset=\"0\"\n            />\n            <circle\n              className=\"bar\"\n              r=\"90\"\n              cx=\"100\"\n              cy=\"100\"\n              fill=\"transparent\"\n              strokeDasharray=\"565.48\"\n              strokeDashoffset={this.getStrokeDashoffset(remainingTime / this.props.totalTime)}\n              style={\n                status === 'RUNNING' ? { transition: `stroke-dashoffset ${this.props.tick_ms! / 1000}s linear` } : {}\n              }\n            />\n          </svg>\n          <div className=\"timer-info d-flex\">\n            <div className=\"m-auto display-2\">{Math.ceil(remainingTime)}</div>\n          </div>\n        </div>\n        <div className=\"my-2\">\n          <button className=\"btn btn-block btn-link m-1\" onClick={this.reset}>\n            <FontAwesomeIcon flip=\"horizontal\" icon={faRedo} /> Reset\n          </button>\n        </div>\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport { faDumbbell, faTimes } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nexport type RepetitionProgressProps = {\n  kg: number;\n  repetition: number;\n  onFinished: () => void;\n};\n\nexport const RepetitionProgress = ({ onFinished, kg, repetition }: RepetitionProgressProps) => (\n  <>\n    <div className=\"d-flex justify-content-around align-items-center\">\n      <FontAwesomeIcon className=\"m-2 display-3\" icon={faDumbbell} aria-label=\"weight in kg\" />\n      <span className=\"m-2 text-primary display-2\">{kg}</span>\n    </div>\n    <div className=\"d-flex justify-content-around align-items-center\">\n      <FontAwesomeIcon className=\"m-2 display-2\" icon={faTimes} aria-label=\"repetition\" />\n      <span className=\"m-2 text-primary display-3\">{repetition}</span>\n    </div>\n  </>\n);\n","import React, { PureComponent } from 'react';\nimport './ExerciseRunner.css';\nimport classNames from 'classnames';\nimport { Exercise, Step, StepTimed, StepRepetition } from 'store/types';\nimport { Layout, CenteredPageLayout } from 'components/layout';\nimport { Link } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimes, faStepForward, faStepBackward } from '@fortawesome/free-solid-svg-icons';\nimport { faSmileBeam } from '@fortawesome/free-regular-svg-icons';\nimport { TimedProgress } from './TimedProgress';\nimport { RepetitionProgress } from './RepetitionProgress';\nimport { Redirect } from 'react-router';\n\nexport type ExerciseRunnerProps = {\n  exerciseId: Exercise['id'];\n  exerciseName: Exercise['name'];\n  type: Exercise['type'];\n  steps: Step[];\n  currentStepIndex: number;\n  onStepFinished: (stepId: string) => void;\n};\n\ntype ExerciseRunnerLayoutState = {\n  rest: boolean;\n  renderNext: boolean;\n};\n\nexport class ExerciseRunner extends PureComponent<ExerciseRunnerProps, ExerciseRunnerLayoutState> {\n  constructor(props: ExerciseRunnerProps) {\n    super(props);\n    this.state = { rest: false, renderNext: false };\n  }\n\n  static defaultProps: { currentStepIndex: number } = {\n    currentStepIndex: 0\n  };\n\n  goToNextStep = () => this.setState({ renderNext: true });\n\n  finishStepAndRest = () => {\n    this.setState({ rest: true });\n    this.props.onStepFinished(this.props.steps[this.props.currentStepIndex].id);\n  };\n\n  renderProgress = (currentStep: Step) => {\n    const { type } = this.props;\n    if (type === 'timed') {\n      const step = currentStep as StepTimed;\n      return <TimedProgress totalTime={step.duration} onFinished={this.finishStepAndRest} />;\n    } else if (type === 'repetition') {\n      const step = currentStep as StepRepetition;\n      return <RepetitionProgress repetition={step.repetition} kg={step.kg} onFinished={this.finishStepAndRest} />;\n    }\n    return 'Error displaying progress of the exercise, unknown type';\n  };\n\n  render() {\n    const { exerciseId, exerciseName, steps, currentStepIndex } = this.props;\n    return (\n      <Layout\n        header={\n          <span>\n            <Link to={`/${exerciseId}`} className=\"btn btn-link text-dark\" aria-label=\"Back to exercises list\">\n              <FontAwesomeIcon icon={faTimes} />\n            </Link>\n            {`${exerciseName} - Step ${currentStepIndex + 1}`}\n          </span>\n        }\n        navItems={[\n          <>\n            {currentStepIndex > 0 ? (\n              <Link\n                to={`/${exerciseId}/runner/${steps[currentStepIndex - 1].id}`}\n                key=\"nav-previous\"\n                className=\"btn btn-link nav-link btn-block\"\n              >\n                <FontAwesomeIcon icon={faStepBackward} /> Previous\n              </Link>\n            ) : (\n              <button key=\"nav-previous\" className=\"btn btn-link nav-link btn-block\" disabled>\n                <FontAwesomeIcon icon={faStepBackward} /> Previous\n              </button>\n            )}\n          </>,\n          <>\n            {currentStepIndex < steps.length - 1 ? (\n              <Link\n                to={`/${exerciseId}/runner/${steps[currentStepIndex + 1].id}`}\n                key=\"nav-next\"\n                className=\"btn btn-link nav-link btn-block\"\n              >\n                <FontAwesomeIcon icon={faStepForward} /> Next\n              </Link>\n            ) : (\n              <button key=\"nav-next\" className=\"btn btn-link nav-link btn-block\" disabled>\n                <FontAwesomeIcon icon={faStepForward} /> Next\n              </button>\n            )}\n          </>\n        ]}\n      >\n        <CenteredPageLayout className={classNames({ success: steps[currentStepIndex].done })}>\n          {this.state.rest ? (\n            <TimedProgress\n              key=\"rest-timed-progress\"\n              totalTime={steps[currentStepIndex].rest}\n              theme=\"rest\"\n              onFinished={this.goToNextStep}\n            />\n          ) : (\n            <>\n              {this.renderProgress(steps[currentStepIndex])}\n              <div className=\"d-flex\">\n                <button className=\"btn btn-outline-info btn-block m-1\" onClick={this.finishStepAndRest}>\n                  <FontAwesomeIcon icon={faSmileBeam} /> Rest\n                </button>\n              </div>\n            </>\n          )}\n        </CenteredPageLayout>\n        {this.state.renderNext && currentStepIndex < steps.length - 1 && (\n          <Redirect to={`/${exerciseId}/runner/${steps[currentStepIndex + 1].id}`} />\n        )}\n      </Layout>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { MapStateToProps, MapDispatchToProps, connect } from 'react-redux';\nimport { Exercise, Step } from '../../../store/types';\nimport { ExerciseRunner } from '../presentational/ExerciseRunner';\nimport { AppStore } from '../../../store/reducer';\nimport { getExerciseById, areExercisesLoading, hasErrorLoadingExercises } from '../../../store/selectors';\nimport { fetchExerciseRequest, acknowledgeExerciseStepRequest } from '../../../store/actions';\nimport EmptyPage from 'components/empty-page/EmptyPage';\nimport { faSun, faPoo } from '@fortawesome/free-solid-svg-icons';\nimport { faFrown } from '@fortawesome/free-regular-svg-icons';\nimport { Link } from 'react-router-dom';\n\nconst LoadingPage = () => <EmptyPage text=\"Loading ...\" icon={faSun} action={<p>Your exercise is being loaded</p>} />;\nconst ErrorLoadingPage = () => (\n  <EmptyPage\n    text=\"Error loading your exercise\"\n    icon={faPoo}\n    action={<p>Sorry an error occured loading your exercice !</p>}\n  />\n);\nconst ExerciseNotFoundPage = () => (\n  <EmptyPage\n    text=\"Exercise not found\"\n    icon={faFrown}\n    action={\n      <Link className=\"btn btn-primary\" to=\"/\">\n        Back to exercises\n      </Link>\n    }\n  />\n);\nconst ExerciseStepNotFoundPage = () => (\n  <EmptyPage\n    text=\"Step not found\"\n    icon={faFrown}\n    action={\n      <Link className=\"btn btn-primary\" to=\"/\">\n        Back to exercises\n      </Link>\n    }\n  />\n);\n\nexport type ExerciseRunnerContainerOwnProps = {\n  exerciseId: Exercise['id'];\n  stepId: Step['id'];\n};\n\ntype ExerciseRunnerContainerStateProps = {\n  exercise: Exercise;\n  loading: boolean;\n  errorLoading: boolean;\n};\n\ntype ExerciseRunnerContainerDispatchProps = {\n  loadExercise: () => void;\n  onStepFinished: () => void;\n};\n\ntype ExerciseRunnerContainerProps = ExerciseRunnerContainerOwnProps &\n  ExerciseRunnerContainerStateProps &\n  ExerciseRunnerContainerDispatchProps;\n\nclass ExerciseRunnerContainerComponent extends PureComponent<ExerciseRunnerContainerProps> {\n  componentDidMount() {\n    if (!this.props.exercise) {\n      this.props.loadExercise();\n    }\n  }\n  render() {\n    const { stepId, exercise, onStepFinished, loading, errorLoading } = this.props;\n    const stepIndex = exercise ? exercise.steps.findIndex(({ id }) => id === stepId) : -1;\n    return loading ? (\n      <LoadingPage />\n    ) : errorLoading ? (\n      <ErrorLoadingPage />\n    ) : !exercise ? (\n      <ExerciseNotFoundPage />\n    ) : stepIndex < 0 ? (\n      <ExerciseStepNotFoundPage />\n    ) : (\n      <ExerciseRunner\n        key={`exercise-runner-${exercise.id}-${stepId}`}\n        exerciseId={exercise.id}\n        exerciseName={exercise.name}\n        type={exercise.type}\n        steps={exercise.steps}\n        onStepFinished={onStepFinished}\n        currentStepIndex={stepIndex}\n      />\n    );\n  }\n}\n\nconst mapStateToProps: MapStateToProps<ExerciseRunnerContainerStateProps, ExerciseRunnerContainerOwnProps, AppStore> = (\n  state,\n  ownProps\n) => ({\n  exercise: getExerciseById(state)(ownProps.exerciseId),\n  loading: areExercisesLoading(state),\n  errorLoading: hasErrorLoadingExercises(state)\n});\n\nconst mapDispatchToProps: MapDispatchToProps<ExerciseRunnerContainerDispatchProps, ExerciseRunnerContainerOwnProps> = (\n  dispatch,\n  ownProps\n) => ({\n  loadExercise: () => dispatch(fetchExerciseRequest(ownProps.exerciseId)),\n  onStepFinished: () => dispatch(acknowledgeExerciseStepRequest(ownProps.exerciseId, ownProps.stepId))\n});\n\nexport const ExerciseRunnerContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ExerciseRunnerContainerComponent);\n","export const SERVICEWORKER_REGISTRATION_ERROR: 'SERVICEWORKER_REGISTRATION_ERROR' = 'SERVICEWORKER_REGISTRATION_ERROR';\nexport const registrationError = ({ errorMessage, error }: { errorMessage: string; error?: Error }) => ({\n  type: SERVICEWORKER_REGISTRATION_ERROR,\n  error,\n  errorMessage\n});\n\nexport const SERVICEWORKER_REGISTRATION_SUCCESS: 'SERVICEWORKER_REGISTRATION_SUCCESS' =\n  'SERVICEWORKER_REGISTRATION_SUCCESS';\nexport const registrationSuccess = () => ({ type: SERVICEWORKER_REGISTRATION_SUCCESS });\n\nexport const SERVICEWORKER_NEW_CONTENT_AVAILABLE: 'SERVICEWORKER_NEW_CONTENT_AVAILABLE' =\n  'SERVICEWORKER_NEW_CONTENT_AVAILABLE';\nexport const newContentAvailable = () => ({ type: SERVICEWORKER_NEW_CONTENT_AVAILABLE });\n\nexport const SERVICEWORKER_CONTENT_CACHED: 'SERVICEWORKER_CONTENT_CACHED' = 'SERVICEWORKER_CONTENT_CACHED';\nexport const contentCached = () => ({ type: SERVICEWORKER_CONTENT_CACHED });\n\nexport const SERVICEWORKER_OFFLINE: 'SERVICEWORKER_OFFLINE' = 'SERVICEWORKER_OFFLINE';\nexport const offlineMode = (offline = true) => ({ offline, type: SERVICEWORKER_OFFLINE });\n\nexport type ServiceWorkerAction =\n  | ReturnType<typeof registrationError>\n  | ReturnType<typeof registrationSuccess>\n  | ReturnType<typeof newContentAvailable>\n  | ReturnType<typeof offlineMode>\n  | ReturnType<typeof contentCached>;\n","import React from 'react';\nimport { all, put, takeLatest } from 'redux-saga/effects';\nimport {\n  SERVICEWORKER_REGISTRATION_ERROR,\n  registrationError,\n  SERVICEWORKER_NEW_CONTENT_AVAILABLE,\n  SERVICEWORKER_CONTENT_CACHED,\n  SERVICEWORKER_OFFLINE,\n  newContentAvailable,\n  contentCached,\n  offlineMode\n} from './actions';\nimport { pushNotification } from 'components/notification';\n\nfunction* onRegistrationError({ errorMessage }: ReturnType<typeof registrationError>) {\n  yield put(pushNotification({ message: errorMessage, type: 'danger' }));\n}\n\nfunction* onNewContentAvailable({  }: ReturnType<typeof newContentAvailable>) {\n  yield put(\n    pushNotification({\n      message: 'New content is available; please refresh.',\n      actions: [\n        <a key=\"refresh-button\" href=\"\" onClick={() => window.location.reload()}>\n          REFRESH\n        </a>\n      ]\n    })\n  );\n}\n\nfunction* onContentCached({  }: ReturnType<typeof contentCached>) {\n  yield put(pushNotification({ message: 'Content is cached for offline use.' }));\n}\n\nfunction* onOfflineReady({ offline }: ReturnType<typeof offlineMode>) {\n  if (offline) {\n    yield put(pushNotification({ message: \"Offline ? Keep working out it's fine !\" }));\n  }\n}\n\nexport function* watchServiceWorker() {\n  yield all([\n    yield takeLatest(SERVICEWORKER_REGISTRATION_ERROR, onRegistrationError),\n    yield takeLatest(SERVICEWORKER_NEW_CONTENT_AVAILABLE, onNewContentAvailable),\n    yield takeLatest(SERVICEWORKER_CONTENT_CACHED, onContentCached),\n    yield takeLatest(SERVICEWORKER_OFFLINE, onOfflineReady)\n  ]);\n}\n","import { Dispatch } from 'redux';\nimport {\n  registrationError,\n  registrationSuccess,\n  newContentAvailable,\n  ServiceWorkerAction,\n  contentCached,\n  offlineMode\n} from './redux/actions';\n\nexport type ServiceWorkerRegistrationCallback = {\n  onUpdate: (registration: ServiceWorkerRegistration) => void;\n  onSuccess: (registration: ServiceWorkerRegistration) => void;\n};\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(dispatch: Dispatch<ServiceWorkerAction>, config?: ServiceWorkerRegistrationCallback) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      dispatch(\n        registrationError({ errorMessage: \"Our service worker won't work if PUBLIC_URL is on a different origin\" })\n      );\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, dispatch, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => dispatch(registrationSuccess()));\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, dispatch, config);\n      }\n    });\n    window.addEventListener('online', updateOnlineStatus(dispatch));\n    window.addEventListener('offline', updateOnlineStatus(dispatch));\n  } else {\n    dispatch(registrationError({ errorMessage: 'Service worker is not supported by your navigator.' }));\n  }\n}\n\nconst updateOnlineStatus = (dispatch: Dispatch<ServiceWorkerAction>) => () => {\n  dispatch(offlineMode(!navigator.onLine));\n};\n\nfunction registerValidSW(\n  swUrl: string,\n  dispatch: Dispatch<ServiceWorkerAction>,\n  config?: ServiceWorkerRegistrationCallback\n) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker!.onstatechange = () => {\n          if (installingWorker!.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              dispatch(newContentAvailable());\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              dispatch(contentCached());\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      dispatch(\n        registrationError({\n          errorMessage: 'Error during service worker registration',\n          error\n        })\n      );\n    });\n}\n\nfunction checkValidServiceWorker(\n  swUrl: string,\n  dispatch: Dispatch<ServiceWorkerAction>,\n  config?: ServiceWorkerRegistrationCallback\n) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, dispatch, config);\n      }\n    })\n    .catch(() => {\n      dispatch(offlineMode());\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { Exercise } from './types';\nimport { TYPES as actions, Action } from './actions';\nimport { combineReducers, Reducer } from 'redux';\nimport { notificationReducer } from '../components/notification';\n\nexport type ExerciseStore = {\n  loading: boolean;\n  error: any;\n  ids: string[];\n  byId: {\n    [id: string]: Exercise;\n  };\n};\n\nexport const exsercisesInitialState: ExerciseStore = { loading: false, error: null, ids: [], byId: {} };\n\nexport const exercises: Reducer<ExerciseStore, Action> = (state = exsercisesInitialState, action) => {\n  switch (action.type) {\n    case actions.FETCH_EXERCISES.REQUEST:\n    case actions.FETCH_EXERCISE.REQUEST:\n      return { ...state, loading: true, error: null };\n    case actions.FETCH_EXERCISES.SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        ids: action.exercises.map((e: Exercise) => e.id),\n        byId: action.exercises.reduce((byId: ExerciseStore['byId'], e: Exercise) => ({ ...byId, [e.id]: e }), {})\n      };\n    case actions.FETCH_EXERCISES.FAILURE:\n    case actions.FETCH_EXERCISE.FAILURE:\n      return { ...state, loading: false, error: action.error };\n    case actions.ADD_EXERCISE.SUCCESS:\n    case actions.FETCH_EXERCISE.SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        ids: [...state.ids, action.exercise.id],\n        byId: { ...state.byId, [action.exercise.id]: action.exercise }\n      };\n    case actions.DELETE_EXERCISE.SUCCESS:\n      return removeExerciseFromStateById(state, action.id);\n    case actions.ACKNOWLEDGE_EXERCISE.SUCCESS:\n    case actions.CANCEL_EXERCISE.SUCCESS:\n    case actions.ACKNOWLEDGE_EXERCISE_STEP.SUCCESS:\n    case actions.CANCEL_EXERCISE_STEP.SUCCESS:\n    case actions.UPDATE_EXERCISE_NAME.SUCCESS:\n    case actions.ADD_EXERCISE_STEP.SUCCESS:\n    case actions.DELETE_EXERCISE_STEP.SUCCESS:\n    case actions.UPDATE_EXERCISE_STEP.SUCCESS:\n    case actions.MOVE_EXERCISE_STEP.SUCCESS:\n      return { ...state, byId: { ...state.byId, [action.exercise.id]: { ...action.exercise } } };\n    case actions.START_EXERCISE:\n      return state.byId[action.exercise.id]\n        ? {\n            ...state,\n            byId: {\n              ...state.byId,\n              [action.exercise.id]: {\n                ...state.byId[action.exercise.id],\n                progress: {\n                  ...state.byId[action.exercise.id].progress,\n                  status: 'running',\n                  startedAt: new Date()\n                }\n              }\n            }\n          }\n        : state;\n    case actions.STOP_EXERCISE:\n      return state.byId[action.exercise.id]\n        ? {\n            ...state,\n            byId: {\n              ...state.byId,\n              [action.exercise.id]: {\n                ...state.byId[action.exercise.id],\n                progress: {\n                  ...state.byId[action.exercise.id].progress,\n                  status: 'stopped',\n                  stoppedAt: new Date()\n                }\n              }\n            }\n          }\n        : state;\n    case actions.PAUSE_EXERCISE:\n      return state.byId[action.exercise.id]\n        ? {\n            ...state,\n            byId: {\n              ...state.byId,\n              [action.exercise.id]: {\n                ...state.byId[action.exercise.id],\n                progress: { ...state.byId[action.exercise.id].progress, status: 'paused', pausedAt: new Date() }\n              }\n            }\n          }\n        : state;\n    default:\n      return state;\n  }\n};\n\nconst removeExerciseFromStateById = (state: ExerciseStore, exerciseId: string) => {\n  const restIds = state.ids.filter(id => id !== exerciseId);\n  const restById = restIds.reduce((byId, id) => ({ ...byId, [id]: state.byId[id] }), {});\n  return { ...state, ids: restIds, byId: restById };\n};\n\nconst reducer = combineReducers({\n  exercises,\n  notification: notificationReducer\n});\n\nexport type AppStore = ReturnType<typeof reducer>;\n\nexport default reducer;\n","import idb from 'idb';\r\nimport { Exercise } from '../store/types';\r\n\r\nconst RW = 'readwrite';\r\n\r\nconst dbname = 'oeuf-db';\r\nconst version = 1;\r\n\r\nconst EXERCISE_STORE = 'exercise';\r\n\r\nconst dbPromise = idb.open(dbname, version, upgradeDB => {\r\n  switch (upgradeDB.oldVersion) {\r\n    case 0:\r\n    default:\r\n      upgradeDB.createObjectStore<Exercise, string>(EXERCISE_STORE, { keyPath: 'id' });\r\n  }\r\n});\r\n\r\n// EXERCISE\r\n\r\nexport const putExercise = async (exercise: Exercise) => {\r\n  const db = await dbPromise;\r\n  const tx = db.transaction(EXERCISE_STORE, RW);\r\n  tx.objectStore<Exercise, string>(EXERCISE_STORE).put(exercise);\r\n  await tx.complete;\r\n  return exercise;\r\n};\r\n\r\nexport const patchExerciseById = async (id: string, patchExercise: Partial<Exercise>) => {\r\n  const db = await dbPromise;\r\n  const tx = db.transaction(EXERCISE_STORE, RW);\r\n  const store = tx.objectStore<Exercise, string>(EXERCISE_STORE);\r\n  const exercise = await store.get(id);\r\n  if (exercise) {\r\n    const newExercise = { ...exercise, ...patchExercise };\r\n    store.put(newExercise);\r\n    await tx.complete;\r\n    return newExercise;\r\n  } else {\r\n    throw new Error(`Exercise not found (id=\"${id}\"\")`);\r\n  }\r\n};\r\n\r\nexport const deleteExercise = async (id: string) => {\r\n  const db = await dbPromise;\r\n  const tx = db.transaction(EXERCISE_STORE, RW);\r\n  tx.objectStore<Exercise, string>(EXERCISE_STORE).delete(id);\r\n  return tx.complete;\r\n};\r\n\r\nexport const getAllExercises = async () => {\r\n  const db = await dbPromise;\r\n  return db\r\n    .transaction(EXERCISE_STORE)\r\n    .objectStore<Exercise, string>(EXERCISE_STORE)\r\n    .getAll();\r\n};\r\n\r\nexport const getExerciseById = async (id: string) => {\r\n  const db = await dbPromise;\r\n  return db\r\n    .transaction(EXERCISE_STORE)\r\n    .objectStore<Exercise, string>(EXERCISE_STORE)\r\n    .get(id);\r\n};\r\n","import { Exercise } from './types';\nimport { all, call, put, takeLatest, takeEvery } from 'redux-saga/effects';\nimport { delay } from 'redux-saga';\nimport { arrayMove } from 'react-sortable-hoc';\nimport * as datastore from '../idb/datastore';\nimport {\n  TYPES,\n  fetchAllExercisesSuccess,\n  addExerciseSuccess,\n  addExerciseFailure,\n  deleteExerciseSuccess,\n  deleteExerciseFailure,\n  acknowledgeExerciseFailure,\n  acknowledgeExerciseSuccess,\n  cancelExerciseSuccess,\n  cancelExerciseFailure,\n  updateExerciseNameSuccess,\n  updateExerciseNameFailure,\n  addExerciseStepSuccess,\n  addExerciseStepFailure,\n  deleteExerciseStepSuccess,\n  deleteExerciseStepFailure,\n  acknowledgeExerciseStepSuccess,\n  acknowledgeExerciseStepFailure,\n  acknowledgeExerciseRequest,\n  cancelExerciseStepSuccess,\n  cancelExerciseStepFailure,\n  updateExerciseStepSuccess,\n  updateExerciseStepFailure,\n  moveExerciseStepSuccess,\n  moveExerciseStepFailure,\n  fetchAllExercisesFailure,\n  addExerciseRequest,\n  deleteExerciseRequest,\n  cancelExerciseRequest,\n  updateExerciseNameRequest,\n  addExerciseStepRequest,\n  deleteExerciseStepRequest,\n  acknowledgeExerciseStepRequest,\n  cancelExerciseStepRequest,\n  moveExerciseStepRequest,\n  updateExerciseStepRequest,\n  fetchExerciseRequest,\n  fetchExerciseSuccess,\n  fetchExerciseFailure\n} from './actions';\nimport { watchNotifications } from 'components/notification';\nimport { watchServiceWorker } from 'serviceWorker';\n\nfunction* fetchExercises() {\n  try {\n    const exercises: Exercise[] = yield call(datastore.getAllExercises);\n    yield put(fetchAllExercisesSuccess(exercises));\n  } catch (e) {\n    yield put(fetchAllExercisesFailure(e));\n  }\n}\nfunction* watchFetchExercises() {\n  yield takeLatest(TYPES.FETCH_EXERCISES.REQUEST, fetchExercises);\n}\n\nfunction* fetchOneExercise({ id }: ReturnType<typeof fetchExerciseRequest>) {\n  try {\n    const exercise: Exercise = yield call(datastore.getExerciseById, id);\n    yield put(fetchExerciseSuccess(exercise));\n  } catch (e) {\n    yield put(fetchExerciseFailure(id, e));\n  }\n}\nfunction* watchFetchOneExercise() {\n  yield takeLatest(TYPES.FETCH_EXERCISE.REQUEST, fetchOneExercise);\n}\n\nfunction* addNewExercise({ exercise }: ReturnType<typeof addExerciseRequest>) {\n  try {\n    const newExercise: Exercise = yield call(datastore.putExercise, exercise);\n    yield put(addExerciseSuccess(newExercise));\n  } catch (e) {\n    yield put(addExerciseFailure(exercise, e));\n  }\n}\nfunction* watchAddNewExercise() {\n  yield takeEvery(TYPES.ADD_EXERCISE.REQUEST, addNewExercise);\n}\n\nfunction* deleteExercise({ id }: ReturnType<typeof deleteExerciseRequest>) {\n  try {\n    yield call(datastore.deleteExercise, id);\n    yield put(deleteExerciseSuccess(id));\n  } catch (e) {\n    yield put(deleteExerciseFailure(id, e));\n  }\n}\nfunction* watchDeleteExercise() {\n  yield takeEvery(TYPES.DELETE_EXERCISE.REQUEST, deleteExercise);\n}\n\nfunction* acknowledgeExercise({ id }: ReturnType<typeof acknowledgeExerciseRequest>) {\n  try {\n    const exercise: Exercise = yield call(datastore.getExerciseById, id);\n    const patchedExercise: Exercise = yield call(datastore.putExercise, {\n      ...exercise,\n      done: true,\n      steps: exercise.steps.map(step => ({ ...step, done: true }))\n    });\n    yield put(acknowledgeExerciseSuccess(patchedExercise));\n  } catch (e) {\n    yield put(acknowledgeExerciseFailure(id, e));\n  }\n}\nfunction* watchAcknowledgeExercise() {\n  yield takeEvery(TYPES.ACKNOWLEDGE_EXERCISE.REQUEST, acknowledgeExercise);\n}\n\nfunction* cancelExercise({ id }: ReturnType<typeof cancelExerciseRequest>) {\n  try {\n    const exercise: Exercise = yield call(datastore.getExerciseById, id);\n    const patchedExercise: Exercise = yield call(datastore.putExercise, {\n      ...exercise,\n      done: false,\n      steps: exercise.steps.map(step => ({ ...step, done: false }))\n    });\n    yield put(cancelExerciseSuccess(patchedExercise));\n  } catch (e) {\n    yield put(cancelExerciseFailure(id, e));\n  }\n}\nfunction* watchCancelExercise() {\n  yield takeEvery(TYPES.CANCEL_EXERCISE.REQUEST, cancelExercise);\n}\n\nfunction* updateExerciseName({ id, name }: ReturnType<typeof updateExerciseNameRequest>) {\n  // Debounce\n  yield call(delay, 500);\n  try {\n    const patchedExercise: Exercise = yield call(datastore.patchExerciseById, id, { name });\n    yield put(updateExerciseNameSuccess(patchedExercise));\n  } catch (e) {\n    yield put(updateExerciseNameFailure(id, e));\n  }\n}\nfunction* watchUpdateExerciseName() {\n  yield takeLatest(TYPES.UPDATE_EXERCISE_NAME.REQUEST, updateExerciseName);\n}\n\nfunction* addExerciseStep({ exerciseId, stepType, step }: ReturnType<typeof addExerciseStepRequest>) {\n  try {\n    const exercise: Exercise = yield call(datastore.getExerciseById, exerciseId);\n    const patchedExercise: Exercise = yield call(datastore.putExercise, {\n      ...exercise,\n      type: stepType,\n      steps: [...exercise.steps, step]\n    });\n    yield put(addExerciseStepSuccess(patchedExercise));\n  } catch (e) {\n    yield put(addExerciseStepFailure(exerciseId, e));\n  }\n}\nfunction* watchAddExerciseStep() {\n  yield takeLatest(TYPES.ADD_EXERCISE_STEP.REQUEST, addExerciseStep);\n}\n\nfunction* deleteExerciseStep({ exerciseId, stepId }: ReturnType<typeof deleteExerciseStepRequest>) {\n  try {\n    const exercise: Exercise = yield call(datastore.getExerciseById, exerciseId);\n    const patchedExercise: Exercise = yield call(datastore.putExercise, {\n      ...exercise,\n      steps: [...exercise.steps.filter(s => s.id !== stepId)]\n    });\n    yield put(deleteExerciseStepSuccess(patchedExercise));\n  } catch (e) {\n    yield put(deleteExerciseStepFailure(exerciseId, stepId, e));\n  }\n}\nfunction* watchDeleteExerciseStep() {\n  yield takeEvery(TYPES.DELETE_EXERCISE_STEP.REQUEST, deleteExerciseStep);\n}\n\nfunction* acknowledgeExerciseStep({ exerciseId, stepId }: ReturnType<typeof acknowledgeExerciseStepRequest>) {\n  try {\n    const exercise: Exercise = yield call(datastore.getExerciseById, exerciseId);\n    const steps = [...exercise.steps];\n    steps.find(s => s.id === stepId)!.done = true;\n    const patchedExercise: Exercise = yield call(datastore.putExercise, {\n      ...exercise,\n      steps\n    });\n    yield put(acknowledgeExerciseStepSuccess(patchedExercise));\n    if (patchedExercise.steps.every(s => s.done)) {\n      yield put(acknowledgeExerciseRequest(patchedExercise.id));\n    }\n  } catch (e) {\n    yield put(acknowledgeExerciseStepFailure(exerciseId, stepId, e));\n  }\n}\nfunction* watchAcknowledgeExerciseStep() {\n  yield takeEvery(TYPES.ACKNOWLEDGE_EXERCISE_STEP.REQUEST, acknowledgeExerciseStep);\n}\n\nfunction* cancelExerciseStep({ exerciseId, stepId }: ReturnType<typeof cancelExerciseStepRequest>) {\n  try {\n    const exercise: Exercise = yield call(datastore.getExerciseById, exerciseId);\n    const steps = [...exercise.steps];\n    steps.find(s => s.id === stepId)!.done = false;\n    const patchedExercise: Exercise = yield call(datastore.putExercise, {\n      ...exercise,\n      done: false,\n      steps\n    });\n    yield put(cancelExerciseStepSuccess(patchedExercise));\n  } catch (e) {\n    yield put(cancelExerciseStepFailure(exerciseId, stepId, e));\n  }\n}\nfunction* watchCancelExerciseStep() {\n  yield takeEvery(TYPES.CANCEL_EXERCISE_STEP.REQUEST, cancelExerciseStep);\n}\n\nfunction* moveExerciseStep({ exerciseId, oldIndex, newIndex }: ReturnType<typeof moveExerciseStepRequest>) {\n  try {\n    const exercise: Exercise = yield call(datastore.getExerciseById, exerciseId);\n    const steps = arrayMove([...exercise.steps], oldIndex, newIndex);\n    const patchedExercise: Exercise = yield call(datastore.putExercise, {\n      ...exercise,\n      done: false,\n      steps\n    });\n    yield put(moveExerciseStepSuccess(patchedExercise));\n  } catch (e) {\n    yield put(moveExerciseStepFailure(exerciseId, oldIndex, newIndex, e));\n  }\n}\nfunction* watchMoveExerciseStep() {\n  yield takeEvery(TYPES.MOVE_EXERCISE_STEP.REQUEST, moveExerciseStep);\n}\n\nfunction* updateExerciseStep({ exerciseId, stepId, contentPatch }: ReturnType<typeof updateExerciseStepRequest>) {\n  // Debounce\n  yield call(delay, 500);\n  try {\n    const exercise: Exercise = yield call(datastore.getExerciseById, exerciseId);\n    const steps = [...exercise.steps];\n    const stepIndex = steps.findIndex(s => s.id === stepId);\n    steps[stepIndex] = { ...steps[stepIndex], ...contentPatch };\n    const patchedExercise: Exercise = yield call(datastore.putExercise, {\n      ...exercise,\n      done: false,\n      steps\n    });\n    yield put(updateExerciseStepSuccess(patchedExercise));\n  } catch (e) {\n    yield put(updateExerciseStepFailure(exerciseId, stepId, contentPatch, e));\n  }\n}\nfunction* watchUpdateExerciseStep() {\n  yield takeLatest(TYPES.UPDATE_EXERCISE_STEP.REQUEST, updateExerciseStep);\n}\n\nexport default function* rootSaga() {\n  yield all([\n    watchFetchExercises(),\n    watchFetchOneExercise(),\n    watchAddNewExercise(),\n    watchDeleteExercise(),\n    watchAcknowledgeExercise(),\n    watchCancelExercise(),\n    watchUpdateExerciseName(),\n    watchAddExerciseStep(),\n    watchDeleteExerciseStep(),\n    watchAcknowledgeExerciseStep(),\n    watchCancelExerciseStep(),\n    watchMoveExerciseStep(),\n    watchUpdateExerciseStep(),\n    watchNotifications(),\n    watchServiceWorker()\n  ]);\n}\n","import { createStore, applyMiddleware, Middleware } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension/developmentOnly';\r\nimport { createLogger } from 'redux-logger';\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport { AppStore } from './reducer';\r\nimport rootReducer from './reducer';\r\nimport saga from './saga';\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\n\r\nconst middlewares: Middleware[] = [sagaMiddleware];\r\nif (process.env.NODE_ENV === 'development') {\r\n  const loggerMiddleware = createLogger();\r\n  middlewares.push(loggerMiddleware);\r\n}\r\n\r\nexport default function configureStore(preloadedState?: AppStore) {\r\n  const store = createStore(rootReducer, preloadedState, composeWithDevTools(applyMiddleware(...middlewares)));\r\n  sagaMiddleware.run(saga);\r\n  return store;\r\n}\r\n","import React, { Component } from 'react';\nimport 'App.css';\nimport Theme from './components/theme/Theme';\nimport ExerciseListPageContainer from './components/exercise-list/container/ExerciseListPageContainer';\nimport ExercisePageContainer from './components/exercise/container/ExercisePageContainer';\nimport RootContainer from './redux/RootContainer';\nimport { BrowserRouter as Router, Switch, Route, RouteComponentProps } from 'react-router-dom';\nimport Error404 from './components/empty-page/Error404';\nimport { ExerciseRunnerContainer } from 'components/exercise-runner';\nimport { register as registerServiceWorker } from './serviceWorker';\nimport configureStore from './store/configureStore';\n\nconst appStore = configureStore();\n\n// Register service worker\nregisterServiceWorker(appStore.dispatch);\n\nclass App extends Component {\n  render() {\n    return (\n      <RootContainer store={appStore}>\n        <Router basename={process.env.REACT_APP_BASE_DIR}>\n          <Theme>\n            <Switch>\n              <Route exact path=\"/\" component={ExerciseListPageContainer} />\n              <Route\n                exact\n                path=\"/:id\"\n                component={({ match }: RouteComponentProps<{ id: string }>) => (\n                  <ExercisePageContainer exerciseId={match.params.id} />\n                )}\n              />\n              <Route\n                exact\n                path=\"/:exerciseId/runner/:stepId\"\n                component={({ match }: RouteComponentProps<{ exerciseId: string; stepId: string }>) => (\n                  <ExerciseRunnerContainer exerciseId={match.params.exerciseId} stepId={match.params.stepId} />\n                )}\n              />\n              <Route component={Error404} />\n            </Switch>\n          </Theme>\n        </Router>\n      </RootContainer>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}