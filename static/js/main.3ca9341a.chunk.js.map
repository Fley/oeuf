{"version":3,"sources":["components/theme/Theme.tsx","store/selectors.ts","components/layout/Layout.tsx","components/layout/CenteredPageLayout.tsx","components/empty-page/EmptyPage.tsx","components/swipeable-list-item/SwipeableListItem.tsx","components/exercise-list/presentational/ExerciseList.tsx","components/exercise-list/presentational/ExerciseListPage.tsx","store/actions.ts","components/exercise-list/container/ExerciseListPageContainer.tsx","components/exercise/presentational/ExerciseStep.tsx","components/exercise/presentational/Exercise.tsx","components/exercise/presentational/ExercisePage.tsx","components/exercise/container/ExercisePageContainer.tsx","store/reducer.ts","idb/datastore.ts","store/saga.ts","redux/configureStore.ts","serviceWorker/redux/actions.ts","serviceWorker/index.ts","redux/RootContainer.tsx","components/empty-page/Error404.tsx","components/exercise-runner/presentational/TimedProgress.tsx","components/exercise-runner/presentational/RepetitionProgress.tsx","components/exercise-runner/presentational/ExerciseRunner.tsx","components/exercise-runner/container/ExerciseRunnerContainer.tsx","App.tsx","index.tsx"],"names":["Theme","_ref","children","React","Children","only","react_default","a","createElement","Fragment","getExerciseList","state","exercises","ids","map","id","byId","getExerciseById","areExercisesLoading","loading","hasErrorLoadingExercises","error","Layout","header","_ref$navItems","navItems","_ref$headerBackground","headerBackground","className","isLight","classNames","navbar-light","navbar-dark","navItem","index","key","concat","CenteredPageLayout","style","height","position","top","left","EmptyPage","icon","text","action","CenteredPageLayout_CenteredPageLayout","index_es","size","SwipeableListItem","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onChangeIndex","setState","onTransitionEnd","onSwipeLeft","onSwipeRight","_this$props","rightSwipeElement","leftSwipeElement","lib_default","Component","SwipedItemAcknowledged","faCheck","SwipedItemRemoved","faTimes","SwipedItemCanceled","faUndo","mapExerciceItem","name","done","SwipeableListItem_SwipeableListItem","SwipeableListItem_SwipedItemCanceled","SwipeableListItem_SwipedItemAcknowledged","SwipeableListItem_SwipedItemRemoved","Link","to","role","aria-label","type","onClick","e","preventDefault","faTrash","faAngleRight","ExerciseList","_ref2","_ref2$exercises","onAddExercise","onAcknowledgeExercise","onDeleteExercise","onCancelExercise","_ref2$loading","_ref2$errorLoading","errorLoading","length","filter","empty_page_EmptyPage","faSun","faPoo","faListAlt","ExerciseListPage","_ref$loading","_ref$errorLoading","Layout_Layout","disabled","faPlusSquare","exercise_list_presentational_ExerciseList","TYPES","FETCH_EXERCISES","REQUEST","SUCCESS","FAILURE","FETCH_EXERCISE","ADD_EXERCISE","DELETE_EXERCISE","ACKNOWLEDGE_EXERCISE","CANCEL_EXERCISE","UPDATE_EXERCISE_NAME","ADD_EXERCISE_STEP","DELETE_EXERCISE_STEP","ACKNOWLEDGE_EXERCISE_STEP","CANCEL_EXERCISE_STEP","UPDATE_EXERCISE_STEP","MOVE_EXERCISE_STEP","START_EXERCISE","STOP_EXERCISE","PAUSE_EXERCISE","fetchAllExercisesRequest","fetchAllExercisesSuccess","fetchAllExercisesFailure","fetchExerciseSuccess","exercise","fetchExerciseFailure","addExerciseSuccess","addExerciseFailure","deleteExerciseSuccess","deleteExerciseFailure","acknowledgeExerciseRequest","acknowledgeExerciseSuccess","acknowledgeExerciseFailure","exerciseId","cancelExerciseSuccess","cancelExerciseFailure","updateExerciseNameSuccess","updateExerciseNameFailure","acknowledgeExerciseStepRequest","stepId","acknowledgeExerciseStepSuccess","acknowledgeExerciseStepFailure","cancelExerciseStepSuccess","cancelExerciseStepFailure","addExerciseStepSuccess","addExerciseStepFailure","createExerciseStep","stepContent","objectSpread","duration","rest","uuidv4","kg","repetition","Error","deleteExerciseStepSuccess","deleteExerciseStepFailure","updateExerciseStepSuccess","updateExerciseStepFailure","contentPatch","moveExerciseStepSuccess","moveExerciseStepFailure","oldIndex","newIndex","ExerciceListPageContainer","load","restProps","objectWithoutProperties","presentational_ExerciseListPage","connect","dispatch","steps","progress","addExerciseRequest","deleteExerciseRequest","cancelExerciseRequest","DragHandle","SortableHandle","width","faBars","InputNumber","defaultValue","placeholder","onChange","min","max","required","StepRepetition","onContentChange","ExerciseStep_InputNumber","parseFloat","currentTarget","value","HeaderStepRepetition","faDumbbell","faHandPaper","HeaderStepTimed","faClock","StepTimed","_ref3","SortableStep","SortableElement","_ref$step","step","content","ExerciseStep_StepTimed","ExerciseStep_StepRepetition","SortableStepList","SortableContainer","onUpdateStep","_onSwipeRight","apply","arguments","toString","_onSwipeLeft","Exercise","onAddFirstStep","onDeleteStep","onAcknowledgeStep","onCancelStep","onMoveStep","onExerciseNameChange","_this$props$exercise","onSubmit","htmlFor","autoComplete","ExerciseStep_HeaderStepTimed","ExerciseStep_HeaderStepRepetition","onSortEnd","lockAxis","useDragHandle","helperClass","_ref4","faStopwatch","LoadingPage","ErrorLoadingPage","ExerciseNotFoundPage","faQuidditch","firstStepIdToRun","stepNotDone","undefined","ExercisePage","onAddStep","onStartExercise","faPlay","toConsumableArray","ExercisePage_LoadingPage","ExercisePage_ErrorLoadingPage","presentational_Exercise","ExercisePage_ExerciseNotFoundPage","ExercicePageContainer","presentational_ExercisePage","ownProps","stepType","addExerciseStepRequest","deleteExerciseStepRequest","cancelExerciseStepRequest","updateExerciseStepRequest","moveExerciseStepRequest","updateExerciseNameRequest","exsercisesInitialState","removeExerciseFromStateById","restIds","restById","reduce","defineProperty","reducer","combineReducers","actions","status","startedAt","Date","stoppedAt","pausedAt","RW","dbPromise","idb","open","upgradeDB","oldVersion","createObjectStore","keyPath","putExercise","asyncToGenerator","regenerator_default","mark","_callee","db","tx","wrap","_context","prev","next","sent","transaction","objectStore","put","complete","abrupt","stop","_x","patchExerciseById","_callee2","patchExercise","store","newExercise","_context2","get","_x2","_x3","deleteExercise","_callee3","_context3","delete","_x4","getAllExercises","_callee4","_context4","getAll","_ref5","_callee5","_context5","_x5","fetchExercises","watchFetchExercises","fetchOneExercise","watchFetchOneExercise","addNewExercise","watchAddNewExercise","watchDeleteExercise","acknowledgeExercise","watchAcknowledgeExercise","cancelExercise","watchCancelExercise","updateExerciseName","watchUpdateExerciseName","addExerciseStep","watchAddExerciseStep","deleteExerciseStep","watchDeleteExerciseStep","acknowledgeExerciseStep","watchAcknowledgeExerciseStep","cancelExerciseStep","watchCancelExerciseStep","moveExerciseStep","watchMoveExerciseStep","updateExerciseStep","watchUpdateExerciseStep","rootSaga","datastore","t0","_marked","takeLatest","_marked2","_marked3","_marked4","_marked5","_context6","takeEvery","_marked6","_context7","_marked7","_context8","_marked8","patchedExercise","_context9","_marked9","_context10","_marked10","_context11","_marked11","_context12","_marked12","_ref6","_context13","delay","_marked13","_context14","_marked14","_ref7","_context15","_marked15","_context16","_marked16","_ref8","_context17","s","_marked17","_context18","_marked18","_ref9","_context19","find","every","_marked19","_context20","_marked20","_ref10","_context21","_marked21","_context22","_marked22","_ref11","_context23","arrayMove","_marked23","_context24","_marked24","_ref12","stepIndex","_context25","findIndex","_marked25","_context26","_marked26","_context27","all","_marked27","sagaMiddleware","createSagaMiddleware","middlewares","thunkMiddleware","registrationError","errorMessage","registrationSuccess","newContentAvailable","contentCached","offlineMode","offline","isLocalhost","Boolean","window","location","hostname","match","updateOnlineStatus","navigator","onLine","registerValidSW","swUrl","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","appStore","preloadedState","createStore","rootReducer","composeWithDevTools","applyMiddleware","run","saga","configureStore","URL","process","href","origin","addEventListener","fetch","response","headers","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker","RootContainer","es","Error404","history","goBackButton","goBack","faKiwiBird","TimedProgress","_PureComponent","intervalId","timeoutId","clearTimers","clearInterval","clearTimeout","startTimers","tick","setInterval","tick_ms","setTimeout","finish","remainingTime","start","onFinished","reset","totalTime","newTime","onTapTimer","getStrokeDashoffset","Math","PI","inherits","createClass","theme","_this$state","version","xmlns","transform","in","stdDeviation","dx","dy","result","slope","r","cx","cy","fill","strokeDasharray","strokeDashoffset","transition","ceil","flip","faRedo","PureComponent","defaultProps","RepetitionProgress","ExerciseRunner","goToNextStep","renderNext","finishStepAndRest","onStepFinished","currentStepIndex","renderProgress","currentStep","TimedProgress_TimedProgress","RepetitionProgress_RepetitionProgress","exerciseName","faStepBackward","faStepForward","success","faSmileBeam","Redirect","ExerciseStepNotFoundPage","ExerciseRunnerContainerComponent","loadExercise","ExerciseRunnerContainer_LoadingPage","ExerciseRunnerContainer_ErrorLoadingPage","ExerciseRunnerContainer_ExerciseStepNotFoundPage","ExerciseRunner_ExerciseRunner","ExerciseRunnerContainer_ExerciseNotFoundPage","ExerciseRunnerContainer","App","redux_RootContainer","BrowserRouter","basename","components_theme_Theme","Switch","Route","exact","path","component","ExerciseListPageContainer","ExercisePageContainer","params","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.3ca9341a.chunk.js","sourcesContent":["import React, { SFC } from 'react';\r\nimport './Theme.css';\r\n\r\nconst Theme: SFC = ({ children }) => {\r\n  React.Children.only(children);\r\n  return <>{children}</>;\r\n};\r\n\r\nexport default Theme;\r\n","import { AppStore } from './reducer';\n\nexport const getExerciseList = (state: AppStore) => state.exercises.ids.map(id => state.exercises.byId[id]);\n\nexport const getExerciseById = (state: AppStore) => (id: string) => state.exercises.byId[id];\n\nexport const areExercisesLoading = (state: AppStore) => state.exercises.loading;\n\nexport const hasErrorLoadingExercises = (state: AppStore) => !!state.exercises.error;\n","import React, { ReactNode, SFC } from 'react';\nimport classNames from 'classnames';\n\nexport interface LayoutProps {\n  header?: ReactNode;\n  navItems?: ReactNode[];\n  headerBackground?: {\n    className: string;\n    isLight?: boolean;\n  };\n}\n\nexport const Layout: SFC<LayoutProps> = ({\n  header,\n  children,\n  navItems = [],\n  headerBackground = { className: 'bg-white', isLight: true }\n}) => (\n  <>\n    <header\n      className={classNames('navbar justify-content-start sticky-top shadow-sm', headerBackground.className, {\n        'navbar-light': headerBackground.isLight,\n        'navbar-dark': !headerBackground.isLight\n      })}\n    >\n      {header}\n    </header>\n    <main className=\"col-sm-10 mx-auto mb-5 py-3 px-0 px-xs-2\">{children}</main>\n    <nav className=\"navbar fixed-bottom navbar-light bg-white p-0 navbar-expand shadow-up-sm\">\n      <ul className=\"navbar-nav nav-justified w-100\">\n        {navItems.map((navItem, index) => (\n          <li key={`nav-item-${index}`} className=\"nav-item\">\n            {navItem}\n          </li>\n        ))}\n      </ul>\n    </nav>\n  </>\n);\n","import React, { SFC } from 'react';\nimport classNames from 'classnames';\n\nexport type CenteredPageLayoutProps = {\n  className?: string;\n};\n\nexport const CenteredPageLayout: SFC<CenteredPageLayoutProps> = ({ children, className }) => (\n  <div\n    className={classNames('d-flex align-items-center w-100 text-center bg-light text-dark', className)}\n    style={{\n      height: '100vh',\n      position: 'fixed',\n      top: 0,\n      left: 0\n    }}\n  >\n    <section className=\"m-auto\">{children}</section>\n  </div>\n);\n","import React, { SFC, ReactNode } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { IconProp } from '@fortawesome/fontawesome-svg-core';\r\nimport { CenteredPageLayout } from 'components/layout';\r\n\r\nexport type EmptyPageProps = {\r\n  icon: IconProp;\r\n  text: string | ReactNode;\r\n  action: ReactNode;\r\n};\r\n\r\nconst EmptyPage: SFC<EmptyPageProps> = ({ icon, text, action }) => {\r\n  return (\r\n    <CenteredPageLayout>\r\n      <div>{icon && <FontAwesomeIcon icon={icon} size=\"7x\" />}</div>\r\n      <div>{text}</div>\r\n      {action && <nav className=\"m-5\">{action}</nav>}\r\n    </CenteredPageLayout>\r\n  );\r\n};\r\n\r\nexport default EmptyPage;\r\n","import React, { Component, ReactNode } from 'react';\r\nimport SwipeableViews from 'react-swipeable-views';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTimes, faCheck, faUndo } from '@fortawesome/free-solid-svg-icons';\r\n\r\nexport type SwipeableListItemProps = {\r\n  className: string;\r\n  rightSwipeElement: ReactNode;\r\n  leftSwipeElement: ReactNode;\r\n  onSwipeRight: () => void;\r\n  onSwipeLeft: () => void;\r\n};\r\n\r\nexport type SwipeableListItemState = {\r\n  index: number;\r\n};\r\n\r\nexport default class SwipeableListItem extends Component<SwipeableListItemProps, SwipeableListItemState> {\r\n  constructor(props: SwipeableListItemProps) {\r\n    super(props);\r\n    this.state = { index: 1 };\r\n  }\r\n\r\n  onChangeIndex = (index: number) => {\r\n    this.setState({ index });\r\n  };\r\n\r\n  onTransitionEnd = () => {\r\n    if (this.state.index === 0) {\r\n      this.props.onSwipeLeft();\r\n    } else if (this.state.index === 2) {\r\n      this.props.onSwipeRight();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { className, children, rightSwipeElement, leftSwipeElement } = this.props;\r\n\r\n    return (\r\n      <li className={className}>\r\n        <SwipeableViews\r\n          index={this.state.index}\r\n          onTransitionEnd={this.onTransitionEnd}\r\n          onChangeIndex={this.onChangeIndex}\r\n        >\r\n          {leftSwipeElement}\r\n          {children}\r\n          {rightSwipeElement}\r\n        </SwipeableViews>\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nexport const SwipedItemAcknowledged = () => (\r\n  <div className=\"d-flex bg-success text-white py-3 px-3 h-100 justify-content-end\">\r\n    <FontAwesomeIcon icon={faCheck} className=\"align-self-center\" />\r\n  </div>\r\n);\r\n\r\nexport const SwipedItemRemoved = () => (\r\n  <div className=\"bg-danger text-white py-3 px-3 h-100\">\r\n    <FontAwesomeIcon icon={faTimes} className=\"align-self-center\" />\r\n  </div>\r\n);\r\n\r\nexport const SwipedItemCanceled = () => (\r\n  <div className=\"d-flex bg-warning text-white py-3 px-3 h-100 justify-content-end\">\r\n    <FontAwesomeIcon icon={faUndo} className=\"align-self-center\" />\r\n  </div>\r\n);\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faListAlt } from '@fortawesome/free-regular-svg-icons';\r\nimport { faAngleRight, faSun, faPoo, faTrash, faCheck, faUndo } from '@fortawesome/free-solid-svg-icons';\r\nimport EmptyPage from '../../../components/empty-page/EmptyPage';\r\nimport SwipeableListItem, {\r\n  SwipedItemAcknowledged,\r\n  SwipedItemRemoved,\r\n  SwipedItemCanceled\r\n} from '../../../components/swipeable-list-item/SwipeableListItem';\r\nimport './ExerciseList.css';\r\nimport { Exercise } from '../../../store/types';\r\n\r\nconst mapExerciceItem = (onSwipeLeft: (id: string) => void, onSwipeRight: (id: string) => void) => ({\r\n  id,\r\n  name,\r\n  done\r\n}: Pick<Exercise, 'id' | 'done' | 'name'>) => {\r\n  return (\r\n    <SwipeableListItem\r\n      key={`exercise-${id}`}\r\n      className={'list-group-item p-0 ' + (done ? 'list-group-item-success' : '')}\r\n      onSwipeLeft={() => onSwipeLeft(id)}\r\n      onSwipeRight={() => onSwipeRight(id)}\r\n      leftSwipeElement={done ? <SwipedItemCanceled /> : <SwipedItemAcknowledged />}\r\n      rightSwipeElement={<SwipedItemRemoved />}\r\n    >\r\n      <Link\r\n        to={`/${id}`}\r\n        className={`d-flex py-3 px-3 list-group-item-action ${done ? 'list-group-item-success' : ''} h-100`}\r\n      >\r\n        <span className=\"flex-grow-1 p-1\">{name}</span>\r\n        <div\r\n          className=\"d-none d-sm-block btn-toolbar list-toolbar-hover\"\r\n          role=\"toolbar\"\r\n          aria-label=\"Toolbar with actions on the exercise\"\r\n        >\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-outline-dark rounded-circle border-0 mx-1\"\r\n            aria-label=\"Delete\"\r\n            onClick={e => {\r\n              onSwipeRight(id);\r\n              e.preventDefault();\r\n            }}\r\n          >\r\n            <FontAwesomeIcon icon={faTrash} />\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-outline-dark rounded-circle border-0 mx-1\"\r\n            aria-label=\"Complete\"\r\n            onClick={e => {\r\n              onSwipeLeft(id);\r\n              e.preventDefault();\r\n            }}\r\n          >\r\n            {done ? <FontAwesomeIcon icon={faUndo} /> : <FontAwesomeIcon icon={faCheck} />}\r\n          </button>\r\n        </div>\r\n        <span className=\"p-1 ml-1\">\r\n          <FontAwesomeIcon icon={faAngleRight} />\r\n        </span>\r\n      </Link>\r\n    </SwipeableListItem>\r\n  );\r\n};\r\n\r\nexport type ExerciseListProps = {\r\n  exercises: Exercise[];\r\n  onAddExercise: () => void;\r\n  onAcknowledgeExercise: (id: string) => void;\r\n  onDeleteExercise: (id: string) => void;\r\n  onCancelExercise: (id: string) => void;\r\n  loading?: boolean;\r\n  errorLoading?: boolean;\r\n};\r\n\r\nconst ExerciseList = ({\r\n  exercises = [],\r\n  onAddExercise,\r\n  onAcknowledgeExercise,\r\n  onDeleteExercise,\r\n  onCancelExercise,\r\n  loading = false,\r\n  errorLoading = false\r\n}: ExerciseListProps) => {\r\n  return exercises.length > 0 ? (\r\n    <ul className=\"list-group shadow-y-sm\">\r\n      {exercises && exercises.filter(e => !e.done).map(mapExerciceItem(onAcknowledgeExercise, onDeleteExercise))}\r\n      {exercises && exercises.filter(e => e.done).map(mapExerciceItem(onCancelExercise, onDeleteExercise))}\r\n    </ul>\r\n  ) : loading ? (\r\n    <EmptyPage text=\"Loading ...\" icon={faSun} action={<p>Your exercises are being loaded</p>} />\r\n  ) : errorLoading ? (\r\n    <EmptyPage\r\n      text=\"Error loading your exercises\"\r\n      icon={faPoo}\r\n      action={<p>Sorry an error occured loading your exercices !</p>}\r\n    />\r\n  ) : (\r\n    <EmptyPage\r\n      text=\"You have no exercises yet\"\r\n      icon={faListAlt}\r\n      action={\r\n        <>\r\n          <button className=\"btn btn-primary m-1\" onClick={() => onAddExercise()}>\r\n            Create your first exercise\r\n          </button>\r\n          <button className=\"btn btn-outline-primary m-1\">Import exercises</button>\r\n        </>\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default ExerciseList;\r\n","import React from 'react';\r\nimport ExerciseList, { ExerciseListProps } from './ExerciseList';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPlusSquare } from '@fortawesome/free-solid-svg-icons';\r\nimport { Layout } from '../../../components/layout';\r\n\r\nconst ExerciseListPage = ({\r\n  loading = false,\r\n  errorLoading = false,\r\n  exercises,\r\n  onAddExercise,\r\n  onDeleteExercise,\r\n  onAcknowledgeExercise,\r\n  onCancelExercise\r\n}: ExerciseListProps) => (\r\n  <Layout\r\n    header={<span className=\"navbar-brand mb-0 h1\">Exercises</span>}\r\n    headerBackground={{ className: 'bg-primary', isLight: false }}\r\n    navItems={[\r\n      <button\r\n        key=\"nav-new-exercise\"\r\n        className=\"btn btn-link nav-link\"\r\n        disabled={loading || errorLoading}\r\n        onClick={() => onAddExercise()}\r\n      >\r\n        <FontAwesomeIcon icon={faPlusSquare} /> New exercise\r\n      </button>\r\n    ]}\r\n  >\r\n    <ExerciseList\r\n      exercises={exercises}\r\n      onAddExercise={onAddExercise}\r\n      onDeleteExercise={onDeleteExercise}\r\n      onAcknowledgeExercise={onAcknowledgeExercise}\r\n      onCancelExercise={onCancelExercise}\r\n      loading={loading}\r\n      errorLoading={errorLoading}\r\n    />\r\n  </Layout>\r\n);\r\n\r\nexport default ExerciseListPage;\r\n","import uuidv4 from 'uuid/v4';\nimport { Exercise, StepType, Step, UnexpectedError } from './types';\n\nexport type Action = {\n  type: string;\n  [key: string]: any;\n};\n\nexport const TYPES = {\n  FETCH_EXERCISES: {\n    REQUEST: 'exercises/FETCH_EXERCISES/REQUEST',\n    SUCCESS: 'exercises/FETCH_EXERCISES/SUCCESS',\n    FAILURE: 'exercises/FETCH_EXERCISES/FAILURE'\n  },\n  FETCH_EXERCISE: {\n    REQUEST: 'exercises/FETCH_EXERCISE/REQUEST',\n    SUCCESS: 'exercises/FETCH_EXERCISE/SUCCESS',\n    FAILURE: 'exercises/FETCH_EXERCISE/FAILURE'\n  },\n  ADD_EXERCISE: {\n    REQUEST: 'exercises/ADD_EXERCISE/REQUEST',\n    SUCCESS: 'exercises/ADD_EXERCISE/SUCCESS',\n    FAILURE: 'exercises/ADD_EXERCISE/FAILURE'\n  },\n  DELETE_EXERCISE: {\n    REQUEST: 'exercises/DELETE_EXERCISE/REQUEST',\n    SUCCESS: 'exercises/DELETE_EXERCISE/SUCCESS',\n    FAILURE: 'exercises/DELETE_EXERCISE/FAILURE'\n  },\n  ACKNOWLEDGE_EXERCISE: {\n    REQUEST: 'exercises/ACKNOWLEDGE_EXERCISE/REQUEST',\n    SUCCESS: 'exercises/ACKNOWLEDGE_EXERCISE/SUCCESS',\n    FAILURE: 'exercises/ACKNOWLEDGE_EXERCISE/FAILURE'\n  },\n  CANCEL_EXERCISE: {\n    REQUEST: 'exercises/CANCEL_EXERCISE/REQUEST',\n    SUCCESS: 'exercises/CANCEL_EXERCISE/SUCCESS',\n    FAILURE: 'exercises/CANCEL_EXERCISE/FAILURE'\n  },\n  UPDATE_EXERCISE_NAME: {\n    REQUEST: 'exercises/UPDATE_EXERCISE_NAME/REQUEST',\n    SUCCESS: 'exercises/UPDATE_EXERCISE_NAME/SUCCESS',\n    FAILURE: 'exercises/UPDATE_EXERCISE_NAME/FAILURE'\n  },\n  ADD_EXERCISE_STEP: {\n    REQUEST: 'exercises/ADD_EXERCISE_STEP/REQUEST',\n    SUCCESS: 'exercises/ADD_EXERCISE_STEP/SUCCESS',\n    FAILURE: 'exercises/ADD_EXERCISE_STEP/FAILURE'\n  },\n  DELETE_EXERCISE_STEP: {\n    REQUEST: 'exercises/DELETE_EXERCISE_STEP/REQUEST',\n    SUCCESS: 'exercises/DELETE_EXERCISE_STEP/SUCCESS',\n    FAILURE: 'exercises/DELETE_EXERCISE_STEP/FAILURE'\n  },\n  ACKNOWLEDGE_EXERCISE_STEP: {\n    REQUEST: 'exercises/ACKNOWLEDGE_EXERCISE_STEP/REQUEST',\n    SUCCESS: 'exercises/ACKNOWLEDGE_EXERCISE_STEP/SUCCESS',\n    FAILURE: 'exercises/ACKNOWLEDGE_EXERCISE_STEP/FAILURE'\n  },\n  CANCEL_EXERCISE_STEP: {\n    REQUEST: 'exercises/CANCEL_EXERCISE_STEP/REQUEST',\n    SUCCESS: 'exercises/CANCEL_EXERCISE_STEP/SUCCESS',\n    FAILURE: 'exercises/CANCEL_EXERCISE_STEP/FAILURE'\n  },\n  UPDATE_EXERCISE_STEP: {\n    REQUEST: 'exercises/UPDATE_EXERCISE_STEP/REQUEST',\n    SUCCESS: 'exercises/UPDATE_EXERCISE_STEP/SUCCESS',\n    FAILURE: 'exercises/UPDATE_EXERCISE_STEP/FAILURE'\n  },\n  MOVE_EXERCISE_STEP: {\n    REQUEST: 'exercises/MOVE_EXERCISE_STEP/REQUEST',\n    SUCCESS: 'exercises/MOVE_EXERCISE_STEP/SUCCESS',\n    FAILURE: 'exercises/MOVE_EXERCISE_STEP/FAILURE'\n  },\n  START_EXERCISE: 'exercises/START',\n  STOP_EXERCISE: 'exercises/STOP',\n  PAUSE_EXERCISE: 'exercises/PAUSE'\n};\n\n// FETCH_EXERCISES\nexport const fetchAllExercisesRequest = () => ({\n  type: TYPES.FETCH_EXERCISES.REQUEST\n});\nexport const fetchAllExercisesSuccess = (exercises: Exercise[]) => ({\n  type: TYPES.FETCH_EXERCISES.SUCCESS,\n  exercises\n});\nexport const fetchAllExercisesFailure = (error: UnexpectedError) => ({\n  type: TYPES.FETCH_EXERCISES.FAILURE,\n  error\n});\n\n// FETCH_EXERCISE\nexport const fetchExerciseRequest = (id: string) => ({\n  type: TYPES.FETCH_EXERCISE.REQUEST,\n  id\n});\nexport const fetchExerciseSuccess = (exercise: Exercise) => ({\n  type: TYPES.FETCH_EXERCISE.SUCCESS,\n  exercise\n});\nexport const fetchExerciseFailure = (id: string, error: UnexpectedError) => ({\n  type: TYPES.FETCH_EXERCISE.FAILURE,\n  id,\n  error\n});\n\n// ADD_EXERCISE\nexport const addExerciseRequest = () => {\n  const exercise: Exercise = {\n    id: uuidv4(),\n    name: 'New exercise',\n    type: null,\n    steps: [],\n    done: false,\n    progress: null\n  };\n  return {\n    type: TYPES.ADD_EXERCISE.REQUEST,\n    exercise\n  };\n};\nexport const addExerciseSuccess = (exercise: Exercise) => ({\n  type: TYPES.ADD_EXERCISE.SUCCESS,\n  exercise\n});\nexport const addExerciseFailure = (exercise: Exercise, error: UnexpectedError) => ({\n  type: TYPES.ADD_EXERCISE.FAILURE,\n  exercise,\n  error\n});\n\n// DELETE_EXERCISE\nexport const deleteExerciseRequest = (id: string) => ({\n  type: TYPES.DELETE_EXERCISE.REQUEST,\n  id\n});\nexport const deleteExerciseSuccess = (id: string) => ({\n  type: TYPES.DELETE_EXERCISE.SUCCESS,\n  id\n});\nexport const deleteExerciseFailure = (id: string, error: UnexpectedError) => ({\n  type: TYPES.DELETE_EXERCISE.FAILURE,\n  id,\n  error\n});\n\n// ACKNOWLEDGE_EXERCISE\nexport const acknowledgeExerciseRequest = (id: string) => ({\n  type: TYPES.ACKNOWLEDGE_EXERCISE.REQUEST,\n  id\n});\nexport const acknowledgeExerciseSuccess = (exercise: Exercise) => ({\n  type: TYPES.ACKNOWLEDGE_EXERCISE.SUCCESS,\n  exercise\n});\nexport const acknowledgeExerciseFailure = (exerciseId: string, error: UnexpectedError) => ({\n  type: TYPES.ACKNOWLEDGE_EXERCISE.FAILURE,\n  exerciseId,\n  error\n});\n\n// CANCEL_EXERCISE\nexport const cancelExerciseRequest = (id: string) => ({\n  type: TYPES.CANCEL_EXERCISE.REQUEST,\n  id\n});\nexport const cancelExerciseSuccess = (exercise: Exercise) => ({\n  type: TYPES.CANCEL_EXERCISE.SUCCESS,\n  exercise\n});\nexport const cancelExerciseFailure = (exerciseId: string, error: UnexpectedError) => ({\n  type: TYPES.CANCEL_EXERCISE.FAILURE,\n  exerciseId,\n  error\n});\n\n// UPDATE EXERCISE NAME\nexport const updateExerciseNameRequest = (id: string, name: string) => ({\n  type: TYPES.UPDATE_EXERCISE_NAME.REQUEST,\n  id,\n  name\n});\nexport const updateExerciseNameSuccess = (exercise: Exercise) => ({\n  type: TYPES.UPDATE_EXERCISE_NAME.SUCCESS,\n  exercise\n});\nexport const updateExerciseNameFailure = (id: string, error: UnexpectedError) => ({\n  type: TYPES.UPDATE_EXERCISE_NAME.FAILURE,\n  id,\n  error\n});\n\n// ACKNOWLEDGE_EXERCISE_STEP\nexport const acknowledgeExerciseStepRequest = (exerciseId: string, stepId: string) => ({\n  type: TYPES.ACKNOWLEDGE_EXERCISE_STEP.REQUEST,\n  exerciseId,\n  stepId\n});\nexport const acknowledgeExerciseStepSuccess = (exercise: Exercise) => ({\n  type: TYPES.ACKNOWLEDGE_EXERCISE_STEP.SUCCESS,\n  exercise\n});\nexport const acknowledgeExerciseStepFailure = (exerciseId: string, stepId: string, error: UnexpectedError) => ({\n  type: TYPES.ACKNOWLEDGE_EXERCISE_STEP.FAILURE,\n  exerciseId,\n  stepId,\n  error\n});\n\n// CANCEL_EXERCISE_STEP\nexport const cancelExerciseStepRequest = (exerciseId: string, stepId: string) => ({\n  type: TYPES.CANCEL_EXERCISE_STEP.REQUEST,\n  exerciseId,\n  stepId\n});\nexport const cancelExerciseStepSuccess = (exercise: Exercise) => ({\n  type: TYPES.CANCEL_EXERCISE_STEP.SUCCESS,\n  exercise\n});\nexport const cancelExerciseStepFailure = (exerciseId: string, stepId: string, error: UnexpectedError) => ({\n  type: TYPES.CANCEL_EXERCISE_STEP.FAILURE,\n  exerciseId,\n  stepId,\n  error\n});\n\n// ADD_EXERCISE_STEP\nexport const addExerciseStepRequest = (exerciseId: string, stepType: StepType, stepContent?: Step) => {\n  const step = createExerciseStep(stepType, stepContent);\n  return {\n    type: TYPES.ADD_EXERCISE_STEP.REQUEST,\n    exerciseId,\n    stepType,\n    step\n  };\n};\nexport const addExerciseStepSuccess = (exercise: Exercise) => ({\n  type: TYPES.ADD_EXERCISE_STEP.SUCCESS,\n  exercise\n});\nexport const addExerciseStepFailure = (exerciseId: string, error: UnexpectedError) => ({\n  type: TYPES.ADD_EXERCISE_STEP.FAILURE,\n  exerciseId,\n  error\n});\n\nconst createExerciseStep = (type: StepType, stepContent?: Step) => {\n  switch (type) {\n    case 'timed':\n      return {\n        duration: 0,\n        rest: 0,\n        ...stepContent,\n        id: uuidv4(),\n        done: false\n      };\n    case 'repetition':\n      return {\n        kg: 0,\n        repetition: 1,\n        rest: 0,\n        ...stepContent,\n        id: uuidv4(),\n        done: false\n      };\n    default:\n      throw new Error(`Unknown step type \"${type}\"`);\n  }\n};\n\n// DELETE_EXERCISE_STEP\nexport const deleteExerciseStepRequest = (exerciseId: string, stepId: string) => ({\n  type: TYPES.DELETE_EXERCISE_STEP.REQUEST,\n  exerciseId,\n  stepId\n});\nexport const deleteExerciseStepSuccess = (exercise: Exercise) => ({\n  type: TYPES.DELETE_EXERCISE_STEP.SUCCESS,\n  exercise\n});\nexport const deleteExerciseStepFailure = (exerciseId: string, stepId: string, error: UnexpectedError) => ({\n  type: TYPES.DELETE_EXERCISE_STEP.FAILURE,\n  exerciseId,\n  stepId,\n  error\n});\n\n// UPDATE_EXERCISE_STEP\nexport const updateExerciseStepRequest = (exerciseId: string, stepId: string, contentPatch: Partial<Step>) => ({\n  type: TYPES.UPDATE_EXERCISE_STEP.REQUEST,\n  exerciseId,\n  stepId,\n  contentPatch\n});\nexport const updateExerciseStepSuccess = (exercise: Exercise) => ({\n  type: TYPES.UPDATE_EXERCISE_STEP.SUCCESS,\n  exercise\n});\nexport const updateExerciseStepFailure = (\n  exerciseId: string,\n  stepId: string,\n  contentPatch: Partial<Step>,\n  error: UnexpectedError\n) => ({\n  type: TYPES.DELETE_EXERCISE_STEP.FAILURE,\n  exerciseId,\n  stepId,\n  contentPatch,\n  error\n});\n\n// MOVE_EXERCISE_STEP\nexport const moveExerciseStepRequest = (exerciseId: string, oldIndex: number, newIndex: number) => ({\n  type: TYPES.MOVE_EXERCISE_STEP.REQUEST,\n  exerciseId,\n  oldIndex,\n  newIndex\n});\nexport const moveExerciseStepSuccess = (exercise: Exercise) => ({\n  type: TYPES.MOVE_EXERCISE_STEP.SUCCESS,\n  exercise\n});\nexport const moveExerciseStepFailure = (\n  exerciseId: string,\n  oldIndex: number,\n  newIndex: number,\n  error: UnexpectedError\n) => ({\n  type: TYPES.MOVE_EXERCISE_STEP.FAILURE,\n  exerciseId,\n  oldIndex,\n  newIndex,\n  error\n});\n\n// START_EXERCISE\nexport const startExercise = (exercise: Exercise) => ({\n  type: TYPES.START_EXERCISE,\n  exercise\n});\n\n// STOP_EXERCISE\nexport const stopExercise = (exercise: Exercise) => ({\n  type: TYPES.STOP_EXERCISE,\n  exercise\n});\n\n// PAUSE_EXERCISE\nexport const pauseExercise = (exercise: Exercise) => ({\n  type: TYPES.PAUSE_EXERCISE,\n  exercise\n});\n","import React, { Component } from 'react';\r\nimport { connect, MapStateToProps, MapDispatchToProps } from 'react-redux';\r\nimport { getExerciseList, areExercisesLoading, hasErrorLoadingExercises } from '../../../store/selectors';\r\nimport ExerciseListPage from '../presentational/ExerciseListPage';\r\nimport {\r\n  fetchAllExercisesRequest,\r\n  deleteExerciseRequest,\r\n  acknowledgeExerciseRequest,\r\n  cancelExerciseRequest,\r\n  addExerciseRequest\r\n} from '../../../store/actions';\r\nimport { AppStore } from '../../../store/reducer';\r\nimport { Exercise } from '../../../store/types';\r\n\r\ntype ExerciceListPageContainerStateProps = {\r\n  exercises: Exercise[];\r\n  loading: boolean;\r\n  errorLoading: boolean;\r\n};\r\n\r\ntype ExerciceListPageContainerDispatchProps = {\r\n  load: () => void;\r\n  onAddExercise: () => void;\r\n  onDeleteExercise: (id: string) => void;\r\n  onAcknowledgeExercise: (id: string) => void;\r\n  onCancelExercise: (id: string) => void;\r\n};\r\n\r\nexport type ExerciceListPageContainerOwnProps = {};\r\n\r\ntype ExerciceListPageContainerProps = ExerciceListPageContainerStateProps &\r\n  ExerciceListPageContainerDispatchProps &\r\n  ExerciceListPageContainerOwnProps;\r\n\r\nconst mapStateToProps: MapStateToProps<\r\n  ExerciceListPageContainerStateProps,\r\n  ExerciceListPageContainerOwnProps,\r\n  AppStore\r\n> = state => ({\r\n  exercises: getExerciseList(state),\r\n  loading: areExercisesLoading(state),\r\n  errorLoading: hasErrorLoadingExercises(state)\r\n});\r\n\r\nconst mapDispatchToProps: MapDispatchToProps<\r\n  ExerciceListPageContainerDispatchProps,\r\n  ExerciceListPageContainerOwnProps\r\n> = dispatch => ({\r\n  load: () => dispatch(fetchAllExercisesRequest()),\r\n  onAddExercise: () => dispatch(addExerciseRequest()),\r\n  onDeleteExercise: (id: string) => dispatch(deleteExerciseRequest(id)),\r\n  onAcknowledgeExercise: (id: string) => dispatch(acknowledgeExerciseRequest(id)),\r\n  onCancelExercise: (id: string) => dispatch(cancelExerciseRequest(id))\r\n});\r\n\r\nclass ExerciceListPageContainer extends Component<ExerciceListPageContainerProps> {\r\n  componentDidMount() {\r\n    if (this.props.exercises.length === 0) {\r\n      this.props.load();\r\n    }\r\n  }\r\n  render() {\r\n    const { load, ...restProps } = this.props;\r\n    return <ExerciseListPage {...restProps} />;\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ExerciceListPageContainer);\r\n","import React from 'react';\r\nimport { SortableHandle } from 'react-sortable-hoc';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faBars, faDumbbell, faTimes, faHandPaper, faClock } from '@fortawesome/free-solid-svg-icons';\r\nimport { StepRepetition as StepRepetitionType, StepTimed as StepTimedType } from '../../../store/types';\r\n\r\nconst DragHandle = SortableHandle(() => (\r\n  <div className=\"list-group-item-drag-handle\" style={{ width: '1em' }}>\r\n    <FontAwesomeIcon icon={faBars} />\r\n  </div>\r\n));\r\n\r\nconst InputNumber = ({\r\n  defaultValue,\r\n  placeholder,\r\n  onChange\r\n}: {\r\n  defaultValue: number;\r\n  placeholder: string;\r\n  onChange: (e: React.SyntheticEvent<HTMLInputElement>) => void;\r\n}) => (\r\n  <input\r\n    type=\"number\"\r\n    className=\"form-control form-control-sm mx-auto\"\r\n    placeholder={placeholder}\r\n    defaultValue={`${defaultValue}`}\r\n    onChange={onChange}\r\n    min=\"0\"\r\n    max=\"999\"\r\n    style={{ width: '4em' }}\r\n    required\r\n  />\r\n);\r\n\r\nexport type StepRepetitionProps = {\r\n  kg: StepRepetitionType['kg'];\r\n  repetition: StepRepetitionType['repetition'];\r\n  rest: StepRepetitionType['rest'];\r\n  onContentChange: (content: Partial<StepRepetitionType>) => void;\r\n};\r\n\r\nexport const StepRepetition = ({ kg, repetition, rest, onContentChange }: StepRepetitionProps) => (\r\n  <div className=\"d-flex justify-content-between p-3\">\r\n    <div>\r\n      <InputNumber\r\n        defaultValue={kg}\r\n        placeholder=\"Kg\"\r\n        onChange={(e: React.SyntheticEvent<HTMLInputElement>) =>\r\n          onContentChange({ kg: parseFloat(e.currentTarget.value) })\r\n        }\r\n      />\r\n    </div>\r\n    <div>\r\n      <InputNumber\r\n        defaultValue={repetition}\r\n        placeholder=\"Repetition\"\r\n        onChange={e => onContentChange({ repetition: parseFloat(e.currentTarget.value) })}\r\n      />\r\n    </div>\r\n    <div>\r\n      <InputNumber\r\n        defaultValue={rest}\r\n        placeholder=\"Rest\"\r\n        onChange={e => onContentChange({ rest: parseFloat(e.currentTarget.value) })}\r\n      />\r\n    </div>\r\n    <DragHandle />\r\n  </div>\r\n);\r\n\r\nexport const HeaderStepRepetition = () => (\r\n  <header className=\"list-group-item-header border-top-0 border-left-0 border-right-0 d-flex justify-content-between text-dark text-center\">\r\n    <div style={{ width: '4em' }}>\r\n      <FontAwesomeIcon icon={faDumbbell} size=\"lg\" />\r\n    </div>\r\n    <div style={{ width: '4em' }}>\r\n      <FontAwesomeIcon icon={faTimes} size=\"lg\" />\r\n    </div>\r\n    <div style={{ width: '4em' }}>\r\n      <FontAwesomeIcon icon={faHandPaper} size=\"lg\" />\r\n    </div>\r\n    <div style={{ width: '1em' }} />\r\n  </header>\r\n);\r\n\r\nexport const HeaderStepTimed = () => (\r\n  <header className=\"list-group-item-header border-top-0 border-left-0 border-right-0 d-flex justify-content-between text-dark text-center\">\r\n    <div style={{ width: '4em' }}>\r\n      <FontAwesomeIcon icon={faClock} size=\"lg\" />\r\n    </div>\r\n    <div style={{ width: '4em' }}>\r\n      <FontAwesomeIcon icon={faHandPaper} size=\"lg\" />\r\n    </div>\r\n    <div style={{ width: '1em' }} />\r\n  </header>\r\n);\r\n\r\nexport type StepTimedProps = {\r\n  duration: StepTimedType['duration'];\r\n  rest: StepTimedType['rest'];\r\n  onContentChange: (content: Partial<StepTimedType>) => void;\r\n};\r\n\r\nexport const StepTimed = ({ duration, rest, onContentChange }: StepTimedProps) => (\r\n  <div className=\"d-flex justify-content-between p-3\">\r\n    <div>\r\n      <InputNumber\r\n        defaultValue={duration}\r\n        placeholder=\"Duration\"\r\n        onChange={e => onContentChange({ duration: parseFloat(e.currentTarget.value) })}\r\n      />\r\n    </div>\r\n    <div>\r\n      <InputNumber\r\n        defaultValue={rest}\r\n        placeholder=\"Rest\"\r\n        onChange={e => onContentChange({ rest: parseFloat(e.currentTarget.value) })}\r\n      />\r\n    </div>\r\n    <DragHandle />\r\n  </div>\r\n);\r\n","import React, { Component, ReactNode } from 'react';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faDumbbell, faStopwatch } from '@fortawesome/free-solid-svg-icons';\nimport SwipeableListItem, {\n  SwipedItemAcknowledged,\n  SwipedItemRemoved,\n  SwipedItemCanceled\n} from '../../../components/swipeable-list-item/SwipeableListItem';\nimport { StepRepetition, HeaderStepRepetition, HeaderStepTimed, StepTimed } from './ExerciseStep';\nimport {\n  Exercise as ExerciseType,\n  StepType,\n  Step,\n  StepTimed as StepTimedType,\n  StepRepetition as StepRepetitionType\n} from '../../../store/types';\n\ntype SortableStepProps = {\n  type: StepType;\n  step: Step;\n  onSwipeLeft: () => void;\n  onSwipeRight: () => void;\n  leftSwipeElement: ReactNode;\n  rightSwipeElement: ReactNode;\n  onContentChange: (content: Partial<StepRepetitionType>) => void;\n};\n\nconst SortableStep = SortableElement(\n  ({\n    type,\n    step: { done, ...content },\n    onSwipeLeft,\n    onSwipeRight,\n    leftSwipeElement,\n    rightSwipeElement,\n    onContentChange\n  }: SortableStepProps) => (\n    <SwipeableListItem\n      className={'list-group-item p-0 ' + (done ? 'list-group-item-success' : '')}\n      onSwipeLeft={onSwipeLeft}\n      onSwipeRight={onSwipeRight}\n      leftSwipeElement={leftSwipeElement}\n      rightSwipeElement={rightSwipeElement}\n    >\n      {type === 'timed' ? (\n        <StepTimed\n          duration={(content as StepTimedType).duration}\n          rest={content.rest}\n          onContentChange={onContentChange}\n        />\n      ) : (\n        <StepRepetition\n          kg={(content as StepRepetitionType).kg}\n          repetition={(content as StepRepetitionType).repetition}\n          rest={content.rest}\n          onContentChange={onContentChange}\n        />\n      )}\n    </SwipeableListItem>\n  )\n);\n\ntype SortableStepListProps = {\n  type: StepType;\n  onSwipeLeft: (step: Step) => void;\n  onSwipeRight: (step: Step) => void;\n  leftSwipeElement: ReactNode;\n  rightSwipeElement: ReactNode;\n  steps: Step[];\n  onUpdateStep: (stepId: string) => (content: Partial<StepRepetitionType>) => void;\n};\n\nconst SortableStepList = SortableContainer(\n  ({\n    type,\n    onSwipeLeft,\n    onSwipeRight,\n    leftSwipeElement,\n    rightSwipeElement,\n    steps,\n    onUpdateStep\n  }: SortableStepListProps) => (\n    <ul className=\"list-group list-group-flush\">\n      {steps.map((step, index) => (\n        <SortableStep\n          key={`item-${step.id}`}\n          index={index}\n          type={type}\n          step={step}\n          onSwipeRight={() => onSwipeRight(step)}\n          onSwipeLeft={() => onSwipeLeft(step)}\n          leftSwipeElement={leftSwipeElement}\n          rightSwipeElement={rightSwipeElement}\n          onContentChange={onUpdateStep(step.id)}\n        />\n      ))}\n    </ul>\n  )\n);\n\nexport type ExerciseProps = {\n  exercise: ExerciseType;\n  onAddFirstStep: (stepType: StepType) => (stepContent?: Step) => void;\n  onDeleteStep: (stepId: string) => void;\n  onAcknowledgeStep: (stepId: string) => void;\n  onCancelStep: (stepId: string) => void;\n  onUpdateStep: (stepId: string) => (contentPatch: Partial<Step>) => void;\n  onMoveStep: (p: { oldIndex: number; newIndex: number }) => void;\n  onStartExercise: () => void;\n  onExerciseNameChange: (name: string) => void;\n};\n\nexport type ExerciseState = {\n  name: string;\n};\n\nclass Exercise extends Component<ExerciseProps, ExerciseState> {\n  constructor(props: ExerciseProps) {\n    super(props);\n    const { name } = props.exercise;\n    this.state = {\n      name: name\n    };\n  }\n\n  render() {\n    const { name } = this.state;\n    const {\n      onAddFirstStep,\n      onDeleteStep,\n      onAcknowledgeStep,\n      onCancelStep,\n      onUpdateStep,\n      onMoveStep,\n      onExerciseNameChange,\n      exercise: { type, steps }\n    } = this.props;\n    return (\n      <article className=\"card\">\n        <form onSubmit={e => e.preventDefault()}>\n          <header className=\"card-body\">\n            <label htmlFor=\"exerciseName\" className=\"d-none\">\n              Exercise name\n            </label>\n            <input\n              type=\"text\"\n              className=\"form-control font-weight-bold text-primary\"\n              id=\"exerciseName\"\n              placeholder=\"Your exercise name\"\n              defaultValue={name}\n              onChange={e => onExerciseNameChange(e.currentTarget.value)}\n              autoComplete=\"off\"\n              required\n            />\n          </header>\n          <>\n            {type && steps && steps.length > 0 ? (\n              <section>\n                {type === 'timed' ? <HeaderStepTimed /> : <HeaderStepRepetition />}\n                <SortableStepList\n                  type={type}\n                  steps={steps.filter(step => !step.done)}\n                  onSortEnd={({ oldIndex, newIndex }) => onMoveStep({ oldIndex, newIndex })}\n                  onSwipeLeft={step => onAcknowledgeStep(step.id)}\n                  onSwipeRight={step => onDeleteStep(step.id)}\n                  leftSwipeElement={<SwipedItemAcknowledged />}\n                  rightSwipeElement={<SwipedItemRemoved />}\n                  onUpdateStep={onUpdateStep}\n                  lockAxis=\"y\"\n                  useDragHandle={true}\n                  helperClass=\"list-group-item-sortable-helper\"\n                />\n                <SortableStepList\n                  type={type}\n                  steps={steps.filter(step => step.done)}\n                  onSortEnd={({ oldIndex, newIndex }) => onMoveStep({ oldIndex, newIndex })}\n                  onSwipeLeft={step => onCancelStep(step.id)}\n                  onSwipeRight={step => onDeleteStep(step.id)}\n                  leftSwipeElement={<SwipedItemCanceled />}\n                  rightSwipeElement={<SwipedItemRemoved />}\n                  onUpdateStep={onUpdateStep}\n                  lockAxis=\"y\"\n                  useDragHandle={true}\n                  helperClass=\"list-group-item-sortable-helper\"\n                />\n              </section>\n            ) : (\n              <section className=\"card-body text-center\">\n                <p className=\"card-text lead\">Choose your exercise type:</p>\n                <button type=\"button\" className=\"btn btn-outline-primary m-1\" onClick={() => onAddFirstStep('timed')()}>\n                  <FontAwesomeIcon icon={faStopwatch} /> Time serie\n                </button>\n                <button\n                  type=\"button\"\n                  className=\"btn btn-outline-primary m-1\"\n                  onClick={() => onAddFirstStep('repetition')()}\n                >\n                  <FontAwesomeIcon icon={faDumbbell} /> Repetition serie\n                </button>\n              </section>\n            )}\n          </>\n        </form>\n      </article>\n    );\n  }\n}\n\nexport default Exercise;\n","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlusSquare, faPlay, faTimes, faPoo, faSun, faQuidditch } from '@fortawesome/free-solid-svg-icons';\nimport { Link } from 'react-router-dom';\nimport EmptyPage from '../../../components/empty-page/EmptyPage';\nimport { Layout } from '../../../components/layout';\nimport { StepType, Step, Exercise as ExerciseType } from '../../../store/types';\nimport Exercise from './Exercise';\n\nconst LoadingPage = () => (\n  <EmptyPage text=\"Loading ...\" icon={faSun} action={<div>Your exercise is being loaded</div>} />\n);\nconst ErrorLoadingPage = () => (\n  <EmptyPage\n    text=\"Error loading your exercise\"\n    icon={faPoo}\n    action={<div>Sorry an error occured loading your exercice !</div>}\n  />\n);\nconst ExerciseNotFoundPage = () => (\n  <EmptyPage\n    text=\"Exercise not found\"\n    icon={faQuidditch}\n    action={\n      <Link className=\"btn btn-primary\" to=\"/\">\n        Back to exercises\n      </Link>\n    }\n  />\n);\n\nconst firstStepIdToRun = (steps: Step[]) => {\n  const stepNotDone = steps.filter(step => !step.done);\n  return stepNotDone.length > 0 ? stepNotDone[0].id : steps.length > 0 ? steps[0].id : undefined;\n};\n\nexport type ExercisePageProps = {\n  loading?: boolean;\n  exercise?: ExerciseType;\n  errorLoading?: boolean;\n  onAddStep: (exerciseId: string) => (stepType: StepType) => (stepContent?: Step) => void;\n  onDeleteStep: (exerciseId: string) => (stepId: string) => void;\n  onAcknowledgeStep: (exerciseId: string) => (stepId: string) => void;\n  onCancelStep: (exerciseId: string) => (stepId: string) => void;\n  onUpdateStep: (exerciseId: string) => (stepId: string) => (contentPatch: Partial<Step>) => void;\n  onMoveStep: (exerciseId: string) => (p: { oldIndex: number; newIndex: number }) => void;\n  onStartExercise: () => void;\n  onExerciseNameChange: (exerciseId: string) => (name: string) => void;\n};\n\nconst ExercisePage = ({\n  loading = false,\n  errorLoading = false,\n  exercise,\n  onAddStep,\n  onDeleteStep,\n  onAcknowledgeStep,\n  onCancelStep,\n  onStartExercise,\n  onUpdateStep,\n  onMoveStep,\n  onExerciseNameChange\n}: ExercisePageProps) => {\n  const header = (\n    <Link to=\"/\" className=\"btn btn-link text-dark\" aria-label=\"Back to exercises list\">\n      <FontAwesomeIcon icon={faTimes} />\n    </Link>\n  );\n  let navItems = [\n    loading || errorLoading || !exercise || exercise.steps.length === 0 ? (\n      <button key=\"nav-start\" className=\"btn btn-link nav-link btn-block\" disabled>\n        <FontAwesomeIcon icon={faPlay} /> Start\n      </button>\n    ) : (\n      <Link\n        to={`/${exercise!.id}/runner/${firstStepIdToRun(exercise.steps)}`}\n        key=\"nav-start\"\n        className=\"btn btn-link nav-link btn-block\"\n      >\n        <FontAwesomeIcon icon={faPlay} /> Start\n      </Link>\n    )\n  ];\n  if (exercise && exercise.type) {\n    navItems = [\n      ...navItems,\n      <button\n        key=\"nav-new-step\"\n        className=\"btn btn-link nav-link btn-block\"\n        disabled={loading || errorLoading}\n        onClick={() => onAddStep(exercise.id)(exercise.type!)(exercise.steps[exercise.steps.length - 1])}\n      >\n        <FontAwesomeIcon icon={faPlusSquare} /> New step\n      </button>\n    ];\n  }\n  return (\n    <Layout header={header} navItems={navItems}>\n      {loading ? (\n        <LoadingPage />\n      ) : errorLoading ? (\n        <ErrorLoadingPage />\n      ) : exercise ? (\n        <Exercise\n          exercise={exercise}\n          onAddFirstStep={onAddStep(exercise.id)}\n          onDeleteStep={onDeleteStep(exercise.id)}\n          onAcknowledgeStep={onAcknowledgeStep(exercise.id)}\n          onCancelStep={onCancelStep(exercise.id)}\n          onUpdateStep={onUpdateStep(exercise.id)}\n          onMoveStep={onMoveStep(exercise.id)}\n          onExerciseNameChange={onExerciseNameChange(exercise.id)}\n          onStartExercise={() => {\n            return;\n          }}\n        />\n      ) : (\n        <ExerciseNotFoundPage />\n      )}\n    </Layout>\n  );\n};\n\nexport default ExercisePage;\n","import React, { Component } from 'react';\nimport { connect, MapStateToProps, MapDispatchToProps } from 'react-redux';\nimport { getExerciseById, areExercisesLoading, hasErrorLoadingExercises } from '../../../store/selectors';\nimport ExercisePage from '../presentational/ExercisePage';\nimport {\n  fetchAllExercisesRequest,\n  updateExerciseNameRequest,\n  addExerciseStepRequest,\n  deleteExerciseStepRequest,\n  acknowledgeExerciseStepRequest,\n  cancelExerciseStepRequest,\n  updateExerciseStepRequest,\n  moveExerciseStepRequest\n} from '../../../store/actions';\nimport { AppStore } from '../../../store/reducer';\nimport { StepType, Step, Exercise } from '../../../store/types';\n\ntype ExercicePageContainerStateProps = {\n  exercise: Exercise;\n  loading: boolean;\n  errorLoading: boolean;\n};\n\ntype ExercicePageContainerDispatchProps = {\n  load: () => void;\n  onAddStep: (exerciseId: string) => (stepType: StepType) => (stepContent?: Step) => void;\n  onDeleteStep: (exerciseId: string) => (stepId: string) => void;\n  onAcknowledgeStep: (exerciseId: string) => (stepId: string) => void;\n  onCancelStep: (exerciseId: string) => (stepId: string) => void;\n  onUpdateStep: (exerciseId: string) => (stepId: string) => (contentPatch: Partial<Step>) => void;\n  onMoveStep: (exerciseId: string) => (p: { oldIndex: number; newIndex: number }) => void;\n  onStartExercise: () => void;\n  onExerciseNameChange: (id: string) => (name: string) => void;\n};\n\nexport type ExercicePageContainerOwnProps = {\n  exerciseId: string;\n};\n\nconst mapStateToProps: MapStateToProps<ExercicePageContainerStateProps, ExercicePageContainerOwnProps, AppStore> = (\n  state,\n  ownProps\n) => ({\n  exercise: getExerciseById(state)(ownProps.exerciseId),\n  loading: areExercisesLoading(state),\n  errorLoading: hasErrorLoadingExercises(state)\n});\n\nconst mapDispatchToProps: MapDispatchToProps<\n  ExercicePageContainerDispatchProps,\n  ExercicePageContainerOwnProps\n> = dispatch => {\n  return {\n    load: () => dispatch(fetchAllExercisesRequest()),\n    onAddStep: (exerciseId: string) => (stepType: StepType) => (stepContent?: Step) =>\n      dispatch(addExerciseStepRequest(exerciseId, stepType, stepContent)),\n    onDeleteStep: (exerciseId: string) => (stepId: string) => dispatch(deleteExerciseStepRequest(exerciseId, stepId)),\n    onAcknowledgeStep: (exerciseId: string) => (stepId: string) =>\n      dispatch(acknowledgeExerciseStepRequest(exerciseId, stepId)),\n    onCancelStep: (exerciseId: string) => (stepId: string) => dispatch(cancelExerciseStepRequest(exerciseId, stepId)),\n    onUpdateStep: (exerciseId: string) => (stepId: string) => (contentPatch: Partial<Step>) =>\n      dispatch(updateExerciseStepRequest(exerciseId, stepId, contentPatch)),\n    onMoveStep: (exerciseId: string) => ({ oldIndex, newIndex }: { oldIndex: number; newIndex: number }) =>\n      dispatch(moveExerciseStepRequest(exerciseId, oldIndex, newIndex)),\n    onStartExercise: () => {\n      return;\n    },\n    onExerciseNameChange: (id: string) => (name: string) => dispatch(updateExerciseNameRequest(id, name))\n  };\n};\n\ntype ExercicePageContainerProps = ExercicePageContainerStateProps &\n  ExercicePageContainerDispatchProps &\n  ExercicePageContainerOwnProps;\n\nclass ExercicePageContainer extends Component<ExercicePageContainerProps> {\n  componentDidMount() {\n    if (!this.props.exercise) {\n      this.props.load();\n    }\n  }\n  render() {\n    const { load, ...restProps } = this.props;\n    return <ExercisePage {...restProps} />;\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ExercicePageContainer);\n","import { Exercise } from './types';\nimport {\n  TYPES as actions,\n  Action\n  // fetchAllExercisesRequest,\n  // fetchAllExercisesSuccess,\n  // fetchAllExercisesFailure,\n  // fetchExerciseRequest,\n  // fetchExerciseSuccess,\n  // fetchExerciseFailure,\n  // addExerciseRequest,\n  // addExerciseSuccess,\n  // addExerciseFailure,\n  // deleteExerciseRequest,\n  // deleteExerciseStepSuccess,\n  // deleteExerciseFailure,\n  // deleteExerciseSuccess,\n  // acknowledgeExerciseRequest,\n  // acknowledgeExerciseSuccess,\n  // acknowledgeExerciseFailure,\n  // cancelExerciseRequest,\n  // cancelExerciseSuccess,\n  // cancelExerciseFailure,\n  // updateExerciseNameRequest,\n  // updateExerciseNameSuccess,\n  // updateExerciseNameFailure,\n  // acknowledgeExerciseStepRequest,\n  // acknowledgeExerciseStepSuccess,\n  // cancelExerciseStepRequest,\n  // acknowledgeExerciseStepFailure,\n  // cancelExerciseStepSuccess,\n  // cancelExerciseStepFailure,\n  // addExerciseStepRequest,\n  // addExerciseStepSuccess,\n  // addExerciseStepFailure,\n  // deleteExerciseStepRequest,\n  // deleteExerciseStepFailure,\n  // updateExerciseStepRequest,\n  // updateExerciseStepFailure,\n  // updateExerciseStepSuccess,\n  // moveExerciseStepRequest,\n  // moveExerciseStepSuccess,\n  // moveExerciseStepFailure,\n  // startExercise,\n  // stopExercise,\n  // pauseExercise\n} from './actions';\nimport { combineReducers, Reducer } from 'redux';\n\nexport type ExerciseStore = {\n  loading: boolean;\n  error: any;\n  ids: string[];\n  byId: {\n    [id: string]: Exercise;\n  };\n};\n\nexport const exsercisesInitialState: ExerciseStore = { loading: false, error: null, ids: [], byId: {} };\n\nexport const exercises: Reducer<ExerciseStore, Action> = (state = exsercisesInitialState, action) => {\n  switch (action.type) {\n    case actions.FETCH_EXERCISES.REQUEST:\n    case actions.FETCH_EXERCISE.REQUEST:\n      return { ...state, loading: true, error: null };\n    case actions.FETCH_EXERCISES.SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        ids: action.exercises.map((e: Exercise) => e.id),\n        byId: action.exercises.reduce((byId: ExerciseStore['byId'], e: Exercise) => ({ ...byId, [e.id]: e }), {})\n      };\n    case actions.FETCH_EXERCISES.FAILURE:\n    case actions.FETCH_EXERCISE.FAILURE:\n      return { ...state, loading: false, error: action.error };\n    case actions.ADD_EXERCISE.SUCCESS:\n    case actions.FETCH_EXERCISE.SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        ids: [...state.ids, action.exercise.id],\n        byId: { ...state.byId, [action.exercise.id]: action.exercise }\n      };\n    case actions.DELETE_EXERCISE.SUCCESS:\n      return removeExerciseFromStateById(state, action.id);\n    case actions.ACKNOWLEDGE_EXERCISE.SUCCESS:\n    case actions.CANCEL_EXERCISE.SUCCESS:\n    case actions.ACKNOWLEDGE_EXERCISE_STEP.SUCCESS:\n    case actions.CANCEL_EXERCISE_STEP.SUCCESS:\n    case actions.UPDATE_EXERCISE_NAME.SUCCESS:\n    case actions.ADD_EXERCISE_STEP.SUCCESS:\n    case actions.DELETE_EXERCISE_STEP.SUCCESS:\n    case actions.UPDATE_EXERCISE_STEP.SUCCESS:\n    case actions.MOVE_EXERCISE_STEP.SUCCESS:\n      return { ...state, byId: { ...state.byId, [action.exercise.id]: { ...action.exercise } } };\n    case actions.START_EXERCISE:\n      return state.byId[action.exercise.id]\n        ? {\n            ...state,\n            byId: {\n              ...state.byId,\n              [action.exercise.id]: {\n                ...state.byId[action.exercise.id],\n                progress: {\n                  ...state.byId[action.exercise.id].progress,\n                  status: 'running',\n                  startedAt: new Date()\n                }\n              }\n            }\n          }\n        : state;\n    case actions.STOP_EXERCISE:\n      return state.byId[action.exercise.id]\n        ? {\n            ...state,\n            byId: {\n              ...state.byId,\n              [action.exercise.id]: {\n                ...state.byId[action.exercise.id],\n                progress: {\n                  ...state.byId[action.exercise.id].progress,\n                  status: 'stopped',\n                  stoppedAt: new Date()\n                }\n              }\n            }\n          }\n        : state;\n    case actions.PAUSE_EXERCISE:\n      return state.byId[action.exercise.id]\n        ? {\n            ...state,\n            byId: {\n              ...state.byId,\n              [action.exercise.id]: {\n                ...state.byId[action.exercise.id],\n                progress: { ...state.byId[action.exercise.id].progress, status: 'paused', pausedAt: new Date() }\n              }\n            }\n          }\n        : state;\n    default:\n      return state;\n  }\n};\n\nconst removeExerciseFromStateById = (state: ExerciseStore, exerciseId: string) => {\n  const restIds = state.ids.filter(id => id !== exerciseId);\n  const restById = restIds.reduce((byId, id) => ({ ...byId, [id]: state.byId[id] }), {});\n  return { ...state, ids: restIds, byId: restById };\n};\n\nconst reducer = combineReducers({\n  exercises\n});\n\nexport type AppStore = ReturnType<typeof reducer>;\n\nexport default reducer;\n","import idb from 'idb';\r\nimport { Exercise } from '../store/types';\r\n\r\nconst RW = 'readwrite';\r\n\r\nconst dbname = 'oeuf-db';\r\nconst version = 1;\r\n\r\nconst EXERCISE_STORE = 'exercise';\r\n\r\nconst dbPromise = idb.open(dbname, version, upgradeDB => {\r\n  switch (upgradeDB.oldVersion) {\r\n    case 0:\r\n    default:\r\n      upgradeDB.createObjectStore<Exercise, string>(EXERCISE_STORE, { keyPath: 'id' });\r\n  }\r\n});\r\n\r\nexport default dbPromise;\r\n\r\n// EXERCISE\r\n\r\nexport const putExercise = async (exercise: Exercise) => {\r\n  const db = await dbPromise;\r\n  const tx = db.transaction(EXERCISE_STORE, RW);\r\n  tx.objectStore<Exercise, string>(EXERCISE_STORE).put(exercise);\r\n  await tx.complete;\r\n  return exercise;\r\n};\r\n\r\nexport const patchExerciseById = async (id: string, patchExercise: Partial<Exercise>) => {\r\n  const db = await dbPromise;\r\n  const tx = db.transaction(EXERCISE_STORE, RW);\r\n  const store = tx.objectStore<Exercise, string>(EXERCISE_STORE);\r\n  const exercise = await store.get(id);\r\n  if (exercise) {\r\n    const newExercise = { ...exercise, ...patchExercise };\r\n    store.put(newExercise);\r\n    await tx.complete;\r\n    return newExercise;\r\n  } else {\r\n    throw new Error(`Exercise not found (id=\"${id}\"\")`);\r\n  }\r\n};\r\n\r\nexport const deleteExercise = async (id: string) => {\r\n  const db = await dbPromise;\r\n  const tx = db.transaction(EXERCISE_STORE, RW);\r\n  tx.objectStore<Exercise, string>(EXERCISE_STORE).delete(id);\r\n  return tx.complete;\r\n};\r\n\r\nexport const getAllExercises = async () => {\r\n  const db = await dbPromise;\r\n  return db\r\n    .transaction(EXERCISE_STORE)\r\n    .objectStore<Exercise, string>(EXERCISE_STORE)\r\n    .getAll();\r\n};\r\n\r\nexport const getExerciseById = async (id: string) => {\r\n  const db = await dbPromise;\r\n  return db\r\n    .transaction(EXERCISE_STORE)\r\n    .objectStore<Exercise, string>(EXERCISE_STORE)\r\n    .get(id);\r\n};\r\n","import { Exercise } from './types';\nimport { all, call, put, takeLatest, takeEvery } from 'redux-saga/effects';\nimport { delay } from 'redux-saga';\nimport { arrayMove } from 'react-sortable-hoc';\nimport * as datastore from '../idb/datastore';\nimport {\n  TYPES,\n  fetchAllExercisesSuccess,\n  addExerciseSuccess,\n  addExerciseFailure,\n  deleteExerciseSuccess,\n  deleteExerciseFailure,\n  acknowledgeExerciseFailure,\n  acknowledgeExerciseSuccess,\n  cancelExerciseSuccess,\n  cancelExerciseFailure,\n  updateExerciseNameSuccess,\n  updateExerciseNameFailure,\n  addExerciseStepSuccess,\n  addExerciseStepFailure,\n  deleteExerciseStepSuccess,\n  deleteExerciseStepFailure,\n  acknowledgeExerciseStepSuccess,\n  acknowledgeExerciseStepFailure,\n  acknowledgeExerciseRequest,\n  cancelExerciseStepSuccess,\n  cancelExerciseStepFailure,\n  updateExerciseStepSuccess,\n  updateExerciseStepFailure,\n  moveExerciseStepSuccess,\n  moveExerciseStepFailure,\n  fetchAllExercisesFailure,\n  addExerciseRequest,\n  deleteExerciseRequest,\n  cancelExerciseRequest,\n  updateExerciseNameRequest,\n  addExerciseStepRequest,\n  deleteExerciseStepRequest,\n  acknowledgeExerciseStepRequest,\n  cancelExerciseStepRequest,\n  moveExerciseStepRequest,\n  updateExerciseStepRequest,\n  fetchExerciseRequest,\n  fetchExerciseSuccess,\n  fetchExerciseFailure\n} from './actions';\n\nfunction* fetchExercises() {\n  try {\n    const exercises: Exercise[] = yield call(datastore.getAllExercises);\n    yield put(fetchAllExercisesSuccess(exercises));\n  } catch (e) {\n    yield put(fetchAllExercisesFailure(e));\n  }\n}\nfunction* watchFetchExercises() {\n  yield takeLatest(TYPES.FETCH_EXERCISES.REQUEST, fetchExercises);\n}\n\nfunction* fetchOneExercise({ id }: ReturnType<typeof fetchExerciseRequest>) {\n  try {\n    const exercise: Exercise = yield call(datastore.getExerciseById, id);\n    yield put(fetchExerciseSuccess(exercise));\n  } catch (e) {\n    yield put(fetchExerciseFailure(id, e));\n  }\n}\nfunction* watchFetchOneExercise() {\n  yield takeLatest(TYPES.FETCH_EXERCISE.REQUEST, fetchOneExercise);\n}\n\nfunction* addNewExercise({ exercise }: ReturnType<typeof addExerciseRequest>) {\n  try {\n    const newExercise: Exercise = yield call(datastore.putExercise, exercise);\n    yield put(addExerciseSuccess(newExercise));\n  } catch (e) {\n    yield put(addExerciseFailure(exercise, e));\n  }\n}\nfunction* watchAddNewExercise() {\n  yield takeEvery(TYPES.ADD_EXERCISE.REQUEST, addNewExercise);\n}\n\nfunction* deleteExercise({ id }: ReturnType<typeof deleteExerciseRequest>) {\n  try {\n    yield call(datastore.deleteExercise, id);\n    yield put(deleteExerciseSuccess(id));\n  } catch (e) {\n    yield put(deleteExerciseFailure(id, e));\n  }\n}\nfunction* watchDeleteExercise() {\n  yield takeEvery(TYPES.DELETE_EXERCISE.REQUEST, deleteExercise);\n}\n\nfunction* acknowledgeExercise({ id }: ReturnType<typeof acknowledgeExerciseRequest>) {\n  try {\n    const exercise: Exercise = yield call(datastore.getExerciseById, id);\n    const patchedExercise: Exercise = yield call(datastore.putExercise, {\n      ...exercise,\n      done: true,\n      steps: exercise.steps.map(step => ({ ...step, done: true }))\n    });\n    yield put(acknowledgeExerciseSuccess(patchedExercise));\n  } catch (e) {\n    yield put(acknowledgeExerciseFailure(id, e));\n  }\n}\nfunction* watchAcknowledgeExercise() {\n  yield takeEvery(TYPES.ACKNOWLEDGE_EXERCISE.REQUEST, acknowledgeExercise);\n}\n\nfunction* cancelExercise({ id }: ReturnType<typeof cancelExerciseRequest>) {\n  try {\n    const exercise: Exercise = yield call(datastore.getExerciseById, id);\n    const patchedExercise: Exercise = yield call(datastore.putExercise, {\n      ...exercise,\n      done: false,\n      steps: exercise.steps.map(step => ({ ...step, done: false }))\n    });\n    yield put(cancelExerciseSuccess(patchedExercise));\n  } catch (e) {\n    yield put(cancelExerciseFailure(id, e));\n  }\n}\nfunction* watchCancelExercise() {\n  yield takeEvery(TYPES.CANCEL_EXERCISE.REQUEST, cancelExercise);\n}\n\nfunction* updateExerciseName({ id, name }: ReturnType<typeof updateExerciseNameRequest>) {\n  // Debounce\n  yield call(delay, 500);\n  try {\n    const patchedExercise: Exercise = yield call(datastore.patchExerciseById, id, { name });\n    yield put(updateExerciseNameSuccess(patchedExercise));\n  } catch (e) {\n    yield put(updateExerciseNameFailure(id, e));\n  }\n}\nfunction* watchUpdateExerciseName() {\n  yield takeLatest(TYPES.UPDATE_EXERCISE_NAME.REQUEST, updateExerciseName);\n}\n\nfunction* addExerciseStep({ exerciseId, stepType, step }: ReturnType<typeof addExerciseStepRequest>) {\n  try {\n    const exercise: Exercise = yield call(datastore.getExerciseById, exerciseId);\n    const patchedExercise: Exercise = yield call(datastore.putExercise, {\n      ...exercise,\n      type: stepType,\n      steps: [...exercise.steps, step]\n    });\n    yield put(addExerciseStepSuccess(patchedExercise));\n  } catch (e) {\n    yield put(addExerciseStepFailure(exerciseId, e));\n  }\n}\nfunction* watchAddExerciseStep() {\n  yield takeLatest(TYPES.ADD_EXERCISE_STEP.REQUEST, addExerciseStep);\n}\n\nfunction* deleteExerciseStep({ exerciseId, stepId }: ReturnType<typeof deleteExerciseStepRequest>) {\n  try {\n    const exercise: Exercise = yield call(datastore.getExerciseById, exerciseId);\n    const patchedExercise: Exercise = yield call(datastore.putExercise, {\n      ...exercise,\n      steps: [...exercise.steps.filter(s => s.id !== stepId)]\n    });\n    yield put(deleteExerciseStepSuccess(patchedExercise));\n  } catch (e) {\n    yield put(deleteExerciseStepFailure(exerciseId, stepId, e));\n  }\n}\nfunction* watchDeleteExerciseStep() {\n  yield takeEvery(TYPES.DELETE_EXERCISE_STEP.REQUEST, deleteExerciseStep);\n}\n\nfunction* acknowledgeExerciseStep({ exerciseId, stepId }: ReturnType<typeof acknowledgeExerciseStepRequest>) {\n  try {\n    const exercise: Exercise = yield call(datastore.getExerciseById, exerciseId);\n    const steps = [...exercise.steps];\n    steps.find(s => s.id === stepId)!.done = true;\n    const patchedExercise: Exercise = yield call(datastore.putExercise, {\n      ...exercise,\n      steps\n    });\n    yield put(acknowledgeExerciseStepSuccess(patchedExercise));\n    if (patchedExercise.steps.every(s => s.done)) {\n      yield put(acknowledgeExerciseRequest(patchedExercise.id));\n    }\n  } catch (e) {\n    yield put(acknowledgeExerciseStepFailure(exerciseId, stepId, e));\n  }\n}\nfunction* watchAcknowledgeExerciseStep() {\n  yield takeEvery(TYPES.ACKNOWLEDGE_EXERCISE_STEP.REQUEST, acknowledgeExerciseStep);\n}\n\nfunction* cancelExerciseStep({ exerciseId, stepId }: ReturnType<typeof cancelExerciseStepRequest>) {\n  try {\n    const exercise: Exercise = yield call(datastore.getExerciseById, exerciseId);\n    const steps = [...exercise.steps];\n    steps.find(s => s.id === stepId)!.done = false;\n    const patchedExercise: Exercise = yield call(datastore.putExercise, {\n      ...exercise,\n      done: false,\n      steps\n    });\n    yield put(cancelExerciseStepSuccess(patchedExercise));\n  } catch (e) {\n    yield put(cancelExerciseStepFailure(exerciseId, stepId, e));\n  }\n}\nfunction* watchCancelExerciseStep() {\n  yield takeEvery(TYPES.CANCEL_EXERCISE_STEP.REQUEST, cancelExerciseStep);\n}\n\nfunction* moveExerciseStep({ exerciseId, oldIndex, newIndex }: ReturnType<typeof moveExerciseStepRequest>) {\n  try {\n    const exercise: Exercise = yield call(datastore.getExerciseById, exerciseId);\n    const steps = arrayMove([...exercise.steps], oldIndex, newIndex);\n    const patchedExercise: Exercise = yield call(datastore.putExercise, {\n      ...exercise,\n      done: false,\n      steps\n    });\n    yield put(moveExerciseStepSuccess(patchedExercise));\n  } catch (e) {\n    yield put(moveExerciseStepFailure(exerciseId, oldIndex, newIndex, e));\n  }\n}\nfunction* watchMoveExerciseStep() {\n  yield takeEvery(TYPES.MOVE_EXERCISE_STEP.REQUEST, moveExerciseStep);\n}\n\nfunction* updateExerciseStep({ exerciseId, stepId, contentPatch }: ReturnType<typeof updateExerciseStepRequest>) {\n  // Debounce\n  yield call(delay, 500);\n  try {\n    const exercise: Exercise = yield call(datastore.getExerciseById, exerciseId);\n    const steps = [...exercise.steps];\n    const stepIndex = steps.findIndex(s => s.id === stepId);\n    steps[stepIndex] = { ...steps[stepIndex], ...contentPatch };\n    const patchedExercise: Exercise = yield call(datastore.putExercise, {\n      ...exercise,\n      done: false,\n      steps\n    });\n    yield put(updateExerciseStepSuccess(patchedExercise));\n  } catch (e) {\n    yield put(updateExerciseStepFailure(exerciseId, stepId, contentPatch, e));\n  }\n}\nfunction* watchUpdateExerciseStep() {\n  yield takeLatest(TYPES.UPDATE_EXERCISE_STEP.REQUEST, updateExerciseStep);\n}\n\nexport default function* rootSaga() {\n  yield all([\n    watchFetchExercises(),\n    watchFetchOneExercise(),\n    watchAddNewExercise(),\n    watchDeleteExercise(),\n    watchAcknowledgeExercise(),\n    watchCancelExercise(),\n    watchUpdateExerciseName(),\n    watchAddExerciseStep(),\n    watchDeleteExerciseStep(),\n    watchAcknowledgeExerciseStep(),\n    watchCancelExerciseStep(),\n    watchMoveExerciseStep(),\n    watchUpdateExerciseStep()\n  ]);\n}\n","import { AppStore } from './../store/reducer';\r\nimport { createStore, applyMiddleware, Middleware } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension/developmentOnly';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { createLogger } from 'redux-logger';\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport rootReducer from '../store/reducer';\r\nimport saga from '../store/saga';\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\n\r\nconst middlewares: Middleware[] = [thunkMiddleware, sagaMiddleware];\r\nif (process.env.NODE_ENV === 'development') {\r\n  const loggerMiddleware = createLogger();\r\n  middlewares.push(loggerMiddleware);\r\n}\r\n\r\nexport default function configureStore(preloadedState?: AppStore) {\r\n  const store = createStore(rootReducer, preloadedState, composeWithDevTools(applyMiddleware(...middlewares)));\r\n  sagaMiddleware.run(saga);\r\n  return store;\r\n}\r\n","const SERVICEWORKER_REGISTRATION_ERROR: 'SERVICEWORKER_REGISTRATION_ERROR' = 'SERVICEWORKER_REGISTRATION_ERROR';\nexport const registrationError = ({ errorMessage, error }: { errorMessage?: string; error?: Error }) => ({\n  type: SERVICEWORKER_REGISTRATION_ERROR,\n  error,\n  errorMessage\n});\n\nconst SERVICEWORKER_REGISTRATION_SUCCESS: 'SERVICEWORKER_REGISTRATION_SUCCESS' = 'SERVICEWORKER_REGISTRATION_SUCCESS';\nexport const registrationSuccess = () => ({ type: SERVICEWORKER_REGISTRATION_SUCCESS });\n\nconst SERVICEWORKER_NEW_CONTENT_AVAILABLE: 'SERVICEWORKER_NEW_CONTENT_AVAILABLE' =\n  'SERVICEWORKER_NEW_CONTENT_AVAILABLE';\nexport const newContentAvailable = () => ({ type: SERVICEWORKER_NEW_CONTENT_AVAILABLE });\n\nconst SERVICEWORKER_CONTENT_CACHED: 'SERVICEWORKER_CONTENT_CACHED' = 'SERVICEWORKER_CONTENT_CACHED';\nexport const contentCached = () => ({ type: SERVICEWORKER_CONTENT_CACHED });\n\nconst SERVICEWORKER_OFFLINE: 'SERVICEWORKER_OFFLINE' = 'SERVICEWORKER_OFFLINE';\nexport const offlineMode = (offline = true) => ({ offline, type: SERVICEWORKER_OFFLINE });\n\nexport type ServiceWorkerAction =\n  | ReturnType<typeof registrationError>\n  | ReturnType<typeof registrationSuccess>\n  | ReturnType<typeof newContentAvailable>\n  | ReturnType<typeof offlineMode>\n  | ReturnType<typeof contentCached>;\n","import { Dispatch } from 'redux';\nimport {\n  registrationError,\n  registrationSuccess,\n  newContentAvailable,\n  ServiceWorkerAction,\n  contentCached,\n  offlineMode\n} from './redux/actions';\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(dispatch: Dispatch<ServiceWorkerAction>) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      dispatch(\n        registrationError({ errorMessage: \"Our service worker won't work if PUBLIC_URL is on a different origin\" })\n      );\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, dispatch);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => dispatch(registrationSuccess()));\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, dispatch);\n      }\n    });\n    window.addEventListener('online', updateOnlineStatus(dispatch));\n    window.addEventListener('offline', updateOnlineStatus(dispatch));\n  } else {\n    dispatch(registrationError({ errorMessage: 'Service worker is not supported by your navigator.' }));\n  }\n}\n\nconst updateOnlineStatus = (dispatch: Dispatch<ServiceWorkerAction>) => () => {\n  dispatch(offlineMode(navigator.onLine));\n};\n\nfunction registerValidSW(swUrl: string, dispatch: Dispatch<ServiceWorkerAction>) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker!.onstatechange = () => {\n          if (installingWorker!.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              dispatch(newContentAvailable());\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              dispatch(contentCached());\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      dispatch(\n        registrationError({\n          errorMessage: 'Error during service worker registration',\n          error\n        })\n      );\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, dispatch: Dispatch<ServiceWorkerAction>) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (response.status === 404 || response.headers.get('content-type')!.indexOf('javascript') === -1) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, dispatch);\n      }\n    })\n    .catch(() => {\n      dispatch(offlineMode());\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React, { SFC } from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport { Store } from 'redux';\r\nimport configureStore from './configureStore';\r\nimport { register as registerServiceWorker } from '../serviceWorker';\r\n\r\nconst appStore = configureStore();\r\nexport type RootContainerProps = {\r\n  store?: Store;\r\n};\r\nregisterServiceWorker(appStore.dispatch);\r\nconst RootContainer: SFC<RootContainerProps> = ({ children, store }) => (\r\n  <Provider store={store || appStore}>{children}</Provider>\r\n);\r\n\r\nexport default RootContainer;\r\n","import React from 'react';\nimport EmptyPage from './EmptyPage';\nimport { faKiwiBird } from '@fortawesome/free-solid-svg-icons';\nimport { RouteComponentProps } from 'react-router';\n\nexport default ({ history }: RouteComponentProps) => {\n  const goBackButton = (\n    <button className=\"btn btn-primary\" onClick={() => history.goBack()}>\n      Go back\n    </button>\n  );\n  return <EmptyPage icon={faKiwiBird} text={'Sorry, page was not found'} action={goBackButton} />;\n};\n","import React, { PureComponent } from 'react';\nimport classNames from 'classnames';\nimport './styles.css';\nimport { faRedo } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nexport type TimedProgressProps = {\n  totalTime: number;\n  tick_ms: number;\n  theme: 'rest' | 'exercise';\n  onFinished: () => void;\n};\nexport type TimedProgressState = {\n  remainingTime: number;\n  status: 'STOPPED' | 'RUNNING' | 'FINISHED';\n};\n\nexport class TimedProgress extends PureComponent<TimedProgressProps, TimedProgressState> {\n  constructor(props: TimedProgressProps) {\n    super(props);\n    this.state = {\n      remainingTime: this.props.totalTime,\n      status: 'STOPPED'\n    };\n  }\n\n  static defaultProps: Pick<TimedProgressProps, 'onFinished' | 'tick_ms' | 'theme'> = {\n    tick_ms: 1000,\n    theme: 'exercise',\n    onFinished: () => {\n      return;\n    }\n  };\n\n  intervalId?: number;\n  timeoutId?: number;\n\n  clearTimers = () => {\n    this.intervalId && clearInterval(this.intervalId);\n    this.intervalId = undefined;\n    this.timeoutId && clearTimeout(this.timeoutId);\n    this.timeoutId = undefined;\n  };\n  startTimers = () => {\n    this.tick();\n    this.clearTimers();\n    this.intervalId = window.setInterval(this.tick, this.props.tick_ms);\n    this.timeoutId = window.setTimeout(this.finish, this.state.remainingTime * 1000);\n  };\n\n  start = () => {\n    if (this.state.status !== 'RUNNING' && this.state.remainingTime > 0) {\n      this.setState({ status: 'RUNNING' }, () => {\n        this.startTimers();\n      });\n    }\n  };\n  stop = () => {\n    this.clearTimers();\n    this.setState({ status: 'STOPPED' });\n  };\n  finish = () => {\n    this.clearTimers();\n    this.setState({ status: 'FINISHED', remainingTime: 0 });\n    this.props.onFinished();\n  };\n  reset = () => {\n    this.setState({ remainingTime: this.props.totalTime }, () => {\n      if (this.state.status === 'RUNNING') this.startTimers();\n    });\n  };\n  tick = () => {\n    this.setState(state => {\n      const newTime = state.remainingTime - this.props.tick_ms! / 1000;\n      return newTime >= 0 ? { remainingTime: newTime } : { remainingTime: 0 };\n    });\n  };\n\n  onTapTimer = () => (this.state.status === 'RUNNING' ? this.stop() : this.start());\n\n  getStrokeDashoffset = (percentage = 0) => {\n    const r = 90;\n    const c = Math.PI * (r * 2);\n\n    return percentage * c;\n  };\n\n  componentDidMount() {\n    if (this.props.theme === 'rest') {\n      this.start();\n    }\n  }\n  componentWillUnmount() {\n    this.clearTimers();\n  }\n\n  render() {\n    const { status, remainingTime } = this.state;\n    return (\n      <>\n        <div>{status}</div>\n        <div className={classNames('timer-container', { rest: this.props.theme === 'rest' })} onClick={this.onTapTimer}>\n          <svg\n            className=\"timer-svg m-auto d-flex\"\n            width=\"200\"\n            height=\"200\"\n            version=\"1.1\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            transform=\"rotate(-90)\"\n          >\n            <filter xmlns=\"http://www.w3.org/2000/svg\" id=\"dropshadow\" height=\"130%\">\n              <feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"3\" />\n              <feOffset dx=\"2\" dy=\"2\" result=\"offsetblur\" />\n              <feComponentTransfer>\n                <feFuncA type=\"linear\" slope=\"0.2\" />\n              </feComponentTransfer>\n              <feMerge>\n                <feMergeNode />\n                <feMergeNode in=\"SourceGraphic\" />\n              </feMerge>\n            </filter>\n            <circle\n              className=\"progress-bar\"\n              filter=\"url(#dropshadow)\"\n              r=\"90\"\n              cx=\"100\"\n              cy=\"100\"\n              fill=\"transparent\"\n              strokeDasharray=\"565.48\"\n              strokeDashoffset=\"0\"\n            />\n            <circle\n              className=\"bar\"\n              r=\"90\"\n              cx=\"100\"\n              cy=\"100\"\n              fill=\"transparent\"\n              strokeDasharray=\"565.48\"\n              strokeDashoffset={this.getStrokeDashoffset(remainingTime / this.props.totalTime)}\n              style={\n                status === 'RUNNING' ? { transition: `stroke-dashoffset ${this.props.tick_ms! / 1000}s linear` } : {}\n              }\n            />\n          </svg>\n          <div className=\"timer-info d-flex\">\n            <div className=\"m-auto display-2\">{Math.ceil(remainingTime)}</div>\n          </div>\n        </div>\n        <div className=\"my-2\">\n          <button className=\"btn btn-block btn-link m-1\" onClick={this.reset}>\n            <FontAwesomeIcon flip=\"horizontal\" icon={faRedo} /> Reset\n          </button>\n        </div>\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport { faDumbbell, faTimes } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nexport type RepetitionProgressProps = {\n  kg: number;\n  repetition: number;\n  onFinished: () => void;\n};\n\nexport const RepetitionProgress = ({ onFinished, kg, repetition }: RepetitionProgressProps) => (\n  <>\n    <div className=\"d-flex justify-content-around align-items-center\">\n      <FontAwesomeIcon className=\"m-2 display-3\" icon={faDumbbell} aria-label=\"weight in kg\" />\n      <span className=\"m-2 text-primary display-2\">{kg}</span>\n    </div>\n    <div className=\"d-flex justify-content-around align-items-center\">\n      <FontAwesomeIcon className=\"m-2 display-2\" icon={faTimes} aria-label=\"repetition\" />\n      <span className=\"m-2 text-primary display-3\">{repetition}</span>\n    </div>\n  </>\n);\n","import React, { PureComponent } from 'react';\nimport './ExerciseRunner.css';\nimport classNames from 'classnames';\nimport { Exercise, Step, StepTimed, StepRepetition } from 'store/types';\nimport { Layout, CenteredPageLayout } from 'components/layout';\nimport { Link } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimes, faStepForward, faStepBackward } from '@fortawesome/free-solid-svg-icons';\nimport { faSmileBeam } from '@fortawesome/free-regular-svg-icons';\nimport { TimedProgress } from './TimedProgress';\nimport { RepetitionProgress } from './RepetitionProgress';\nimport { Redirect } from 'react-router';\n\nexport type ExerciseRunnerProps = {\n  exerciseId: Exercise['id'];\n  exerciseName: Exercise['name'];\n  type: Exercise['type'];\n  steps: Step[];\n  currentStepIndex: number;\n  onStepFinished: (stepId: string) => void;\n};\n\ntype ExerciseRunnerLayoutState = {\n  rest: boolean;\n  renderNext: boolean;\n};\n\nexport class ExerciseRunner extends PureComponent<ExerciseRunnerProps, ExerciseRunnerLayoutState> {\n  constructor(props: ExerciseRunnerProps) {\n    super(props);\n    this.state = { rest: false, renderNext: false };\n  }\n\n  static defaultProps: { currentStepIndex: number } = {\n    currentStepIndex: 0\n  };\n\n  goToNextStep = () => this.setState({ renderNext: true });\n\n  finishStepAndRest = () => {\n    this.setState({ rest: true });\n    this.props.onStepFinished(this.props.steps[this.props.currentStepIndex].id);\n  };\n\n  renderProgress = (currentStep: Step) => {\n    const { type } = this.props;\n    if (type === 'timed') {\n      const step = currentStep as StepTimed;\n      return <TimedProgress totalTime={step.duration} onFinished={this.finishStepAndRest} />;\n    } else if (type === 'repetition') {\n      const step = currentStep as StepRepetition;\n      return <RepetitionProgress repetition={step.repetition} kg={step.kg} onFinished={this.finishStepAndRest} />;\n    }\n    return 'Error displaying progress of the exercise, unknown type';\n  };\n\n  render() {\n    const { exerciseId, exerciseName, steps, currentStepIndex } = this.props;\n    return (\n      <Layout\n        header={\n          <>\n            <Link to={`/${exerciseId}`} className=\"btn btn-link text-dark\" aria-label=\"Back to exercises list\">\n              <FontAwesomeIcon icon={faTimes} />\n            </Link>\n            {`${exerciseName} - Step ${currentStepIndex + 1}`}\n          </>\n        }\n        navItems={[\n          <>\n            {currentStepIndex > 0 ? (\n              <Link\n                to={`/${exerciseId}/runner/${steps[currentStepIndex - 1].id}`}\n                key=\"nav-previous\"\n                className=\"btn btn-link nav-link btn-block\"\n              >\n                <FontAwesomeIcon icon={faStepBackward} /> Previous\n              </Link>\n            ) : (\n              <button key=\"nav-previous\" className=\"btn btn-link nav-link btn-block\" disabled>\n                <FontAwesomeIcon icon={faStepBackward} /> Previous\n              </button>\n            )}\n          </>,\n          <>\n            {currentStepIndex < steps.length - 1 ? (\n              <Link\n                to={`/${exerciseId}/runner/${steps[currentStepIndex + 1].id}`}\n                key=\"nav-next\"\n                className=\"btn btn-link nav-link btn-block\"\n              >\n                <FontAwesomeIcon icon={faStepForward} /> Next\n              </Link>\n            ) : (\n              <button key=\"nav-next\" className=\"btn btn-link nav-link btn-block\" disabled>\n                <FontAwesomeIcon icon={faStepForward} /> Next\n              </button>\n            )}\n          </>\n        ]}\n      >\n        <CenteredPageLayout className={classNames({ success: steps[currentStepIndex].done })}>\n          {this.state.rest ? (\n            <TimedProgress\n              key=\"rest-timed-progress\"\n              totalTime={steps[currentStepIndex].rest}\n              theme=\"rest\"\n              onFinished={this.goToNextStep}\n            />\n          ) : (\n            <>\n              {this.renderProgress(steps[currentStepIndex])}\n              <div className=\"d-flex\">\n                <button className=\"btn btn-outline-info btn-block m-1\" onClick={this.finishStepAndRest}>\n                  <FontAwesomeIcon icon={faSmileBeam} /> Rest\n                </button>\n              </div>\n            </>\n          )}\n        </CenteredPageLayout>\n        {this.state.renderNext && currentStepIndex < steps.length - 1 && (\n          <Redirect to={`/${exerciseId}/runner/${steps[currentStepIndex + 1].id}`} />\n        )}\n      </Layout>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { MapStateToProps, MapDispatchToProps, connect } from 'react-redux';\nimport { Exercise, Step } from '../../../store/types';\nimport { ExerciseRunner } from '../presentational/ExerciseRunner';\nimport { AppStore } from '../../../store/reducer';\nimport { getExerciseById, areExercisesLoading, hasErrorLoadingExercises } from '../../../store/selectors';\nimport { fetchExerciseRequest, acknowledgeExerciseStepRequest } from '../../../store/actions';\nimport EmptyPage from 'components/empty-page/EmptyPage';\nimport { faSun, faPoo, faQuidditch } from '@fortawesome/free-solid-svg-icons';\nimport { Link } from 'react-router-dom';\n\nconst LoadingPage = () => <EmptyPage text=\"Loading ...\" icon={faSun} action={<p>Your exercise is being loaded</p>} />;\nconst ErrorLoadingPage = () => (\n  <EmptyPage\n    text=\"Error loading your exercise\"\n    icon={faPoo}\n    action={<p>Sorry an error occured loading your exercice !</p>}\n  />\n);\nconst ExerciseNotFoundPage = () => (\n  <EmptyPage\n    text=\"Exercise not found\"\n    icon={faQuidditch}\n    action={\n      <Link className=\"btn btn-primary\" to=\"/\">\n        Back to exercises\n      </Link>\n    }\n  />\n);\nconst ExerciseStepNotFoundPage = () => (\n  <EmptyPage\n    text=\"Step not found\"\n    icon={faQuidditch}\n    action={\n      <Link className=\"btn btn-primary\" to=\"/\">\n        Back to exercises\n      </Link>\n    }\n  />\n);\n\nexport type ExerciseRunnerContainerOwnProps = {\n  exerciseId: Exercise['id'];\n  stepId: Step['id'];\n};\n\ntype ExerciseRunnerContainerStateProps = {\n  exercise: Exercise;\n  loading: boolean;\n  errorLoading: boolean;\n};\n\ntype ExerciseRunnerContainerDispatchProps = {\n  loadExercise: () => void;\n  onStepFinished: () => void;\n};\n\ntype ExerciseRunnerContainerProps = ExerciseRunnerContainerOwnProps &\n  ExerciseRunnerContainerStateProps &\n  ExerciseRunnerContainerDispatchProps;\n\nclass ExerciseRunnerContainerComponent extends PureComponent<ExerciseRunnerContainerProps> {\n  componentDidMount() {\n    if (!this.props.exercise) {\n      this.props.loadExercise();\n    }\n  }\n  render() {\n    const { stepId, exercise, onStepFinished, loading, errorLoading } = this.props;\n    const stepIndex = exercise ? exercise.steps.findIndex(({ id }) => id === stepId) : -1;\n    return loading ? (\n      <LoadingPage />\n    ) : errorLoading ? (\n      <ErrorLoadingPage />\n    ) : !exercise ? (\n      <ExerciseNotFoundPage />\n    ) : stepIndex < 0 ? (\n      <ExerciseStepNotFoundPage />\n    ) : (\n      <ExerciseRunner\n        key={`exercise-runner-${exercise.id}-${stepId}`}\n        exerciseId={exercise.id}\n        exerciseName={exercise.name}\n        type={exercise.type}\n        steps={exercise.steps}\n        onStepFinished={onStepFinished}\n        currentStepIndex={stepIndex}\n      />\n    );\n  }\n}\n\nconst mapStateToProps: MapStateToProps<ExerciseRunnerContainerStateProps, ExerciseRunnerContainerOwnProps, AppStore> = (\n  state,\n  ownProps\n) => ({\n  exercise: getExerciseById(state)(ownProps.exerciseId),\n  loading: areExercisesLoading(state),\n  errorLoading: hasErrorLoadingExercises(state)\n});\n\nconst mapDispatchToProps: MapDispatchToProps<ExerciseRunnerContainerDispatchProps, ExerciseRunnerContainerOwnProps> = (\n  dispatch,\n  ownProps\n) => ({\n  loadExercise: () => dispatch(fetchExerciseRequest(ownProps.exerciseId)),\n  onStepFinished: () => dispatch(acknowledgeExerciseStepRequest(ownProps.exerciseId, ownProps.stepId))\n});\n\nexport const ExerciseRunnerContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ExerciseRunnerContainerComponent);\n","import React, { Component } from 'react';\nimport 'App.css';\nimport Theme from './components/theme/Theme';\nimport ExerciseListPageContainer from './components/exercise-list/container/ExerciseListPageContainer';\nimport ExercisePageContainer from './components/exercise/container/ExercisePageContainer';\nimport RootContainer from './redux/RootContainer';\nimport { BrowserRouter as Router, Switch, Route, RouteComponentProps } from 'react-router-dom';\nimport Error404 from './components/empty-page/Error404';\nimport { ExerciseRunnerContainer } from 'components/exercise-runner';\n\nclass App extends Component {\n  render() {\n    return (\n      <RootContainer>\n        <Router basename={process.env.REACT_APP_BASE_DIR}>\n          <Theme>\n            <Switch>\n              <Route exact path=\"/\" component={ExerciseListPageContainer} />\n              <Route\n                exact\n                path=\"/:id\"\n                component={({ match }: RouteComponentProps<{ id: string }>) => (\n                  <ExercisePageContainer exerciseId={match.params.id} />\n                )}\n              />\n              <Route\n                exact\n                path=\"/:exerciseId/runner/:stepId\"\n                component={({ match }: RouteComponentProps<{ exerciseId: string; stepId: string }>) => (\n                  <ExerciseRunnerContainer exerciseId={match.params.exerciseId} stepId={match.params.stepId} />\n                )}\n              />\n              <Route component={Error404} />\n            </Switch>\n          </Theme>\n        </Router>\n      </RootContainer>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}