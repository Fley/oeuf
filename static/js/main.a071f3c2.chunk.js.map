{"version":3,"sources":["components/theme/Theme.tsx","store/selectors.ts","components/notification/presentational/Toast.tsx","components/notification/redux/selectors.ts","components/notification/redux/actions.ts","components/notification/container/NotificationContainer.tsx","components/notification/redux/sagas.ts","components/notification/redux/reducer.ts","components/layout/Layout.tsx","components/layout/CenteredPageLayout.tsx","components/empty-page/EmptyPage.tsx","components/swipeable-list-item/SwipeableListItem.tsx","components/exercise-list/presentational/ExerciseList.tsx","components/exercise-list/presentational/ExerciseListPage.tsx","store/actions.ts","components/exercise-list/container/ExerciseListPageContainer.tsx","components/exercise/presentational/ExerciseStep.tsx","components/exercise/presentational/Exercise.tsx","components/exercise/presentational/ExercisePage.tsx","components/exercise/container/ExercisePageContainer.tsx","redux/RootContainer.tsx","components/empty-page/Error404.tsx","components/exercise-runner/presentational/TimedProgress.tsx","components/exercise-runner/presentational/RepetitionProgress.tsx","components/exercise-runner/presentational/ExerciseRunner.tsx","components/exercise-runner/container/ExerciseRunnerContainer.tsx","serviceWorker/redux/actions.ts","serviceWorker/redux/sagas.tsx","serviceWorker/index.ts","store/reducer.ts","idb/datastore.ts","store/saga.ts","store/configureStore.ts","App.tsx","index.tsx"],"names":["Theme","_ref","children","React","Children","only","react_default","a","createElement","Fragment","getExerciseList","state","getExercisesState","ids","map","id","byId","getExerciseById","areExercisesLoading","loading","hasErrorLoadingExercises","error","exercises","getNotificationState","notification","Toast","message","_ref$type","type","_ref$actions","actions","_ref$hidden","hidden","onClick","onMouseEnter","onMouseLeave","className","classNames","concat","toast-hidden","toast-visible","action","index","key","getNotification","NOTIFICATION_PUSH","pushNotification","NOTIFICATION_PAUSE_AUTO_HIDE","NOTIFICATION_RESUME_AUTO_HIDE","showNotification","NOTIFICATION_HIDE","hideNotification","NotificationContainer","connect","dispatch","Toast_Toast","watchNotifications","handleNotification","NOTIFICATION_DELAY_MS","notificationChannel","regenerator_default","wrap","_context","prev","next","actionChannel","sent","take","call","stop","_marked","this","waiting","_ref2","stopped","_context2","put","race","hide","timeout","delay","_marked2","initialState","undefined","Layout","header","_ref$navItems","navItems","_ref$headerBackground","headerBackground","isLight","navbar-light","navbar-dark","navItem","CenteredPageLayout","style","height","position","top","left","EmptyPage","icon","text","CenteredPageLayout_CenteredPageLayout","index_es","size","SwipeableListItem","props","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","onChangeIndex","setState","onTransitionEnd","onSwipeLeft","onSwipeRight","_this$props","rightSwipeElement","leftSwipeElement","lib_default","Component","SwipedItemAcknowledged","faCheck","SwipedItemRemoved","faTimes","SwipedItemCanceled","faUndo","mapExerciceItem","name","done","SwipeableListItem_SwipeableListItem","SwipeableListItem_SwipedItemCanceled","SwipeableListItem_SwipedItemAcknowledged","SwipeableListItem_SwipedItemRemoved","Link","to","role","aria-label","e","preventDefault","faTrash","faAngleRight","ExerciseList","_ref2$exercises","onAddExercise","onAcknowledgeExercise","onDeleteExercise","onCancelExercise","_ref2$loading","_ref2$errorLoading","errorLoading","length","filter","empty_page_EmptyPage","faSun","faPoo","faListAlt","ExerciseListPage","_ref$loading","_ref$errorLoading","Layout_Layout","disabled","faPlusSquare","exercise_list_presentational_ExerciseList","TYPES","FETCH_EXERCISES","REQUEST","SUCCESS","FAILURE","FETCH_EXERCISE","ADD_EXERCISE","DELETE_EXERCISE","ACKNOWLEDGE_EXERCISE","CANCEL_EXERCISE","UPDATE_EXERCISE_NAME","ADD_EXERCISE_STEP","DELETE_EXERCISE_STEP","ACKNOWLEDGE_EXERCISE_STEP","CANCEL_EXERCISE_STEP","UPDATE_EXERCISE_STEP","MOVE_EXERCISE_STEP","START_EXERCISE","STOP_EXERCISE","PAUSE_EXERCISE","fetchAllExercisesRequest","fetchAllExercisesSuccess","fetchAllExercisesFailure","fetchExerciseSuccess","exercise","fetchExerciseFailure","addExerciseSuccess","addExerciseFailure","deleteExerciseSuccess","deleteExerciseFailure","acknowledgeExerciseRequest","acknowledgeExerciseSuccess","acknowledgeExerciseFailure","exerciseId","cancelExerciseSuccess","cancelExerciseFailure","updateExerciseNameSuccess","updateExerciseNameFailure","acknowledgeExerciseStepRequest","stepId","acknowledgeExerciseStepSuccess","acknowledgeExerciseStepFailure","cancelExerciseStepSuccess","cancelExerciseStepFailure","addExerciseStepSuccess","addExerciseStepFailure","createExerciseStep","stepContent","objectSpread","duration","rest","uuidv4","kg","repetition","Error","deleteExerciseStepSuccess","deleteExerciseStepFailure","updateExerciseStepSuccess","updateExerciseStepFailure","contentPatch","moveExerciseStepSuccess","moveExerciseStepFailure","oldIndex","newIndex","ExerciceListPageContainer","load","restProps","objectWithoutProperties","presentational_ExerciseListPage","steps","progress","addExerciseRequest","deleteExerciseRequest","cancelExerciseRequest","DragHandle","SortableHandle","width","faBars","InputNumber","defaultValue","placeholder","onChange","min","max","required","StepRepetition","onContentChange","ExerciseStep_InputNumber","parseFloat","currentTarget","value","HeaderStepRepetition","faDumbbell","faHandPaper","HeaderStepTimed","faClock","StepTimed","_ref3","SortableStep","SortableElement","_ref$step","step","content","ExerciseStep_StepTimed","ExerciseStep_StepRepetition","SortableStepList","SortableContainer","onUpdateStep","_onSwipeRight","apply","arguments","toString","_onSwipeLeft","Exercise","onAddFirstStep","onDeleteStep","onAcknowledgeStep","onCancelStep","onMoveStep","onExerciseNameChange","_this$props$exercise","onSubmit","htmlFor","autoComplete","ExerciseStep_HeaderStepTimed","ExerciseStep_HeaderStepRepetition","onSortEnd","lockAxis","useDragHandle","helperClass","_ref4","faStopwatch","LoadingPage","ErrorLoadingPage","ExerciseNotFoundPage","faFrown","firstStepIdToRun","stepNotDone","ExercisePage","onAddStep","onStartExercise","faPlay","toConsumableArray","ExercisePage_LoadingPage","ExercisePage_ErrorLoadingPage","presentational_Exercise","ExercisePage_ExerciseNotFoundPage","ExercicePageContainer","presentational_ExercisePage","ownProps","stepType","addExerciseStepRequest","deleteExerciseStepRequest","cancelExerciseStepRequest","updateExerciseStepRequest","moveExerciseStepRequest","updateExerciseNameRequest","RootContainer","store","es","Error404","history","goBackButton","goBack","faKiwiBird","TimedProgress","_PureComponent","intervalId","timeoutId","clearTimers","clearInterval","clearTimeout","startTimers","tick","window","setInterval","tick_ms","setTimeout","finish","remainingTime","start","status","onFinished","reset","totalTime","newTime","onTapTimer","getStrokeDashoffset","Math","PI","inherits","createClass","theme","_this$state","version","xmlns","transform","in","stdDeviation","dx","dy","result","slope","r","cx","cy","fill","strokeDasharray","strokeDashoffset","transition","ceil","flip","faRedo","PureComponent","defaultProps","RepetitionProgress","ExerciseRunner","goToNextStep","renderNext","finishStepAndRest","onStepFinished","currentStepIndex","renderProgress","currentStep","TimedProgress_TimedProgress","RepetitionProgress_RepetitionProgress","exerciseName","faStepBackward","faStepForward","success","faSmileBeam","Redirect","ExerciseStepNotFoundPage","ExerciseRunnerContainerComponent","loadExercise","stepIndex","findIndex","ExerciseRunnerContainer_LoadingPage","ExerciseRunnerContainer_ErrorLoadingPage","ExerciseRunnerContainer_ExerciseStepNotFoundPage","ExerciseRunner_ExerciseRunner","ExerciseRunnerContainer_ExerciseNotFoundPage","ExerciseRunnerContainer","SERVICEWORKER_REGISTRATION_ERROR","registrationError","errorMessage","registrationSuccess","SERVICEWORKER_NEW_CONTENT_AVAILABLE","newContentAvailable","SERVICEWORKER_CONTENT_CACHED","contentCached","SERVICEWORKER_OFFLINE","offlineMode","offline","onRegistrationError","onNewContentAvailable","onContentCached","onofflineReady","watchServiceWorker","sagas_marked","objectDestructuringEmpty","href","location","reload","sagas_marked2","_context3","_marked3","_context4","_marked4","_context5","t0","all","takeLatest","t1","t2","t3","t4","t5","_marked5","isLocalhost","Boolean","hostname","match","updateOnlineStatus","navigator","onLine","registerValidSW","swUrl","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","exsercisesInitialState","removeExerciseFromStateById","restIds","restById","reduce","defineProperty","reducer","combineReducers","startedAt","Date","stoppedAt","pausedAt","RW","dbPromise","idb","open","upgradeDB","oldVersion","createObjectStore","keyPath","putExercise","asyncToGenerator","mark","_callee","db","tx","transaction","objectStore","complete","abrupt","_x","patchExerciseById","_callee2","patchExercise","newExercise","get","_x2","_x3","deleteExercise","_callee3","delete","_x4","getAllExercises","_callee4","getAll","_ref5","_callee5","_x5","fetchExercises","watchFetchExercises","fetchOneExercise","watchFetchOneExercise","addNewExercise","watchAddNewExercise","watchDeleteExercise","acknowledgeExercise","watchAcknowledgeExercise","cancelExercise","watchCancelExercise","updateExerciseName","watchUpdateExerciseName","addExerciseStep","watchAddExerciseStep","deleteExerciseStep","watchDeleteExerciseStep","acknowledgeExerciseStep","watchAcknowledgeExerciseStep","cancelExerciseStep","watchCancelExerciseStep","moveExerciseStep","watchMoveExerciseStep","updateExerciseStep","watchUpdateExerciseStep","rootSaga","datastore","saga_marked","saga_marked2","saga_marked3","saga_marked4","saga_marked5","_context6","takeEvery","_marked6","_context7","_marked7","_context8","_marked8","patchedExercise","_context9","_marked9","_context10","_marked10","_context11","_marked11","_context12","_marked12","_ref6","_context13","_marked13","_context14","_marked14","_ref7","_context15","_marked15","_context16","_marked16","_ref8","_context17","s","_marked17","_context18","_marked18","_ref9","_context19","find","every","_marked19","_context20","_marked20","_ref10","_context21","_marked21","_context22","_marked22","_ref11","_context23","arrayMove","_marked23","_context24","_marked24","_ref12","_context25","_marked25","_context26","_marked26","_context27","_marked27","sagaMiddleware","createSagaMiddleware","middlewares","appStore","preloadedState","createStore","rootReducer","composeWithDevTools","applyMiddleware","run","saga","configureStore","URL","process","origin","addEventListener","fetch","response","headers","indexOf","ready","unregister","checkValidServiceWorker","registerServiceWorker","App","redux_RootContainer","BrowserRouter","basename","components_theme_Theme","Switch","Route","exact","path","component","ExerciseListPageContainer","ExercisePageContainer","params","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.a071f3c2.chunk.js","sourcesContent":["import React, { SFC } from 'react';\r\nimport './Theme.css';\r\n\r\nconst Theme: SFC = ({ children }) => {\r\n  React.Children.only(children);\r\n  return <>{children}</>;\r\n};\r\n\r\nexport default Theme;\r\n","import { AppStore } from './reducer';\n\nexport const getExerciseList = (state: AppStore) =>\n  getExercisesState(state).ids.map(id => getExercisesState(state).byId[id]);\n\nexport const getExerciseById = (state: AppStore) => (id: string) => getExercisesState(state).byId[id];\n\nexport const areExercisesLoading = (state: AppStore) => getExercisesState(state).loading;\n\nexport const hasErrorLoadingExercises = (state: AppStore) => !!getExercisesState(state).error;\n\nexport const getExercisesState = (state: AppStore) => state.exercises;\nexport const getNotificationState = (state: AppStore) => state.notification;\n","import React, { SFC } from 'react';\nimport classNames from 'classnames';\nimport './Toast.css';\n\nexport type ToastProps = {\n  message: string;\n  type?: 'default' | 'danger' | 'success' | 'warning' | 'info';\n  hidden?: boolean;\n  actions?: React.ReactNode[];\n  onClick: () => void;\n  onMouseEnter?: () => void;\n  onMouseLeave?: () => void;\n};\n\nexport const Toast: SFC<ToastProps> = ({\n  message,\n  type = 'default',\n  actions = [],\n  hidden = false,\n  onClick,\n  onMouseEnter,\n  onMouseLeave\n}) => (\n  <div className=\"toast-container\" onClick={onClick} onMouseEnter={onMouseEnter} onMouseLeave={onMouseLeave}>\n    <div\n      className={classNames('toast', 'shadow-up-sm', `toast-${type}`, {\n        'toast-hidden': hidden,\n        'toast-visible': !hidden\n      })}\n    >\n      <div>{message}</div>\n      {actions && (\n        <div className=\"toast-actions\">\n          {actions.map((action, index) => (\n            <span key={`action-${index}`}>{action}</span>\n          ))}\n        </div>\n      )}\n    </div>\n  </div>\n);\n","import { NotificationStore } from './reducer';\n\nexport const getNotification = (state: NotificationStore) => state.notification;\n","import { Notification } from './reducer';\n\nexport const NOTIFICATION_PUSH: 'NOTIFICATION_PUSH' = 'NOTIFICATION_PUSH';\nexport const pushNotification = (notification: Notification) => ({\n  type: NOTIFICATION_PUSH,\n  notification\n});\n\nexport const NOTIFICATION_PAUSE_AUTO_HIDE: 'NOTIFICATION_PAUSE_AUTO_HIDE' = 'NOTIFICATION_PAUSE_AUTO_HIDE';\nexport const pauseAutoHideNotification = () => ({ type: NOTIFICATION_PAUSE_AUTO_HIDE });\n\nexport const NOTIFICATION_RESUME_AUTO_HIDE: 'NOTIFICATION_RESUME_AUTO_HIDE' = 'NOTIFICATION_RESUME_AUTO_HIDE';\nexport const resumeAutoHideNotification = () => ({ type: NOTIFICATION_RESUME_AUTO_HIDE });\n\nconst NOTIFICATION_SHOW: 'NOTIFICATION_SHOW' = 'NOTIFICATION_SHOW';\nexport const showNotification = (notification: Notification) => ({\n  type: NOTIFICATION_SHOW,\n  notification\n});\n\nexport const NOTIFICATION_HIDE: 'NOTIFICATION_HIDE' = 'NOTIFICATION_HIDE';\nexport const hideNotification = () => ({\n  type: NOTIFICATION_HIDE\n});\n\nexport type Action =\n  | ReturnType<typeof pushNotification>\n  | ReturnType<typeof pauseAutoHideNotification>\n  | ReturnType<typeof resumeAutoHideNotification>\n  | ReturnType<typeof showNotification>\n  | ReturnType<typeof hideNotification>;\n","import React, { SFC } from 'react';\nimport { Toast } from '../presentational/Toast';\nimport { Notification } from '../redux/reducer';\nimport { MapStateToProps, connect, MapDispatchToProps } from 'react-redux';\nimport { AppStore } from 'store/reducer';\nimport { getNotification } from '../redux/selectors';\nimport { getNotificationState } from 'store/selectors';\nimport { hideNotification, pauseAutoHideNotification, resumeAutoHideNotification } from '../redux/actions';\n\ntype NotificationComponentStateProps = {\n  notification?: Notification;\n};\n\ntype NotificationComponentDispatchProps = {\n  onClick: () => void;\n  onMouseEnter: () => void;\n  onMouseLeave: () => void;\n};\n\ntype NotificationComponentProps = NotificationComponentStateProps & NotificationComponentDispatchProps;\n\nconst NotificationComponent: SFC<NotificationComponentProps> = ({\n  notification,\n  onClick,\n  onMouseEnter,\n  onMouseLeave\n}) => (\n  <>\n    {notification && (\n      <Toast\n        message={notification.message}\n        type={notification.type}\n        onClick={onClick}\n        onMouseEnter={onMouseEnter}\n        onMouseLeave={onMouseLeave}\n      />\n    )}\n  </>\n);\n\nconst mapStateToProps: MapStateToProps<NotificationComponentStateProps, {}, AppStore> = state => ({\n  notification: getNotification(getNotificationState(state))\n});\n\nconst mapDispatchToProps: MapDispatchToProps<NotificationComponentDispatchProps, {}> = dispatch => ({\n  onClick: () => dispatch(hideNotification()),\n  onMouseEnter: () => dispatch(pauseAutoHideNotification()),\n  onMouseLeave: () => dispatch(resumeAutoHideNotification())\n});\n\nexport const NotificationContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(NotificationComponent);\n","import { take, actionChannel, call, put, race } from 'redux-saga/effects';\nimport {\n  NOTIFICATION_PUSH,\n  showNotification,\n  hideNotification,\n  pushNotification,\n  NOTIFICATION_HIDE,\n  NOTIFICATION_PAUSE_AUTO_HIDE,\n  NOTIFICATION_RESUME_AUTO_HIDE\n} from './actions';\nimport { delay, Channel } from 'redux-saga';\nimport { Notification } from './reducer';\n\nconst NOTIFICATION_DELAY_MS = 5000;\n\nexport function* watchNotifications() {\n  const notificationChannel: Channel<ReturnType<typeof pushNotification>> = yield actionChannel(NOTIFICATION_PUSH);\n  while (true) {\n    const { notification } = yield take<ReturnType<typeof pushNotification>>(notificationChannel);\n    yield call(handleNotification, notification);\n  }\n}\n\nfunction* handleNotification(notification?: Notification) {\n  if (notification) {\n    yield put(showNotification(notification));\n  }\n  let waiting = true;\n  while (waiting) {\n    const { stopped, timeout } = yield race({\n      hide: take(NOTIFICATION_HIDE),\n      stopped: take(NOTIFICATION_PAUSE_AUTO_HIDE),\n      timeout: call(delay, NOTIFICATION_DELAY_MS)\n    });\n    if (timeout) {\n      yield put(hideNotification());\n      waiting = false;\n    } else if (stopped) {\n      yield take(NOTIFICATION_RESUME_AUTO_HIDE);\n    }\n  }\n}\n","import { Reducer } from 'redux';\nimport { Action } from './actions';\n\nexport type Notification = {\n  message: string;\n  type?: 'default' | 'danger' | 'success' | 'warning' | 'info';\n  actions?: React.ReactNode[];\n};\n\nexport type NotificationStore = {\n  notification?: Notification;\n};\n\nconst initialState: NotificationStore = {\n  notification: undefined\n};\n\nexport const notificationReducer: Reducer<NotificationStore, Action> = (state = initialState, action) => {\n  switch (action.type) {\n    case 'NOTIFICATION_SHOW':\n      return { ...state, notification: action.notification };\n    case 'NOTIFICATION_HIDE':\n      return { ...state, notification: undefined };\n    default:\n      return state;\n  }\n};\n","import React, { ReactNode, SFC } from 'react';\nimport classNames from 'classnames';\nimport { NotificationContainer } from 'components/notification';\n\nexport interface LayoutProps {\n  header?: ReactNode;\n  navItems?: ReactNode[];\n  headerBackground?: {\n    className: string;\n    isLight?: boolean;\n  };\n}\n\nexport const Layout: SFC<LayoutProps> = ({\n  header,\n  children,\n  navItems = [],\n  headerBackground = { className: 'bg-white', isLight: true }\n}) => (\n  <>\n    <header\n      className={classNames('navbar justify-content-start sticky-top shadow-sm', headerBackground.className, {\n        'navbar-light': headerBackground.isLight,\n        'navbar-dark': !headerBackground.isLight\n      })}\n    >\n      {header}\n    </header>\n    <main className=\"col-sm-10 mx-auto mb-5 py-3 px-0 px-xs-2\">{children}</main>\n    <footer className=\"fixed-bottom \">\n      <NotificationContainer />\n      <nav className=\"navbar navbar-light bg-white p-0 navbar-expand shadow-up-sm\">\n        <ul className=\"navbar-nav nav-justified w-100\">\n          {navItems.map((navItem, index) => (\n            <li key={`nav-item-${index}`} className=\"nav-item\">\n              {navItem}\n            </li>\n          ))}\n        </ul>\n      </nav>\n    </footer>\n  </>\n);\n","import React, { SFC } from 'react';\nimport classNames from 'classnames';\n\nexport type CenteredPageLayoutProps = {\n  className?: string;\n};\n\nexport const CenteredPageLayout: SFC<CenteredPageLayoutProps> = ({ children, className }) => (\n  <div\n    className={classNames('d-flex align-items-center w-100 text-center bg-light text-dark', className)}\n    style={{\n      height: '100vh',\n      position: 'fixed',\n      top: 0,\n      left: 0\n    }}\n  >\n    <section className=\"m-auto\">{children}</section>\n  </div>\n);\n","import React, { SFC, ReactNode } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { IconProp } from '@fortawesome/fontawesome-svg-core';\r\nimport { CenteredPageLayout } from 'components/layout';\r\n\r\nexport type EmptyPageProps = {\r\n  icon: IconProp;\r\n  text: string | ReactNode;\r\n  action: ReactNode;\r\n};\r\n\r\nconst EmptyPage: SFC<EmptyPageProps> = ({ icon, text, action }) => {\r\n  return (\r\n    <CenteredPageLayout>\r\n      <div>{icon && <FontAwesomeIcon icon={icon} size=\"7x\" />}</div>\r\n      <div>{text}</div>\r\n      {action && <nav className=\"m-5\">{action}</nav>}\r\n    </CenteredPageLayout>\r\n  );\r\n};\r\n\r\nexport default EmptyPage;\r\n","import React, { Component, ReactNode } from 'react';\r\nimport SwipeableViews from 'react-swipeable-views';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTimes, faCheck, faUndo } from '@fortawesome/free-solid-svg-icons';\r\n\r\nexport type SwipeableListItemProps = {\r\n  className: string;\r\n  rightSwipeElement: ReactNode;\r\n  leftSwipeElement: ReactNode;\r\n  onSwipeRight: () => void;\r\n  onSwipeLeft: () => void;\r\n};\r\n\r\nexport type SwipeableListItemState = {\r\n  index: number;\r\n};\r\n\r\nexport default class SwipeableListItem extends Component<SwipeableListItemProps, SwipeableListItemState> {\r\n  constructor(props: SwipeableListItemProps) {\r\n    super(props);\r\n    this.state = { index: 1 };\r\n  }\r\n\r\n  onChangeIndex = (index: number) => {\r\n    this.setState({ index });\r\n  };\r\n\r\n  onTransitionEnd = () => {\r\n    if (this.state.index === 0) {\r\n      this.props.onSwipeLeft();\r\n    } else if (this.state.index === 2) {\r\n      this.props.onSwipeRight();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { className, children, rightSwipeElement, leftSwipeElement } = this.props;\r\n\r\n    return (\r\n      <li className={className}>\r\n        <SwipeableViews\r\n          index={this.state.index}\r\n          onTransitionEnd={this.onTransitionEnd}\r\n          onChangeIndex={this.onChangeIndex}\r\n        >\r\n          {leftSwipeElement}\r\n          {children}\r\n          {rightSwipeElement}\r\n        </SwipeableViews>\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nexport const SwipedItemAcknowledged = () => (\r\n  <div className=\"d-flex bg-success text-white py-3 px-3 h-100 justify-content-end\">\r\n    <FontAwesomeIcon icon={faCheck} className=\"align-self-center\" />\r\n  </div>\r\n);\r\n\r\nexport const SwipedItemRemoved = () => (\r\n  <div className=\"bg-danger text-white py-3 px-3 h-100\">\r\n    <FontAwesomeIcon icon={faTimes} className=\"align-self-center\" />\r\n  </div>\r\n);\r\n\r\nexport const SwipedItemCanceled = () => (\r\n  <div className=\"d-flex bg-warning text-white py-3 px-3 h-100 justify-content-end\">\r\n    <FontAwesomeIcon icon={faUndo} className=\"align-self-center\" />\r\n  </div>\r\n);\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faListAlt } from '@fortawesome/free-regular-svg-icons';\r\nimport { faAngleRight, faSun, faPoo, faTrash, faCheck, faUndo } from '@fortawesome/free-solid-svg-icons';\r\nimport EmptyPage from '../../../components/empty-page/EmptyPage';\r\nimport SwipeableListItem, {\r\n  SwipedItemAcknowledged,\r\n  SwipedItemRemoved,\r\n  SwipedItemCanceled\r\n} from '../../../components/swipeable-list-item/SwipeableListItem';\r\nimport './ExerciseList.css';\r\nimport { Exercise } from '../../../store/types';\r\n\r\nconst mapExerciceItem = (onSwipeLeft: (id: string) => void, onSwipeRight: (id: string) => void) => ({\r\n  id,\r\n  name,\r\n  done\r\n}: Pick<Exercise, 'id' | 'done' | 'name'>) => {\r\n  return (\r\n    <SwipeableListItem\r\n      key={`exercise-${id}`}\r\n      className={'list-group-item p-0 ' + (done ? 'list-group-item-success' : '')}\r\n      onSwipeLeft={() => onSwipeLeft(id)}\r\n      onSwipeRight={() => onSwipeRight(id)}\r\n      leftSwipeElement={done ? <SwipedItemCanceled /> : <SwipedItemAcknowledged />}\r\n      rightSwipeElement={<SwipedItemRemoved />}\r\n    >\r\n      <Link\r\n        to={`/${id}`}\r\n        className={`d-flex py-3 px-3 list-group-item-action ${done ? 'list-group-item-success' : ''} h-100`}\r\n      >\r\n        <span className=\"flex-grow-1 p-1\">{name}</span>\r\n        <div\r\n          className=\"d-none d-sm-block btn-toolbar list-toolbar-hover\"\r\n          role=\"toolbar\"\r\n          aria-label=\"Toolbar with actions on the exercise\"\r\n        >\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-outline-dark rounded-circle border-0 mx-1\"\r\n            aria-label=\"Delete\"\r\n            onClick={e => {\r\n              onSwipeRight(id);\r\n              e.preventDefault();\r\n            }}\r\n          >\r\n            <FontAwesomeIcon icon={faTrash} />\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-outline-dark rounded-circle border-0 mx-1\"\r\n            aria-label=\"Complete\"\r\n            onClick={e => {\r\n              onSwipeLeft(id);\r\n              e.preventDefault();\r\n            }}\r\n          >\r\n            {done ? <FontAwesomeIcon icon={faUndo} /> : <FontAwesomeIcon icon={faCheck} />}\r\n          </button>\r\n        </div>\r\n        <span className=\"p-1 ml-1\">\r\n          <FontAwesomeIcon icon={faAngleRight} />\r\n        </span>\r\n      </Link>\r\n    </SwipeableListItem>\r\n  );\r\n};\r\n\r\nexport type ExerciseListProps = {\r\n  exercises: Exercise[];\r\n  onAddExercise: () => void;\r\n  onAcknowledgeExercise: (id: string) => void;\r\n  onDeleteExercise: (id: string) => void;\r\n  onCancelExercise: (id: string) => void;\r\n  loading?: boolean;\r\n  errorLoading?: boolean;\r\n};\r\n\r\nconst ExerciseList = ({\r\n  exercises = [],\r\n  onAddExercise,\r\n  onAcknowledgeExercise,\r\n  onDeleteExercise,\r\n  onCancelExercise,\r\n  loading = false,\r\n  errorLoading = false\r\n}: ExerciseListProps) => {\r\n  return exercises.length > 0 ? (\r\n    <ul className=\"list-group shadow-y-sm\">\r\n      {exercises && exercises.filter(e => !e.done).map(mapExerciceItem(onAcknowledgeExercise, onDeleteExercise))}\r\n      {exercises && exercises.filter(e => e.done).map(mapExerciceItem(onCancelExercise, onDeleteExercise))}\r\n    </ul>\r\n  ) : loading ? (\r\n    <EmptyPage text=\"Loading ...\" icon={faSun} action={<p>Your exercises are being loaded</p>} />\r\n  ) : errorLoading ? (\r\n    <EmptyPage\r\n      text=\"Error loading your exercises\"\r\n      icon={faPoo}\r\n      action={<p>Sorry an error occured loading your exercices !</p>}\r\n    />\r\n  ) : (\r\n    <EmptyPage\r\n      text=\"You have no exercises yet\"\r\n      icon={faListAlt}\r\n      action={\r\n        <>\r\n          <button className=\"btn btn-primary m-1\" onClick={() => onAddExercise()}>\r\n            Create your first exercise\r\n          </button>\r\n          <button className=\"btn btn-outline-primary m-1\">Import exercises</button>\r\n        </>\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default ExerciseList;\r\n","import React from 'react';\r\nimport ExerciseList, { ExerciseListProps } from './ExerciseList';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPlusSquare } from '@fortawesome/free-solid-svg-icons';\r\nimport { Layout } from '../../../components/layout';\r\n\r\nconst ExerciseListPage = ({\r\n  loading = false,\r\n  errorLoading = false,\r\n  exercises,\r\n  onAddExercise,\r\n  onDeleteExercise,\r\n  onAcknowledgeExercise,\r\n  onCancelExercise\r\n}: ExerciseListProps) => (\r\n  <Layout\r\n    header={<span className=\"navbar-brand mb-0 h1\">Exercises</span>}\r\n    headerBackground={{ className: 'bg-primary', isLight: false }}\r\n    navItems={[\r\n      <button\r\n        key=\"nav-new-exercise\"\r\n        className=\"btn btn-link nav-link\"\r\n        disabled={loading || errorLoading}\r\n        onClick={() => onAddExercise()}\r\n      >\r\n        <FontAwesomeIcon icon={faPlusSquare} /> New exercise\r\n      </button>\r\n    ]}\r\n  >\r\n    <ExerciseList\r\n      exercises={exercises}\r\n      onAddExercise={onAddExercise}\r\n      onDeleteExercise={onDeleteExercise}\r\n      onAcknowledgeExercise={onAcknowledgeExercise}\r\n      onCancelExercise={onCancelExercise}\r\n      loading={loading}\r\n      errorLoading={errorLoading}\r\n    />\r\n  </Layout>\r\n);\r\n\r\nexport default ExerciseListPage;\r\n","import uuidv4 from 'uuid/v4';\nimport { Exercise, StepType, Step, UnexpectedError } from './types';\n\nexport type Action = {\n  type: string;\n  [key: string]: any;\n};\n\nexport const TYPES = {\n  FETCH_EXERCISES: {\n    REQUEST: 'exercises/FETCH_EXERCISES/REQUEST',\n    SUCCESS: 'exercises/FETCH_EXERCISES/SUCCESS',\n    FAILURE: 'exercises/FETCH_EXERCISES/FAILURE'\n  },\n  FETCH_EXERCISE: {\n    REQUEST: 'exercises/FETCH_EXERCISE/REQUEST',\n    SUCCESS: 'exercises/FETCH_EXERCISE/SUCCESS',\n    FAILURE: 'exercises/FETCH_EXERCISE/FAILURE'\n  },\n  ADD_EXERCISE: {\n    REQUEST: 'exercises/ADD_EXERCISE/REQUEST',\n    SUCCESS: 'exercises/ADD_EXERCISE/SUCCESS',\n    FAILURE: 'exercises/ADD_EXERCISE/FAILURE'\n  },\n  DELETE_EXERCISE: {\n    REQUEST: 'exercises/DELETE_EXERCISE/REQUEST',\n    SUCCESS: 'exercises/DELETE_EXERCISE/SUCCESS',\n    FAILURE: 'exercises/DELETE_EXERCISE/FAILURE'\n  },\n  ACKNOWLEDGE_EXERCISE: {\n    REQUEST: 'exercises/ACKNOWLEDGE_EXERCISE/REQUEST',\n    SUCCESS: 'exercises/ACKNOWLEDGE_EXERCISE/SUCCESS',\n    FAILURE: 'exercises/ACKNOWLEDGE_EXERCISE/FAILURE'\n  },\n  CANCEL_EXERCISE: {\n    REQUEST: 'exercises/CANCEL_EXERCISE/REQUEST',\n    SUCCESS: 'exercises/CANCEL_EXERCISE/SUCCESS',\n    FAILURE: 'exercises/CANCEL_EXERCISE/FAILURE'\n  },\n  UPDATE_EXERCISE_NAME: {\n    REQUEST: 'exercises/UPDATE_EXERCISE_NAME/REQUEST',\n    SUCCESS: 'exercises/UPDATE_EXERCISE_NAME/SUCCESS',\n    FAILURE: 'exercises/UPDATE_EXERCISE_NAME/FAILURE'\n  },\n  ADD_EXERCISE_STEP: {\n    REQUEST: 'exercises/ADD_EXERCISE_STEP/REQUEST',\n    SUCCESS: 'exercises/ADD_EXERCISE_STEP/SUCCESS',\n    FAILURE: 'exercises/ADD_EXERCISE_STEP/FAILURE'\n  },\n  DELETE_EXERCISE_STEP: {\n    REQUEST: 'exercises/DELETE_EXERCISE_STEP/REQUEST',\n    SUCCESS: 'exercises/DELETE_EXERCISE_STEP/SUCCESS',\n    FAILURE: 'exercises/DELETE_EXERCISE_STEP/FAILURE'\n  },\n  ACKNOWLEDGE_EXERCISE_STEP: {\n    REQUEST: 'exercises/ACKNOWLEDGE_EXERCISE_STEP/REQUEST',\n    SUCCESS: 'exercises/ACKNOWLEDGE_EXERCISE_STEP/SUCCESS',\n    FAILURE: 'exercises/ACKNOWLEDGE_EXERCISE_STEP/FAILURE'\n  },\n  CANCEL_EXERCISE_STEP: {\n    REQUEST: 'exercises/CANCEL_EXERCISE_STEP/REQUEST',\n    SUCCESS: 'exercises/CANCEL_EXERCISE_STEP/SUCCESS',\n    FAILURE: 'exercises/CANCEL_EXERCISE_STEP/FAILURE'\n  },\n  UPDATE_EXERCISE_STEP: {\n    REQUEST: 'exercises/UPDATE_EXERCISE_STEP/REQUEST',\n    SUCCESS: 'exercises/UPDATE_EXERCISE_STEP/SUCCESS',\n    FAILURE: 'exercises/UPDATE_EXERCISE_STEP/FAILURE'\n  },\n  MOVE_EXERCISE_STEP: {\n    REQUEST: 'exercises/MOVE_EXERCISE_STEP/REQUEST',\n    SUCCESS: 'exercises/MOVE_EXERCISE_STEP/SUCCESS',\n    FAILURE: 'exercises/MOVE_EXERCISE_STEP/FAILURE'\n  },\n  START_EXERCISE: 'exercises/START',\n  STOP_EXERCISE: 'exercises/STOP',\n  PAUSE_EXERCISE: 'exercises/PAUSE'\n};\n\n// FETCH_EXERCISES\nexport const fetchAllExercisesRequest = () => ({\n  type: TYPES.FETCH_EXERCISES.REQUEST\n});\nexport const fetchAllExercisesSuccess = (exercises: Exercise[]) => ({\n  type: TYPES.FETCH_EXERCISES.SUCCESS,\n  exercises\n});\nexport const fetchAllExercisesFailure = (error: UnexpectedError) => ({\n  type: TYPES.FETCH_EXERCISES.FAILURE,\n  error\n});\n\n// FETCH_EXERCISE\nexport const fetchExerciseRequest = (id: string) => ({\n  type: TYPES.FETCH_EXERCISE.REQUEST,\n  id\n});\nexport const fetchExerciseSuccess = (exercise: Exercise) => ({\n  type: TYPES.FETCH_EXERCISE.SUCCESS,\n  exercise\n});\nexport const fetchExerciseFailure = (id: string, error: UnexpectedError) => ({\n  type: TYPES.FETCH_EXERCISE.FAILURE,\n  id,\n  error\n});\n\n// ADD_EXERCISE\nexport const addExerciseRequest = () => {\n  const exercise: Exercise = {\n    id: uuidv4(),\n    name: 'New exercise',\n    type: null,\n    steps: [],\n    done: false,\n    progress: null\n  };\n  return {\n    type: TYPES.ADD_EXERCISE.REQUEST,\n    exercise\n  };\n};\nexport const addExerciseSuccess = (exercise: Exercise) => ({\n  type: TYPES.ADD_EXERCISE.SUCCESS,\n  exercise\n});\nexport const addExerciseFailure = (exercise: Exercise, error: UnexpectedError) => ({\n  type: TYPES.ADD_EXERCISE.FAILURE,\n  exercise,\n  error\n});\n\n// DELETE_EXERCISE\nexport const deleteExerciseRequest = (id: string) => ({\n  type: TYPES.DELETE_EXERCISE.REQUEST,\n  id\n});\nexport const deleteExerciseSuccess = (id: string) => ({\n  type: TYPES.DELETE_EXERCISE.SUCCESS,\n  id\n});\nexport const deleteExerciseFailure = (id: string, error: UnexpectedError) => ({\n  type: TYPES.DELETE_EXERCISE.FAILURE,\n  id,\n  error\n});\n\n// ACKNOWLEDGE_EXERCISE\nexport const acknowledgeExerciseRequest = (id: string) => ({\n  type: TYPES.ACKNOWLEDGE_EXERCISE.REQUEST,\n  id\n});\nexport const acknowledgeExerciseSuccess = (exercise: Exercise) => ({\n  type: TYPES.ACKNOWLEDGE_EXERCISE.SUCCESS,\n  exercise\n});\nexport const acknowledgeExerciseFailure = (exerciseId: string, error: UnexpectedError) => ({\n  type: TYPES.ACKNOWLEDGE_EXERCISE.FAILURE,\n  exerciseId,\n  error\n});\n\n// CANCEL_EXERCISE\nexport const cancelExerciseRequest = (id: string) => ({\n  type: TYPES.CANCEL_EXERCISE.REQUEST,\n  id\n});\nexport const cancelExerciseSuccess = (exercise: Exercise) => ({\n  type: TYPES.CANCEL_EXERCISE.SUCCESS,\n  exercise\n});\nexport const cancelExerciseFailure = (exerciseId: string, error: UnexpectedError) => ({\n  type: TYPES.CANCEL_EXERCISE.FAILURE,\n  exerciseId,\n  error\n});\n\n// UPDATE EXERCISE NAME\nexport const updateExerciseNameRequest = (id: string, name: string) => ({\n  type: TYPES.UPDATE_EXERCISE_NAME.REQUEST,\n  id,\n  name\n});\nexport const updateExerciseNameSuccess = (exercise: Exercise) => ({\n  type: TYPES.UPDATE_EXERCISE_NAME.SUCCESS,\n  exercise\n});\nexport const updateExerciseNameFailure = (id: string, error: UnexpectedError) => ({\n  type: TYPES.UPDATE_EXERCISE_NAME.FAILURE,\n  id,\n  error\n});\n\n// ACKNOWLEDGE_EXERCISE_STEP\nexport const acknowledgeExerciseStepRequest = (exerciseId: string, stepId: string) => ({\n  type: TYPES.ACKNOWLEDGE_EXERCISE_STEP.REQUEST,\n  exerciseId,\n  stepId\n});\nexport const acknowledgeExerciseStepSuccess = (exercise: Exercise) => ({\n  type: TYPES.ACKNOWLEDGE_EXERCISE_STEP.SUCCESS,\n  exercise\n});\nexport const acknowledgeExerciseStepFailure = (exerciseId: string, stepId: string, error: UnexpectedError) => ({\n  type: TYPES.ACKNOWLEDGE_EXERCISE_STEP.FAILURE,\n  exerciseId,\n  stepId,\n  error\n});\n\n// CANCEL_EXERCISE_STEP\nexport const cancelExerciseStepRequest = (exerciseId: string, stepId: string) => ({\n  type: TYPES.CANCEL_EXERCISE_STEP.REQUEST,\n  exerciseId,\n  stepId\n});\nexport const cancelExerciseStepSuccess = (exercise: Exercise) => ({\n  type: TYPES.CANCEL_EXERCISE_STEP.SUCCESS,\n  exercise\n});\nexport const cancelExerciseStepFailure = (exerciseId: string, stepId: string, error: UnexpectedError) => ({\n  type: TYPES.CANCEL_EXERCISE_STEP.FAILURE,\n  exerciseId,\n  stepId,\n  error\n});\n\n// ADD_EXERCISE_STEP\nexport const addExerciseStepRequest = (exerciseId: string, stepType: StepType, stepContent?: Step) => {\n  const step = createExerciseStep(stepType, stepContent);\n  return {\n    type: TYPES.ADD_EXERCISE_STEP.REQUEST,\n    exerciseId,\n    stepType,\n    step\n  };\n};\nexport const addExerciseStepSuccess = (exercise: Exercise) => ({\n  type: TYPES.ADD_EXERCISE_STEP.SUCCESS,\n  exercise\n});\nexport const addExerciseStepFailure = (exerciseId: string, error: UnexpectedError) => ({\n  type: TYPES.ADD_EXERCISE_STEP.FAILURE,\n  exerciseId,\n  error\n});\n\nconst createExerciseStep = (type: StepType, stepContent?: Step) => {\n  switch (type) {\n    case 'timed':\n      return {\n        duration: 0,\n        rest: 0,\n        ...stepContent,\n        id: uuidv4(),\n        done: false\n      };\n    case 'repetition':\n      return {\n        kg: 0,\n        repetition: 1,\n        rest: 0,\n        ...stepContent,\n        id: uuidv4(),\n        done: false\n      };\n    default:\n      throw new Error(`Unknown step type \"${type}\"`);\n  }\n};\n\n// DELETE_EXERCISE_STEP\nexport const deleteExerciseStepRequest = (exerciseId: string, stepId: string) => ({\n  type: TYPES.DELETE_EXERCISE_STEP.REQUEST,\n  exerciseId,\n  stepId\n});\nexport const deleteExerciseStepSuccess = (exercise: Exercise) => ({\n  type: TYPES.DELETE_EXERCISE_STEP.SUCCESS,\n  exercise\n});\nexport const deleteExerciseStepFailure = (exerciseId: string, stepId: string, error: UnexpectedError) => ({\n  type: TYPES.DELETE_EXERCISE_STEP.FAILURE,\n  exerciseId,\n  stepId,\n  error\n});\n\n// UPDATE_EXERCISE_STEP\nexport const updateExerciseStepRequest = (exerciseId: string, stepId: string, contentPatch: Partial<Step>) => ({\n  type: TYPES.UPDATE_EXERCISE_STEP.REQUEST,\n  exerciseId,\n  stepId,\n  contentPatch\n});\nexport const updateExerciseStepSuccess = (exercise: Exercise) => ({\n  type: TYPES.UPDATE_EXERCISE_STEP.SUCCESS,\n  exercise\n});\nexport const updateExerciseStepFailure = (\n  exerciseId: string,\n  stepId: string,\n  contentPatch: Partial<Step>,\n  error: UnexpectedError\n) => ({\n  type: TYPES.DELETE_EXERCISE_STEP.FAILURE,\n  exerciseId,\n  stepId,\n  contentPatch,\n  error\n});\n\n// MOVE_EXERCISE_STEP\nexport const moveExerciseStepRequest = (exerciseId: string, oldIndex: number, newIndex: number) => ({\n  type: TYPES.MOVE_EXERCISE_STEP.REQUEST,\n  exerciseId,\n  oldIndex,\n  newIndex\n});\nexport const moveExerciseStepSuccess = (exercise: Exercise) => ({\n  type: TYPES.MOVE_EXERCISE_STEP.SUCCESS,\n  exercise\n});\nexport const moveExerciseStepFailure = (\n  exerciseId: string,\n  oldIndex: number,\n  newIndex: number,\n  error: UnexpectedError\n) => ({\n  type: TYPES.MOVE_EXERCISE_STEP.FAILURE,\n  exerciseId,\n  oldIndex,\n  newIndex,\n  error\n});\n\n// START_EXERCISE\nexport const startExercise = (exercise: Exercise) => ({\n  type: TYPES.START_EXERCISE,\n  exercise\n});\n\n// STOP_EXERCISE\nexport const stopExercise = (exercise: Exercise) => ({\n  type: TYPES.STOP_EXERCISE,\n  exercise\n});\n\n// PAUSE_EXERCISE\nexport const pauseExercise = (exercise: Exercise) => ({\n  type: TYPES.PAUSE_EXERCISE,\n  exercise\n});\n","import React, { Component } from 'react';\r\nimport { connect, MapStateToProps, MapDispatchToProps } from 'react-redux';\r\nimport { getExerciseList, areExercisesLoading, hasErrorLoadingExercises } from '../../../store/selectors';\r\nimport ExerciseListPage from '../presentational/ExerciseListPage';\r\nimport {\r\n  fetchAllExercisesRequest,\r\n  deleteExerciseRequest,\r\n  acknowledgeExerciseRequest,\r\n  cancelExerciseRequest,\r\n  addExerciseRequest\r\n} from '../../../store/actions';\r\nimport { AppStore } from '../../../store/reducer';\r\nimport { Exercise } from '../../../store/types';\r\n\r\ntype ExerciceListPageContainerStateProps = {\r\n  exercises: Exercise[];\r\n  loading: boolean;\r\n  errorLoading: boolean;\r\n};\r\n\r\ntype ExerciceListPageContainerDispatchProps = {\r\n  load: () => void;\r\n  onAddExercise: () => void;\r\n  onDeleteExercise: (id: string) => void;\r\n  onAcknowledgeExercise: (id: string) => void;\r\n  onCancelExercise: (id: string) => void;\r\n};\r\n\r\nexport type ExerciceListPageContainerOwnProps = {};\r\n\r\ntype ExerciceListPageContainerProps = ExerciceListPageContainerStateProps &\r\n  ExerciceListPageContainerDispatchProps &\r\n  ExerciceListPageContainerOwnProps;\r\n\r\nconst mapStateToProps: MapStateToProps<\r\n  ExerciceListPageContainerStateProps,\r\n  ExerciceListPageContainerOwnProps,\r\n  AppStore\r\n> = state => ({\r\n  exercises: getExerciseList(state),\r\n  loading: areExercisesLoading(state),\r\n  errorLoading: hasErrorLoadingExercises(state)\r\n});\r\n\r\nconst mapDispatchToProps: MapDispatchToProps<\r\n  ExerciceListPageContainerDispatchProps,\r\n  ExerciceListPageContainerOwnProps\r\n> = dispatch => ({\r\n  load: () => dispatch(fetchAllExercisesRequest()),\r\n  onAddExercise: () => dispatch(addExerciseRequest()),\r\n  onDeleteExercise: (id: string) => dispatch(deleteExerciseRequest(id)),\r\n  onAcknowledgeExercise: (id: string) => dispatch(acknowledgeExerciseRequest(id)),\r\n  onCancelExercise: (id: string) => dispatch(cancelExerciseRequest(id))\r\n});\r\n\r\nclass ExerciceListPageContainer extends Component<ExerciceListPageContainerProps> {\r\n  componentDidMount() {\r\n    if (this.props.exercises.length === 0) {\r\n      this.props.load();\r\n    }\r\n  }\r\n  render() {\r\n    const { load, ...restProps } = this.props;\r\n    return <ExerciseListPage {...restProps} />;\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ExerciceListPageContainer);\r\n","import React from 'react';\r\nimport { SortableHandle } from 'react-sortable-hoc';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faBars, faDumbbell, faTimes, faHandPaper, faClock } from '@fortawesome/free-solid-svg-icons';\r\nimport { StepRepetition as StepRepetitionType, StepTimed as StepTimedType } from '../../../store/types';\r\n\r\nconst DragHandle = SortableHandle(() => (\r\n  <div className=\"list-group-item-drag-handle\" style={{ width: '1em' }}>\r\n    <FontAwesomeIcon icon={faBars} />\r\n  </div>\r\n));\r\n\r\nconst InputNumber = ({\r\n  defaultValue,\r\n  placeholder,\r\n  onChange\r\n}: {\r\n  defaultValue: number;\r\n  placeholder: string;\r\n  onChange: (e: React.SyntheticEvent<HTMLInputElement>) => void;\r\n}) => (\r\n  <input\r\n    type=\"number\"\r\n    className=\"form-control form-control-sm mx-auto\"\r\n    placeholder={placeholder}\r\n    defaultValue={`${defaultValue}`}\r\n    onChange={onChange}\r\n    min=\"0\"\r\n    max=\"999\"\r\n    style={{ width: '4em' }}\r\n    required\r\n  />\r\n);\r\n\r\nexport type StepRepetitionProps = {\r\n  kg: StepRepetitionType['kg'];\r\n  repetition: StepRepetitionType['repetition'];\r\n  rest: StepRepetitionType['rest'];\r\n  onContentChange: (content: Partial<StepRepetitionType>) => void;\r\n};\r\n\r\nexport const StepRepetition = ({ kg, repetition, rest, onContentChange }: StepRepetitionProps) => (\r\n  <div className=\"d-flex justify-content-between p-3\">\r\n    <div>\r\n      <InputNumber\r\n        defaultValue={kg}\r\n        placeholder=\"Kg\"\r\n        onChange={(e: React.SyntheticEvent<HTMLInputElement>) =>\r\n          onContentChange({ kg: parseFloat(e.currentTarget.value) })\r\n        }\r\n      />\r\n    </div>\r\n    <div>\r\n      <InputNumber\r\n        defaultValue={repetition}\r\n        placeholder=\"Repetition\"\r\n        onChange={e => onContentChange({ repetition: parseFloat(e.currentTarget.value) })}\r\n      />\r\n    </div>\r\n    <div>\r\n      <InputNumber\r\n        defaultValue={rest}\r\n        placeholder=\"Rest\"\r\n        onChange={e => onContentChange({ rest: parseFloat(e.currentTarget.value) })}\r\n      />\r\n    </div>\r\n    <DragHandle />\r\n  </div>\r\n);\r\n\r\nexport const HeaderStepRepetition = () => (\r\n  <header className=\"list-group-item-header border-top-0 border-left-0 border-right-0 d-flex justify-content-between text-dark text-center\">\r\n    <div style={{ width: '4em' }}>\r\n      <FontAwesomeIcon icon={faDumbbell} size=\"lg\" />\r\n    </div>\r\n    <div style={{ width: '4em' }}>\r\n      <FontAwesomeIcon icon={faTimes} size=\"lg\" />\r\n    </div>\r\n    <div style={{ width: '4em' }}>\r\n      <FontAwesomeIcon icon={faHandPaper} size=\"lg\" />\r\n    </div>\r\n    <div style={{ width: '1em' }} />\r\n  </header>\r\n);\r\n\r\nexport const HeaderStepTimed = () => (\r\n  <header className=\"list-group-item-header border-top-0 border-left-0 border-right-0 d-flex justify-content-between text-dark text-center\">\r\n    <div style={{ width: '4em' }}>\r\n      <FontAwesomeIcon icon={faClock} size=\"lg\" />\r\n    </div>\r\n    <div style={{ width: '4em' }}>\r\n      <FontAwesomeIcon icon={faHandPaper} size=\"lg\" />\r\n    </div>\r\n    <div style={{ width: '1em' }} />\r\n  </header>\r\n);\r\n\r\nexport type StepTimedProps = {\r\n  duration: StepTimedType['duration'];\r\n  rest: StepTimedType['rest'];\r\n  onContentChange: (content: Partial<StepTimedType>) => void;\r\n};\r\n\r\nexport const StepTimed = ({ duration, rest, onContentChange }: StepTimedProps) => (\r\n  <div className=\"d-flex justify-content-between p-3\">\r\n    <div>\r\n      <InputNumber\r\n        defaultValue={duration}\r\n        placeholder=\"Duration\"\r\n        onChange={e => onContentChange({ duration: parseFloat(e.currentTarget.value) })}\r\n      />\r\n    </div>\r\n    <div>\r\n      <InputNumber\r\n        defaultValue={rest}\r\n        placeholder=\"Rest\"\r\n        onChange={e => onContentChange({ rest: parseFloat(e.currentTarget.value) })}\r\n      />\r\n    </div>\r\n    <DragHandle />\r\n  </div>\r\n);\r\n","import React, { Component, ReactNode } from 'react';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faDumbbell, faStopwatch } from '@fortawesome/free-solid-svg-icons';\nimport SwipeableListItem, {\n  SwipedItemAcknowledged,\n  SwipedItemRemoved,\n  SwipedItemCanceled\n} from '../../../components/swipeable-list-item/SwipeableListItem';\nimport { StepRepetition, HeaderStepRepetition, HeaderStepTimed, StepTimed } from './ExerciseStep';\nimport {\n  Exercise as ExerciseType,\n  StepType,\n  Step,\n  StepTimed as StepTimedType,\n  StepRepetition as StepRepetitionType\n} from '../../../store/types';\n\ntype SortableStepProps = {\n  type: StepType;\n  step: Step;\n  onSwipeLeft: () => void;\n  onSwipeRight: () => void;\n  leftSwipeElement: ReactNode;\n  rightSwipeElement: ReactNode;\n  onContentChange: (content: Partial<StepRepetitionType>) => void;\n};\n\nconst SortableStep = SortableElement(\n  ({\n    type,\n    step: { done, ...content },\n    onSwipeLeft,\n    onSwipeRight,\n    leftSwipeElement,\n    rightSwipeElement,\n    onContentChange\n  }: SortableStepProps) => (\n    <SwipeableListItem\n      className={'list-group-item p-0 ' + (done ? 'list-group-item-success' : '')}\n      onSwipeLeft={onSwipeLeft}\n      onSwipeRight={onSwipeRight}\n      leftSwipeElement={leftSwipeElement}\n      rightSwipeElement={rightSwipeElement}\n    >\n      {type === 'timed' ? (\n        <StepTimed\n          duration={(content as StepTimedType).duration}\n          rest={content.rest}\n          onContentChange={onContentChange}\n        />\n      ) : (\n        <StepRepetition\n          kg={(content as StepRepetitionType).kg}\n          repetition={(content as StepRepetitionType).repetition}\n          rest={content.rest}\n          onContentChange={onContentChange}\n        />\n      )}\n    </SwipeableListItem>\n  )\n);\n\ntype SortableStepListProps = {\n  type: StepType;\n  onSwipeLeft: (step: Step) => void;\n  onSwipeRight: (step: Step) => void;\n  leftSwipeElement: ReactNode;\n  rightSwipeElement: ReactNode;\n  steps: Step[];\n  onUpdateStep: (stepId: string) => (content: Partial<StepRepetitionType>) => void;\n};\n\nconst SortableStepList = SortableContainer(\n  ({\n    type,\n    onSwipeLeft,\n    onSwipeRight,\n    leftSwipeElement,\n    rightSwipeElement,\n    steps,\n    onUpdateStep\n  }: SortableStepListProps) => (\n    <ul className=\"list-group list-group-flush\">\n      {steps.map((step, index) => (\n        <SortableStep\n          key={`item-${step.id}`}\n          index={index}\n          type={type}\n          step={step}\n          onSwipeRight={() => onSwipeRight(step)}\n          onSwipeLeft={() => onSwipeLeft(step)}\n          leftSwipeElement={leftSwipeElement}\n          rightSwipeElement={rightSwipeElement}\n          onContentChange={onUpdateStep(step.id)}\n        />\n      ))}\n    </ul>\n  )\n);\n\nexport type ExerciseProps = {\n  exercise: ExerciseType;\n  onAddFirstStep: (stepType: StepType) => (stepContent?: Step) => void;\n  onDeleteStep: (stepId: string) => void;\n  onAcknowledgeStep: (stepId: string) => void;\n  onCancelStep: (stepId: string) => void;\n  onUpdateStep: (stepId: string) => (contentPatch: Partial<Step>) => void;\n  onMoveStep: (p: { oldIndex: number; newIndex: number }) => void;\n  onStartExercise: () => void;\n  onExerciseNameChange: (name: string) => void;\n};\n\nexport type ExerciseState = {\n  name: string;\n};\n\nclass Exercise extends Component<ExerciseProps, ExerciseState> {\n  constructor(props: ExerciseProps) {\n    super(props);\n    const { name } = props.exercise;\n    this.state = {\n      name: name\n    };\n  }\n\n  render() {\n    const { name } = this.state;\n    const {\n      onAddFirstStep,\n      onDeleteStep,\n      onAcknowledgeStep,\n      onCancelStep,\n      onUpdateStep,\n      onMoveStep,\n      onExerciseNameChange,\n      exercise: { type, steps }\n    } = this.props;\n    return (\n      <article className=\"card\">\n        <form onSubmit={e => e.preventDefault()}>\n          <header className=\"card-body\">\n            <label htmlFor=\"exerciseName\" className=\"d-none\">\n              Exercise name\n            </label>\n            <input\n              type=\"text\"\n              className=\"form-control font-weight-bold text-primary\"\n              id=\"exerciseName\"\n              placeholder=\"Your exercise name\"\n              defaultValue={name}\n              onChange={e => onExerciseNameChange(e.currentTarget.value)}\n              autoComplete=\"off\"\n              required\n            />\n          </header>\n          <>\n            {type && steps && steps.length > 0 ? (\n              <section>\n                {type === 'timed' ? <HeaderStepTimed /> : <HeaderStepRepetition />}\n                <SortableStepList\n                  type={type}\n                  steps={steps.filter(step => !step.done)}\n                  onSortEnd={({ oldIndex, newIndex }) => onMoveStep({ oldIndex, newIndex })}\n                  onSwipeLeft={step => onAcknowledgeStep(step.id)}\n                  onSwipeRight={step => onDeleteStep(step.id)}\n                  leftSwipeElement={<SwipedItemAcknowledged />}\n                  rightSwipeElement={<SwipedItemRemoved />}\n                  onUpdateStep={onUpdateStep}\n                  lockAxis=\"y\"\n                  useDragHandle={true}\n                  helperClass=\"list-group-item-sortable-helper\"\n                />\n                <SortableStepList\n                  type={type}\n                  steps={steps.filter(step => step.done)}\n                  onSortEnd={({ oldIndex, newIndex }) => onMoveStep({ oldIndex, newIndex })}\n                  onSwipeLeft={step => onCancelStep(step.id)}\n                  onSwipeRight={step => onDeleteStep(step.id)}\n                  leftSwipeElement={<SwipedItemCanceled />}\n                  rightSwipeElement={<SwipedItemRemoved />}\n                  onUpdateStep={onUpdateStep}\n                  lockAxis=\"y\"\n                  useDragHandle={true}\n                  helperClass=\"list-group-item-sortable-helper\"\n                />\n              </section>\n            ) : (\n              <section className=\"card-body text-center\">\n                <p className=\"card-text lead\">Choose your exercise type:</p>\n                <button type=\"button\" className=\"btn btn-outline-primary m-1\" onClick={() => onAddFirstStep('timed')()}>\n                  <FontAwesomeIcon icon={faStopwatch} /> Time serie\n                </button>\n                <button\n                  type=\"button\"\n                  className=\"btn btn-outline-primary m-1\"\n                  onClick={() => onAddFirstStep('repetition')()}\n                >\n                  <FontAwesomeIcon icon={faDumbbell} /> Repetition serie\n                </button>\n              </section>\n            )}\n          </>\n        </form>\n      </article>\n    );\n  }\n}\n\nexport default Exercise;\n","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlusSquare, faPlay, faTimes, faPoo, faSun } from '@fortawesome/free-solid-svg-icons';\nimport { faFrown } from '@fortawesome/free-regular-svg-icons';\nimport { Link } from 'react-router-dom';\nimport EmptyPage from '../../../components/empty-page/EmptyPage';\nimport { Layout } from '../../../components/layout';\nimport { StepType, Step, Exercise as ExerciseType } from '../../../store/types';\nimport Exercise from './Exercise';\n\nconst LoadingPage = () => (\n  <EmptyPage text=\"Loading ...\" icon={faSun} action={<div>Your exercise is being loaded</div>} />\n);\nconst ErrorLoadingPage = () => (\n  <EmptyPage\n    text=\"Error loading your exercise\"\n    icon={faPoo}\n    action={<div>Sorry an error occured loading your exercice !</div>}\n  />\n);\nconst ExerciseNotFoundPage = () => (\n  <EmptyPage\n    text=\"Exercise not found\"\n    icon={faFrown}\n    action={\n      <Link className=\"btn btn-primary\" to=\"/\">\n        Back to exercises\n      </Link>\n    }\n  />\n);\n\nconst firstStepIdToRun = (steps: Step[]) => {\n  const stepNotDone = steps.filter(step => !step.done);\n  return stepNotDone.length > 0 ? stepNotDone[0].id : steps.length > 0 ? steps[0].id : undefined;\n};\n\nexport type ExercisePageProps = {\n  loading?: boolean;\n  exercise?: ExerciseType;\n  errorLoading?: boolean;\n  onAddStep: (exerciseId: string) => (stepType: StepType) => (stepContent?: Step) => void;\n  onDeleteStep: (exerciseId: string) => (stepId: string) => void;\n  onAcknowledgeStep: (exerciseId: string) => (stepId: string) => void;\n  onCancelStep: (exerciseId: string) => (stepId: string) => void;\n  onUpdateStep: (exerciseId: string) => (stepId: string) => (contentPatch: Partial<Step>) => void;\n  onMoveStep: (exerciseId: string) => (p: { oldIndex: number; newIndex: number }) => void;\n  onStartExercise: () => void;\n  onExerciseNameChange: (exerciseId: string) => (name: string) => void;\n};\n\nconst ExercisePage = ({\n  loading = false,\n  errorLoading = false,\n  exercise,\n  onAddStep,\n  onDeleteStep,\n  onAcknowledgeStep,\n  onCancelStep,\n  onStartExercise,\n  onUpdateStep,\n  onMoveStep,\n  onExerciseNameChange\n}: ExercisePageProps) => {\n  const header = (\n    <Link to=\"/\" className=\"btn btn-link text-dark\" aria-label=\"Back to exercises list\">\n      <FontAwesomeIcon icon={faTimes} />\n    </Link>\n  );\n  let navItems = [\n    loading || errorLoading || !exercise || exercise.steps.length === 0 ? (\n      <button key=\"nav-start\" className=\"btn btn-link nav-link btn-block\" disabled>\n        <FontAwesomeIcon icon={faPlay} /> Start\n      </button>\n    ) : (\n      <Link\n        to={`/${exercise!.id}/runner/${firstStepIdToRun(exercise.steps)}`}\n        key=\"nav-start\"\n        className=\"btn btn-link nav-link btn-block\"\n      >\n        <FontAwesomeIcon icon={faPlay} /> Start\n      </Link>\n    )\n  ];\n  if (exercise && exercise.type) {\n    navItems = [\n      ...navItems,\n      <button\n        key=\"nav-new-step\"\n        className=\"btn btn-link nav-link btn-block\"\n        disabled={loading || errorLoading}\n        onClick={() => onAddStep(exercise.id)(exercise.type!)(exercise.steps[exercise.steps.length - 1])}\n      >\n        <FontAwesomeIcon icon={faPlusSquare} /> New step\n      </button>\n    ];\n  }\n  return (\n    <Layout header={header} navItems={navItems}>\n      {loading ? (\n        <LoadingPage />\n      ) : errorLoading ? (\n        <ErrorLoadingPage />\n      ) : exercise ? (\n        <Exercise\n          exercise={exercise}\n          onAddFirstStep={onAddStep(exercise.id)}\n          onDeleteStep={onDeleteStep(exercise.id)}\n          onAcknowledgeStep={onAcknowledgeStep(exercise.id)}\n          onCancelStep={onCancelStep(exercise.id)}\n          onUpdateStep={onUpdateStep(exercise.id)}\n          onMoveStep={onMoveStep(exercise.id)}\n          onExerciseNameChange={onExerciseNameChange(exercise.id)}\n          onStartExercise={() => {\n            return;\n          }}\n        />\n      ) : (\n        <ExerciseNotFoundPage />\n      )}\n    </Layout>\n  );\n};\n\nexport default ExercisePage;\n","import React, { Component } from 'react';\nimport { connect, MapStateToProps, MapDispatchToProps } from 'react-redux';\nimport { getExerciseById, areExercisesLoading, hasErrorLoadingExercises } from '../../../store/selectors';\nimport ExercisePage from '../presentational/ExercisePage';\nimport {\n  fetchAllExercisesRequest,\n  updateExerciseNameRequest,\n  addExerciseStepRequest,\n  deleteExerciseStepRequest,\n  acknowledgeExerciseStepRequest,\n  cancelExerciseStepRequest,\n  updateExerciseStepRequest,\n  moveExerciseStepRequest\n} from '../../../store/actions';\nimport { AppStore } from '../../../store/reducer';\nimport { StepType, Step, Exercise } from '../../../store/types';\n\ntype ExercicePageContainerStateProps = {\n  exercise: Exercise;\n  loading: boolean;\n  errorLoading: boolean;\n};\n\ntype ExercicePageContainerDispatchProps = {\n  load: () => void;\n  onAddStep: (exerciseId: string) => (stepType: StepType) => (stepContent?: Step) => void;\n  onDeleteStep: (exerciseId: string) => (stepId: string) => void;\n  onAcknowledgeStep: (exerciseId: string) => (stepId: string) => void;\n  onCancelStep: (exerciseId: string) => (stepId: string) => void;\n  onUpdateStep: (exerciseId: string) => (stepId: string) => (contentPatch: Partial<Step>) => void;\n  onMoveStep: (exerciseId: string) => (p: { oldIndex: number; newIndex: number }) => void;\n  onStartExercise: () => void;\n  onExerciseNameChange: (id: string) => (name: string) => void;\n};\n\nexport type ExercicePageContainerOwnProps = {\n  exerciseId: string;\n};\n\nconst mapStateToProps: MapStateToProps<ExercicePageContainerStateProps, ExercicePageContainerOwnProps, AppStore> = (\n  state,\n  ownProps\n) => ({\n  exercise: getExerciseById(state)(ownProps.exerciseId),\n  loading: areExercisesLoading(state),\n  errorLoading: hasErrorLoadingExercises(state)\n});\n\nconst mapDispatchToProps: MapDispatchToProps<\n  ExercicePageContainerDispatchProps,\n  ExercicePageContainerOwnProps\n> = dispatch => {\n  return {\n    load: () => dispatch(fetchAllExercisesRequest()),\n    onAddStep: (exerciseId: string) => (stepType: StepType) => (stepContent?: Step) =>\n      dispatch(addExerciseStepRequest(exerciseId, stepType, stepContent)),\n    onDeleteStep: (exerciseId: string) => (stepId: string) => dispatch(deleteExerciseStepRequest(exerciseId, stepId)),\n    onAcknowledgeStep: (exerciseId: string) => (stepId: string) =>\n      dispatch(acknowledgeExerciseStepRequest(exerciseId, stepId)),\n    onCancelStep: (exerciseId: string) => (stepId: string) => dispatch(cancelExerciseStepRequest(exerciseId, stepId)),\n    onUpdateStep: (exerciseId: string) => (stepId: string) => (contentPatch: Partial<Step>) =>\n      dispatch(updateExerciseStepRequest(exerciseId, stepId, contentPatch)),\n    onMoveStep: (exerciseId: string) => ({ oldIndex, newIndex }: { oldIndex: number; newIndex: number }) =>\n      dispatch(moveExerciseStepRequest(exerciseId, oldIndex, newIndex)),\n    onStartExercise: () => {\n      return;\n    },\n    onExerciseNameChange: (id: string) => (name: string) => dispatch(updateExerciseNameRequest(id, name))\n  };\n};\n\ntype ExercicePageContainerProps = ExercicePageContainerStateProps &\n  ExercicePageContainerDispatchProps &\n  ExercicePageContainerOwnProps;\n\nclass ExercicePageContainer extends Component<ExercicePageContainerProps> {\n  componentDidMount() {\n    if (!this.props.exercise) {\n      this.props.load();\n    }\n  }\n  render() {\n    const { load, ...restProps } = this.props;\n    return <ExercisePage {...restProps} />;\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ExercicePageContainer);\n","import React, { SFC } from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport { Store } from 'redux';\r\n\r\nexport type RootContainerProps = {\r\n  store: Store;\r\n};\r\nconst RootContainer: SFC<RootContainerProps> = ({ children, store }) => <Provider store={store}>{children}</Provider>;\r\n\r\nexport default RootContainer;\r\n","import React from 'react';\nimport EmptyPage from './EmptyPage';\nimport { faKiwiBird } from '@fortawesome/free-solid-svg-icons';\nimport { RouteComponentProps } from 'react-router';\n\nexport default ({ history }: RouteComponentProps) => {\n  const goBackButton = (\n    <button className=\"btn btn-primary\" onClick={() => history.goBack()}>\n      Go back\n    </button>\n  );\n  return <EmptyPage icon={faKiwiBird} text={'Sorry, page was not found'} action={goBackButton} />;\n};\n","import React, { PureComponent } from 'react';\nimport classNames from 'classnames';\nimport './styles.css';\nimport { faRedo } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nexport type TimedProgressProps = {\n  totalTime: number;\n  tick_ms: number;\n  theme: 'rest' | 'exercise';\n  onFinished: () => void;\n};\nexport type TimedProgressState = {\n  remainingTime: number;\n  status: 'STOPPED' | 'RUNNING' | 'FINISHED';\n};\n\nexport class TimedProgress extends PureComponent<TimedProgressProps, TimedProgressState> {\n  constructor(props: TimedProgressProps) {\n    super(props);\n    this.state = {\n      remainingTime: this.props.totalTime,\n      status: 'STOPPED'\n    };\n  }\n\n  static defaultProps: Pick<TimedProgressProps, 'onFinished' | 'tick_ms' | 'theme'> = {\n    tick_ms: 1000,\n    theme: 'exercise',\n    onFinished: () => {\n      return;\n    }\n  };\n\n  intervalId?: number;\n  timeoutId?: number;\n\n  clearTimers = () => {\n    this.intervalId && clearInterval(this.intervalId);\n    this.intervalId = undefined;\n    this.timeoutId && clearTimeout(this.timeoutId);\n    this.timeoutId = undefined;\n  };\n  startTimers = () => {\n    this.tick();\n    this.clearTimers();\n    this.intervalId = window.setInterval(this.tick, this.props.tick_ms);\n    this.timeoutId = window.setTimeout(this.finish, this.state.remainingTime * 1000);\n  };\n\n  start = () => {\n    if (this.state.status !== 'RUNNING' && this.state.remainingTime > 0) {\n      this.setState({ status: 'RUNNING' }, () => {\n        this.startTimers();\n      });\n    }\n  };\n  stop = () => {\n    this.clearTimers();\n    this.setState({ status: 'STOPPED' });\n  };\n  finish = () => {\n    this.clearTimers();\n    this.setState({ status: 'FINISHED', remainingTime: 0 });\n    this.props.onFinished();\n  };\n  reset = () => {\n    this.setState({ remainingTime: this.props.totalTime }, () => {\n      if (this.state.status === 'RUNNING') this.startTimers();\n    });\n  };\n  tick = () => {\n    this.setState(state => {\n      const newTime = state.remainingTime - this.props.tick_ms! / 1000;\n      return newTime >= 0 ? { remainingTime: newTime } : { remainingTime: 0 };\n    });\n  };\n\n  onTapTimer = () => (this.state.status === 'RUNNING' ? this.stop() : this.start());\n\n  getStrokeDashoffset = (percentage = 0) => {\n    const r = 90;\n    const c = Math.PI * (r * 2);\n\n    return percentage * c;\n  };\n\n  componentDidMount() {\n    if (this.props.theme === 'rest') {\n      this.start();\n    }\n  }\n  componentWillUnmount() {\n    this.clearTimers();\n  }\n\n  render() {\n    const { status, remainingTime } = this.state;\n    return (\n      <>\n        <div>{status}</div>\n        <div className={classNames('timer-container', { rest: this.props.theme === 'rest' })} onClick={this.onTapTimer}>\n          <svg\n            className=\"timer-svg m-auto d-flex\"\n            width=\"200\"\n            height=\"200\"\n            version=\"1.1\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            transform=\"rotate(-90)\"\n          >\n            <filter xmlns=\"http://www.w3.org/2000/svg\" id=\"dropshadow\" height=\"130%\">\n              <feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"3\" />\n              <feOffset dx=\"2\" dy=\"2\" result=\"offsetblur\" />\n              <feComponentTransfer>\n                <feFuncA type=\"linear\" slope=\"0.2\" />\n              </feComponentTransfer>\n              <feMerge>\n                <feMergeNode />\n                <feMergeNode in=\"SourceGraphic\" />\n              </feMerge>\n            </filter>\n            <circle\n              className=\"progress-bar\"\n              filter=\"url(#dropshadow)\"\n              r=\"90\"\n              cx=\"100\"\n              cy=\"100\"\n              fill=\"transparent\"\n              strokeDasharray=\"565.48\"\n              strokeDashoffset=\"0\"\n            />\n            <circle\n              className=\"bar\"\n              r=\"90\"\n              cx=\"100\"\n              cy=\"100\"\n              fill=\"transparent\"\n              strokeDasharray=\"565.48\"\n              strokeDashoffset={this.getStrokeDashoffset(remainingTime / this.props.totalTime)}\n              style={\n                status === 'RUNNING' ? { transition: `stroke-dashoffset ${this.props.tick_ms! / 1000}s linear` } : {}\n              }\n            />\n          </svg>\n          <div className=\"timer-info d-flex\">\n            <div className=\"m-auto display-2\">{Math.ceil(remainingTime)}</div>\n          </div>\n        </div>\n        <div className=\"my-2\">\n          <button className=\"btn btn-block btn-link m-1\" onClick={this.reset}>\n            <FontAwesomeIcon flip=\"horizontal\" icon={faRedo} /> Reset\n          </button>\n        </div>\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport { faDumbbell, faTimes } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nexport type RepetitionProgressProps = {\n  kg: number;\n  repetition: number;\n  onFinished: () => void;\n};\n\nexport const RepetitionProgress = ({ onFinished, kg, repetition }: RepetitionProgressProps) => (\n  <>\n    <div className=\"d-flex justify-content-around align-items-center\">\n      <FontAwesomeIcon className=\"m-2 display-3\" icon={faDumbbell} aria-label=\"weight in kg\" />\n      <span className=\"m-2 text-primary display-2\">{kg}</span>\n    </div>\n    <div className=\"d-flex justify-content-around align-items-center\">\n      <FontAwesomeIcon className=\"m-2 display-2\" icon={faTimes} aria-label=\"repetition\" />\n      <span className=\"m-2 text-primary display-3\">{repetition}</span>\n    </div>\n  </>\n);\n","import React, { PureComponent } from 'react';\nimport './ExerciseRunner.css';\nimport classNames from 'classnames';\nimport { Exercise, Step, StepTimed, StepRepetition } from 'store/types';\nimport { Layout, CenteredPageLayout } from 'components/layout';\nimport { Link } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimes, faStepForward, faStepBackward } from '@fortawesome/free-solid-svg-icons';\nimport { faSmileBeam } from '@fortawesome/free-regular-svg-icons';\nimport { TimedProgress } from './TimedProgress';\nimport { RepetitionProgress } from './RepetitionProgress';\nimport { Redirect } from 'react-router';\n\nexport type ExerciseRunnerProps = {\n  exerciseId: Exercise['id'];\n  exerciseName: Exercise['name'];\n  type: Exercise['type'];\n  steps: Step[];\n  currentStepIndex: number;\n  onStepFinished: (stepId: string) => void;\n};\n\ntype ExerciseRunnerLayoutState = {\n  rest: boolean;\n  renderNext: boolean;\n};\n\nexport class ExerciseRunner extends PureComponent<ExerciseRunnerProps, ExerciseRunnerLayoutState> {\n  constructor(props: ExerciseRunnerProps) {\n    super(props);\n    this.state = { rest: false, renderNext: false };\n  }\n\n  static defaultProps: { currentStepIndex: number } = {\n    currentStepIndex: 0\n  };\n\n  goToNextStep = () => this.setState({ renderNext: true });\n\n  finishStepAndRest = () => {\n    this.setState({ rest: true });\n    this.props.onStepFinished(this.props.steps[this.props.currentStepIndex].id);\n  };\n\n  renderProgress = (currentStep: Step) => {\n    const { type } = this.props;\n    if (type === 'timed') {\n      const step = currentStep as StepTimed;\n      return <TimedProgress totalTime={step.duration} onFinished={this.finishStepAndRest} />;\n    } else if (type === 'repetition') {\n      const step = currentStep as StepRepetition;\n      return <RepetitionProgress repetition={step.repetition} kg={step.kg} onFinished={this.finishStepAndRest} />;\n    }\n    return 'Error displaying progress of the exercise, unknown type';\n  };\n\n  render() {\n    const { exerciseId, exerciseName, steps, currentStepIndex } = this.props;\n    return (\n      <Layout\n        header={\n          <>\n            <Link to={`/${exerciseId}`} className=\"btn btn-link text-dark\" aria-label=\"Back to exercises list\">\n              <FontAwesomeIcon icon={faTimes} />\n            </Link>\n            {`${exerciseName} - Step ${currentStepIndex + 1}`}\n          </>\n        }\n        navItems={[\n          <>\n            {currentStepIndex > 0 ? (\n              <Link\n                to={`/${exerciseId}/runner/${steps[currentStepIndex - 1].id}`}\n                key=\"nav-previous\"\n                className=\"btn btn-link nav-link btn-block\"\n              >\n                <FontAwesomeIcon icon={faStepBackward} /> Previous\n              </Link>\n            ) : (\n              <button key=\"nav-previous\" className=\"btn btn-link nav-link btn-block\" disabled>\n                <FontAwesomeIcon icon={faStepBackward} /> Previous\n              </button>\n            )}\n          </>,\n          <>\n            {currentStepIndex < steps.length - 1 ? (\n              <Link\n                to={`/${exerciseId}/runner/${steps[currentStepIndex + 1].id}`}\n                key=\"nav-next\"\n                className=\"btn btn-link nav-link btn-block\"\n              >\n                <FontAwesomeIcon icon={faStepForward} /> Next\n              </Link>\n            ) : (\n              <button key=\"nav-next\" className=\"btn btn-link nav-link btn-block\" disabled>\n                <FontAwesomeIcon icon={faStepForward} /> Next\n              </button>\n            )}\n          </>\n        ]}\n      >\n        <CenteredPageLayout className={classNames({ success: steps[currentStepIndex].done })}>\n          {this.state.rest ? (\n            <TimedProgress\n              key=\"rest-timed-progress\"\n              totalTime={steps[currentStepIndex].rest}\n              theme=\"rest\"\n              onFinished={this.goToNextStep}\n            />\n          ) : (\n            <>\n              {this.renderProgress(steps[currentStepIndex])}\n              <div className=\"d-flex\">\n                <button className=\"btn btn-outline-info btn-block m-1\" onClick={this.finishStepAndRest}>\n                  <FontAwesomeIcon icon={faSmileBeam} /> Rest\n                </button>\n              </div>\n            </>\n          )}\n        </CenteredPageLayout>\n        {this.state.renderNext && currentStepIndex < steps.length - 1 && (\n          <Redirect to={`/${exerciseId}/runner/${steps[currentStepIndex + 1].id}`} />\n        )}\n      </Layout>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { MapStateToProps, MapDispatchToProps, connect } from 'react-redux';\nimport { Exercise, Step } from '../../../store/types';\nimport { ExerciseRunner } from '../presentational/ExerciseRunner';\nimport { AppStore } from '../../../store/reducer';\nimport { getExerciseById, areExercisesLoading, hasErrorLoadingExercises } from '../../../store/selectors';\nimport { fetchExerciseRequest, acknowledgeExerciseStepRequest } from '../../../store/actions';\nimport EmptyPage from 'components/empty-page/EmptyPage';\nimport { faSun, faPoo } from '@fortawesome/free-solid-svg-icons';\nimport { faFrown } from '@fortawesome/free-regular-svg-icons';\nimport { Link } from 'react-router-dom';\n\nconst LoadingPage = () => <EmptyPage text=\"Loading ...\" icon={faSun} action={<p>Your exercise is being loaded</p>} />;\nconst ErrorLoadingPage = () => (\n  <EmptyPage\n    text=\"Error loading your exercise\"\n    icon={faPoo}\n    action={<p>Sorry an error occured loading your exercice !</p>}\n  />\n);\nconst ExerciseNotFoundPage = () => (\n  <EmptyPage\n    text=\"Exercise not found\"\n    icon={faFrown}\n    action={\n      <Link className=\"btn btn-primary\" to=\"/\">\n        Back to exercises\n      </Link>\n    }\n  />\n);\nconst ExerciseStepNotFoundPage = () => (\n  <EmptyPage\n    text=\"Step not found\"\n    icon={faFrown}\n    action={\n      <Link className=\"btn btn-primary\" to=\"/\">\n        Back to exercises\n      </Link>\n    }\n  />\n);\n\nexport type ExerciseRunnerContainerOwnProps = {\n  exerciseId: Exercise['id'];\n  stepId: Step['id'];\n};\n\ntype ExerciseRunnerContainerStateProps = {\n  exercise: Exercise;\n  loading: boolean;\n  errorLoading: boolean;\n};\n\ntype ExerciseRunnerContainerDispatchProps = {\n  loadExercise: () => void;\n  onStepFinished: () => void;\n};\n\ntype ExerciseRunnerContainerProps = ExerciseRunnerContainerOwnProps &\n  ExerciseRunnerContainerStateProps &\n  ExerciseRunnerContainerDispatchProps;\n\nclass ExerciseRunnerContainerComponent extends PureComponent<ExerciseRunnerContainerProps> {\n  componentDidMount() {\n    if (!this.props.exercise) {\n      this.props.loadExercise();\n    }\n  }\n  render() {\n    const { stepId, exercise, onStepFinished, loading, errorLoading } = this.props;\n    const stepIndex = exercise ? exercise.steps.findIndex(({ id }) => id === stepId) : -1;\n    return loading ? (\n      <LoadingPage />\n    ) : errorLoading ? (\n      <ErrorLoadingPage />\n    ) : !exercise ? (\n      <ExerciseNotFoundPage />\n    ) : stepIndex < 0 ? (\n      <ExerciseStepNotFoundPage />\n    ) : (\n      <ExerciseRunner\n        key={`exercise-runner-${exercise.id}-${stepId}`}\n        exerciseId={exercise.id}\n        exerciseName={exercise.name}\n        type={exercise.type}\n        steps={exercise.steps}\n        onStepFinished={onStepFinished}\n        currentStepIndex={stepIndex}\n      />\n    );\n  }\n}\n\nconst mapStateToProps: MapStateToProps<ExerciseRunnerContainerStateProps, ExerciseRunnerContainerOwnProps, AppStore> = (\n  state,\n  ownProps\n) => ({\n  exercise: getExerciseById(state)(ownProps.exerciseId),\n  loading: areExercisesLoading(state),\n  errorLoading: hasErrorLoadingExercises(state)\n});\n\nconst mapDispatchToProps: MapDispatchToProps<ExerciseRunnerContainerDispatchProps, ExerciseRunnerContainerOwnProps> = (\n  dispatch,\n  ownProps\n) => ({\n  loadExercise: () => dispatch(fetchExerciseRequest(ownProps.exerciseId)),\n  onStepFinished: () => dispatch(acknowledgeExerciseStepRequest(ownProps.exerciseId, ownProps.stepId))\n});\n\nexport const ExerciseRunnerContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ExerciseRunnerContainerComponent);\n","export const SERVICEWORKER_REGISTRATION_ERROR: 'SERVICEWORKER_REGISTRATION_ERROR' = 'SERVICEWORKER_REGISTRATION_ERROR';\nexport const registrationError = ({ errorMessage, error }: { errorMessage: string; error?: Error }) => ({\n  type: SERVICEWORKER_REGISTRATION_ERROR,\n  error,\n  errorMessage\n});\n\nexport const SERVICEWORKER_REGISTRATION_SUCCESS: 'SERVICEWORKER_REGISTRATION_SUCCESS' =\n  'SERVICEWORKER_REGISTRATION_SUCCESS';\nexport const registrationSuccess = () => ({ type: SERVICEWORKER_REGISTRATION_SUCCESS });\n\nexport const SERVICEWORKER_NEW_CONTENT_AVAILABLE: 'SERVICEWORKER_NEW_CONTENT_AVAILABLE' =\n  'SERVICEWORKER_NEW_CONTENT_AVAILABLE';\nexport const newContentAvailable = () => ({ type: SERVICEWORKER_NEW_CONTENT_AVAILABLE });\n\nexport const SERVICEWORKER_CONTENT_CACHED: 'SERVICEWORKER_CONTENT_CACHED' = 'SERVICEWORKER_CONTENT_CACHED';\nexport const contentCached = () => ({ type: SERVICEWORKER_CONTENT_CACHED });\n\nexport const SERVICEWORKER_OFFLINE: 'SERVICEWORKER_OFFLINE' = 'SERVICEWORKER_OFFLINE';\nexport const offlineMode = (offline = true) => ({ offline, type: SERVICEWORKER_OFFLINE });\n\nexport type ServiceWorkerAction =\n  | ReturnType<typeof registrationError>\n  | ReturnType<typeof registrationSuccess>\n  | ReturnType<typeof newContentAvailable>\n  | ReturnType<typeof offlineMode>\n  | ReturnType<typeof contentCached>;\n","import React from 'react';\nimport { all, put, takeLatest } from 'redux-saga/effects';\nimport {\n  SERVICEWORKER_REGISTRATION_ERROR,\n  registrationError,\n  SERVICEWORKER_NEW_CONTENT_AVAILABLE,\n  SERVICEWORKER_CONTENT_CACHED,\n  SERVICEWORKER_OFFLINE,\n  newContentAvailable,\n  contentCached,\n  offlineMode\n} from './actions';\nimport { pushNotification } from 'components/notification';\n\nfunction* onRegistrationError({ errorMessage }: ReturnType<typeof registrationError>) {\n  yield put(pushNotification({ message: errorMessage, type: 'danger' }));\n}\n\nfunction* onNewContentAvailable({  }: ReturnType<typeof newContentAvailable>) {\n  yield put(\n    pushNotification({\n      message: 'New content is available; please refresh.',\n      actions: [\n        <a key=\"refresh-button\" href=\"\" onClick={() => window.location.reload()}>\n          REFRESH\n        </a>\n      ]\n    })\n  );\n}\n\nfunction* onContentCached({  }: ReturnType<typeof contentCached>) {\n  yield put(pushNotification({ message: 'Content is cached for offline use.' }));\n}\n\nfunction* onofflineReady({ offline }: ReturnType<typeof offlineMode>) {\n  if (offline) {\n    yield put(pushNotification({ message: \"Offline ? Keep working out it's fine !\" }));\n  }\n}\n\nexport function* watchServiceWorker() {\n  yield all([\n    yield takeLatest(SERVICEWORKER_REGISTRATION_ERROR, onRegistrationError),\n    yield takeLatest(SERVICEWORKER_NEW_CONTENT_AVAILABLE, onNewContentAvailable),\n    yield takeLatest(SERVICEWORKER_CONTENT_CACHED, onContentCached),\n    yield takeLatest(SERVICEWORKER_OFFLINE, onofflineReady)\n  ]);\n}\n","import { Dispatch } from 'redux';\nimport {\n  registrationError,\n  registrationSuccess,\n  newContentAvailable,\n  ServiceWorkerAction,\n  contentCached,\n  offlineMode\n} from './redux/actions';\n\nexport * from './redux/sagas';\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(dispatch: Dispatch<ServiceWorkerAction>) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      dispatch(\n        registrationError({ errorMessage: \"Our service worker won't work if PUBLIC_URL is on a different origin\" })\n      );\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, dispatch);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => dispatch(registrationSuccess()));\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, dispatch);\n      }\n    });\n    window.addEventListener('online', updateOnlineStatus(dispatch));\n    window.addEventListener('offline', updateOnlineStatus(dispatch));\n  } else {\n    dispatch(registrationError({ errorMessage: 'Service worker is not supported by your navigator.' }));\n  }\n}\n\nconst updateOnlineStatus = (dispatch: Dispatch<ServiceWorkerAction>) => () => {\n  dispatch(offlineMode(navigator.onLine));\n};\n\nfunction registerValidSW(swUrl: string, dispatch: Dispatch<ServiceWorkerAction>) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker!.onstatechange = () => {\n          if (installingWorker!.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              dispatch(newContentAvailable());\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              dispatch(contentCached());\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      dispatch(\n        registrationError({\n          errorMessage: 'Error during service worker registration',\n          error\n        })\n      );\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, dispatch: Dispatch<ServiceWorkerAction>) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (response.status === 404 || response.headers.get('content-type')!.indexOf('javascript') === -1) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, dispatch);\n      }\n    })\n    .catch(() => {\n      dispatch(offlineMode());\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { Exercise } from './types';\nimport { TYPES as actions, Action } from './actions';\nimport { combineReducers, Reducer } from 'redux';\nimport { notificationReducer } from '../components/notification';\n\nexport type ExerciseStore = {\n  loading: boolean;\n  error: any;\n  ids: string[];\n  byId: {\n    [id: string]: Exercise;\n  };\n};\n\nexport const exsercisesInitialState: ExerciseStore = { loading: false, error: null, ids: [], byId: {} };\n\nexport const exercises: Reducer<ExerciseStore, Action> = (state = exsercisesInitialState, action) => {\n  switch (action.type) {\n    case actions.FETCH_EXERCISES.REQUEST:\n    case actions.FETCH_EXERCISE.REQUEST:\n      return { ...state, loading: true, error: null };\n    case actions.FETCH_EXERCISES.SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        ids: action.exercises.map((e: Exercise) => e.id),\n        byId: action.exercises.reduce((byId: ExerciseStore['byId'], e: Exercise) => ({ ...byId, [e.id]: e }), {})\n      };\n    case actions.FETCH_EXERCISES.FAILURE:\n    case actions.FETCH_EXERCISE.FAILURE:\n      return { ...state, loading: false, error: action.error };\n    case actions.ADD_EXERCISE.SUCCESS:\n    case actions.FETCH_EXERCISE.SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        ids: [...state.ids, action.exercise.id],\n        byId: { ...state.byId, [action.exercise.id]: action.exercise }\n      };\n    case actions.DELETE_EXERCISE.SUCCESS:\n      return removeExerciseFromStateById(state, action.id);\n    case actions.ACKNOWLEDGE_EXERCISE.SUCCESS:\n    case actions.CANCEL_EXERCISE.SUCCESS:\n    case actions.ACKNOWLEDGE_EXERCISE_STEP.SUCCESS:\n    case actions.CANCEL_EXERCISE_STEP.SUCCESS:\n    case actions.UPDATE_EXERCISE_NAME.SUCCESS:\n    case actions.ADD_EXERCISE_STEP.SUCCESS:\n    case actions.DELETE_EXERCISE_STEP.SUCCESS:\n    case actions.UPDATE_EXERCISE_STEP.SUCCESS:\n    case actions.MOVE_EXERCISE_STEP.SUCCESS:\n      return { ...state, byId: { ...state.byId, [action.exercise.id]: { ...action.exercise } } };\n    case actions.START_EXERCISE:\n      return state.byId[action.exercise.id]\n        ? {\n            ...state,\n            byId: {\n              ...state.byId,\n              [action.exercise.id]: {\n                ...state.byId[action.exercise.id],\n                progress: {\n                  ...state.byId[action.exercise.id].progress,\n                  status: 'running',\n                  startedAt: new Date()\n                }\n              }\n            }\n          }\n        : state;\n    case actions.STOP_EXERCISE:\n      return state.byId[action.exercise.id]\n        ? {\n            ...state,\n            byId: {\n              ...state.byId,\n              [action.exercise.id]: {\n                ...state.byId[action.exercise.id],\n                progress: {\n                  ...state.byId[action.exercise.id].progress,\n                  status: 'stopped',\n                  stoppedAt: new Date()\n                }\n              }\n            }\n          }\n        : state;\n    case actions.PAUSE_EXERCISE:\n      return state.byId[action.exercise.id]\n        ? {\n            ...state,\n            byId: {\n              ...state.byId,\n              [action.exercise.id]: {\n                ...state.byId[action.exercise.id],\n                progress: { ...state.byId[action.exercise.id].progress, status: 'paused', pausedAt: new Date() }\n              }\n            }\n          }\n        : state;\n    default:\n      return state;\n  }\n};\n\nconst removeExerciseFromStateById = (state: ExerciseStore, exerciseId: string) => {\n  const restIds = state.ids.filter(id => id !== exerciseId);\n  const restById = restIds.reduce((byId, id) => ({ ...byId, [id]: state.byId[id] }), {});\n  return { ...state, ids: restIds, byId: restById };\n};\n\nconst reducer = combineReducers({\n  exercises,\n  notification: notificationReducer\n});\n\nexport type AppStore = ReturnType<typeof reducer>;\n\nexport default reducer;\n","import idb from 'idb';\r\nimport { Exercise } from '../store/types';\r\n\r\nconst RW = 'readwrite';\r\n\r\nconst dbname = 'oeuf-db';\r\nconst version = 1;\r\n\r\nconst EXERCISE_STORE = 'exercise';\r\n\r\nconst dbPromise = idb.open(dbname, version, upgradeDB => {\r\n  switch (upgradeDB.oldVersion) {\r\n    case 0:\r\n    default:\r\n      upgradeDB.createObjectStore<Exercise, string>(EXERCISE_STORE, { keyPath: 'id' });\r\n  }\r\n});\r\n\r\nexport default dbPromise;\r\n\r\n// EXERCISE\r\n\r\nexport const putExercise = async (exercise: Exercise) => {\r\n  const db = await dbPromise;\r\n  const tx = db.transaction(EXERCISE_STORE, RW);\r\n  tx.objectStore<Exercise, string>(EXERCISE_STORE).put(exercise);\r\n  await tx.complete;\r\n  return exercise;\r\n};\r\n\r\nexport const patchExerciseById = async (id: string, patchExercise: Partial<Exercise>) => {\r\n  const db = await dbPromise;\r\n  const tx = db.transaction(EXERCISE_STORE, RW);\r\n  const store = tx.objectStore<Exercise, string>(EXERCISE_STORE);\r\n  const exercise = await store.get(id);\r\n  if (exercise) {\r\n    const newExercise = { ...exercise, ...patchExercise };\r\n    store.put(newExercise);\r\n    await tx.complete;\r\n    return newExercise;\r\n  } else {\r\n    throw new Error(`Exercise not found (id=\"${id}\"\")`);\r\n  }\r\n};\r\n\r\nexport const deleteExercise = async (id: string) => {\r\n  const db = await dbPromise;\r\n  const tx = db.transaction(EXERCISE_STORE, RW);\r\n  tx.objectStore<Exercise, string>(EXERCISE_STORE).delete(id);\r\n  return tx.complete;\r\n};\r\n\r\nexport const getAllExercises = async () => {\r\n  const db = await dbPromise;\r\n  return db\r\n    .transaction(EXERCISE_STORE)\r\n    .objectStore<Exercise, string>(EXERCISE_STORE)\r\n    .getAll();\r\n};\r\n\r\nexport const getExerciseById = async (id: string) => {\r\n  const db = await dbPromise;\r\n  return db\r\n    .transaction(EXERCISE_STORE)\r\n    .objectStore<Exercise, string>(EXERCISE_STORE)\r\n    .get(id);\r\n};\r\n","import { Exercise } from './types';\nimport { all, call, put, takeLatest, takeEvery } from 'redux-saga/effects';\nimport { delay } from 'redux-saga';\nimport { arrayMove } from 'react-sortable-hoc';\nimport * as datastore from '../idb/datastore';\nimport {\n  TYPES,\n  fetchAllExercisesSuccess,\n  addExerciseSuccess,\n  addExerciseFailure,\n  deleteExerciseSuccess,\n  deleteExerciseFailure,\n  acknowledgeExerciseFailure,\n  acknowledgeExerciseSuccess,\n  cancelExerciseSuccess,\n  cancelExerciseFailure,\n  updateExerciseNameSuccess,\n  updateExerciseNameFailure,\n  addExerciseStepSuccess,\n  addExerciseStepFailure,\n  deleteExerciseStepSuccess,\n  deleteExerciseStepFailure,\n  acknowledgeExerciseStepSuccess,\n  acknowledgeExerciseStepFailure,\n  acknowledgeExerciseRequest,\n  cancelExerciseStepSuccess,\n  cancelExerciseStepFailure,\n  updateExerciseStepSuccess,\n  updateExerciseStepFailure,\n  moveExerciseStepSuccess,\n  moveExerciseStepFailure,\n  fetchAllExercisesFailure,\n  addExerciseRequest,\n  deleteExerciseRequest,\n  cancelExerciseRequest,\n  updateExerciseNameRequest,\n  addExerciseStepRequest,\n  deleteExerciseStepRequest,\n  acknowledgeExerciseStepRequest,\n  cancelExerciseStepRequest,\n  moveExerciseStepRequest,\n  updateExerciseStepRequest,\n  fetchExerciseRequest,\n  fetchExerciseSuccess,\n  fetchExerciseFailure\n} from './actions';\nimport { watchNotifications } from 'components/notification';\nimport { watchServiceWorker } from 'serviceWorker';\n\nfunction* fetchExercises() {\n  try {\n    const exercises: Exercise[] = yield call(datastore.getAllExercises);\n    yield put(fetchAllExercisesSuccess(exercises));\n  } catch (e) {\n    yield put(fetchAllExercisesFailure(e));\n  }\n}\nfunction* watchFetchExercises() {\n  yield takeLatest(TYPES.FETCH_EXERCISES.REQUEST, fetchExercises);\n}\n\nfunction* fetchOneExercise({ id }: ReturnType<typeof fetchExerciseRequest>) {\n  try {\n    const exercise: Exercise = yield call(datastore.getExerciseById, id);\n    yield put(fetchExerciseSuccess(exercise));\n  } catch (e) {\n    yield put(fetchExerciseFailure(id, e));\n  }\n}\nfunction* watchFetchOneExercise() {\n  yield takeLatest(TYPES.FETCH_EXERCISE.REQUEST, fetchOneExercise);\n}\n\nfunction* addNewExercise({ exercise }: ReturnType<typeof addExerciseRequest>) {\n  try {\n    const newExercise: Exercise = yield call(datastore.putExercise, exercise);\n    yield put(addExerciseSuccess(newExercise));\n  } catch (e) {\n    yield put(addExerciseFailure(exercise, e));\n  }\n}\nfunction* watchAddNewExercise() {\n  yield takeEvery(TYPES.ADD_EXERCISE.REQUEST, addNewExercise);\n}\n\nfunction* deleteExercise({ id }: ReturnType<typeof deleteExerciseRequest>) {\n  try {\n    yield call(datastore.deleteExercise, id);\n    yield put(deleteExerciseSuccess(id));\n  } catch (e) {\n    yield put(deleteExerciseFailure(id, e));\n  }\n}\nfunction* watchDeleteExercise() {\n  yield takeEvery(TYPES.DELETE_EXERCISE.REQUEST, deleteExercise);\n}\n\nfunction* acknowledgeExercise({ id }: ReturnType<typeof acknowledgeExerciseRequest>) {\n  try {\n    const exercise: Exercise = yield call(datastore.getExerciseById, id);\n    const patchedExercise: Exercise = yield call(datastore.putExercise, {\n      ...exercise,\n      done: true,\n      steps: exercise.steps.map(step => ({ ...step, done: true }))\n    });\n    yield put(acknowledgeExerciseSuccess(patchedExercise));\n  } catch (e) {\n    yield put(acknowledgeExerciseFailure(id, e));\n  }\n}\nfunction* watchAcknowledgeExercise() {\n  yield takeEvery(TYPES.ACKNOWLEDGE_EXERCISE.REQUEST, acknowledgeExercise);\n}\n\nfunction* cancelExercise({ id }: ReturnType<typeof cancelExerciseRequest>) {\n  try {\n    const exercise: Exercise = yield call(datastore.getExerciseById, id);\n    const patchedExercise: Exercise = yield call(datastore.putExercise, {\n      ...exercise,\n      done: false,\n      steps: exercise.steps.map(step => ({ ...step, done: false }))\n    });\n    yield put(cancelExerciseSuccess(patchedExercise));\n  } catch (e) {\n    yield put(cancelExerciseFailure(id, e));\n  }\n}\nfunction* watchCancelExercise() {\n  yield takeEvery(TYPES.CANCEL_EXERCISE.REQUEST, cancelExercise);\n}\n\nfunction* updateExerciseName({ id, name }: ReturnType<typeof updateExerciseNameRequest>) {\n  // Debounce\n  yield call(delay, 500);\n  try {\n    const patchedExercise: Exercise = yield call(datastore.patchExerciseById, id, { name });\n    yield put(updateExerciseNameSuccess(patchedExercise));\n  } catch (e) {\n    yield put(updateExerciseNameFailure(id, e));\n  }\n}\nfunction* watchUpdateExerciseName() {\n  yield takeLatest(TYPES.UPDATE_EXERCISE_NAME.REQUEST, updateExerciseName);\n}\n\nfunction* addExerciseStep({ exerciseId, stepType, step }: ReturnType<typeof addExerciseStepRequest>) {\n  try {\n    const exercise: Exercise = yield call(datastore.getExerciseById, exerciseId);\n    const patchedExercise: Exercise = yield call(datastore.putExercise, {\n      ...exercise,\n      type: stepType,\n      steps: [...exercise.steps, step]\n    });\n    yield put(addExerciseStepSuccess(patchedExercise));\n  } catch (e) {\n    yield put(addExerciseStepFailure(exerciseId, e));\n  }\n}\nfunction* watchAddExerciseStep() {\n  yield takeLatest(TYPES.ADD_EXERCISE_STEP.REQUEST, addExerciseStep);\n}\n\nfunction* deleteExerciseStep({ exerciseId, stepId }: ReturnType<typeof deleteExerciseStepRequest>) {\n  try {\n    const exercise: Exercise = yield call(datastore.getExerciseById, exerciseId);\n    const patchedExercise: Exercise = yield call(datastore.putExercise, {\n      ...exercise,\n      steps: [...exercise.steps.filter(s => s.id !== stepId)]\n    });\n    yield put(deleteExerciseStepSuccess(patchedExercise));\n  } catch (e) {\n    yield put(deleteExerciseStepFailure(exerciseId, stepId, e));\n  }\n}\nfunction* watchDeleteExerciseStep() {\n  yield takeEvery(TYPES.DELETE_EXERCISE_STEP.REQUEST, deleteExerciseStep);\n}\n\nfunction* acknowledgeExerciseStep({ exerciseId, stepId }: ReturnType<typeof acknowledgeExerciseStepRequest>) {\n  try {\n    const exercise: Exercise = yield call(datastore.getExerciseById, exerciseId);\n    const steps = [...exercise.steps];\n    steps.find(s => s.id === stepId)!.done = true;\n    const patchedExercise: Exercise = yield call(datastore.putExercise, {\n      ...exercise,\n      steps\n    });\n    yield put(acknowledgeExerciseStepSuccess(patchedExercise));\n    if (patchedExercise.steps.every(s => s.done)) {\n      yield put(acknowledgeExerciseRequest(patchedExercise.id));\n    }\n  } catch (e) {\n    yield put(acknowledgeExerciseStepFailure(exerciseId, stepId, e));\n  }\n}\nfunction* watchAcknowledgeExerciseStep() {\n  yield takeEvery(TYPES.ACKNOWLEDGE_EXERCISE_STEP.REQUEST, acknowledgeExerciseStep);\n}\n\nfunction* cancelExerciseStep({ exerciseId, stepId }: ReturnType<typeof cancelExerciseStepRequest>) {\n  try {\n    const exercise: Exercise = yield call(datastore.getExerciseById, exerciseId);\n    const steps = [...exercise.steps];\n    steps.find(s => s.id === stepId)!.done = false;\n    const patchedExercise: Exercise = yield call(datastore.putExercise, {\n      ...exercise,\n      done: false,\n      steps\n    });\n    yield put(cancelExerciseStepSuccess(patchedExercise));\n  } catch (e) {\n    yield put(cancelExerciseStepFailure(exerciseId, stepId, e));\n  }\n}\nfunction* watchCancelExerciseStep() {\n  yield takeEvery(TYPES.CANCEL_EXERCISE_STEP.REQUEST, cancelExerciseStep);\n}\n\nfunction* moveExerciseStep({ exerciseId, oldIndex, newIndex }: ReturnType<typeof moveExerciseStepRequest>) {\n  try {\n    const exercise: Exercise = yield call(datastore.getExerciseById, exerciseId);\n    const steps = arrayMove([...exercise.steps], oldIndex, newIndex);\n    const patchedExercise: Exercise = yield call(datastore.putExercise, {\n      ...exercise,\n      done: false,\n      steps\n    });\n    yield put(moveExerciseStepSuccess(patchedExercise));\n  } catch (e) {\n    yield put(moveExerciseStepFailure(exerciseId, oldIndex, newIndex, e));\n  }\n}\nfunction* watchMoveExerciseStep() {\n  yield takeEvery(TYPES.MOVE_EXERCISE_STEP.REQUEST, moveExerciseStep);\n}\n\nfunction* updateExerciseStep({ exerciseId, stepId, contentPatch }: ReturnType<typeof updateExerciseStepRequest>) {\n  // Debounce\n  yield call(delay, 500);\n  try {\n    const exercise: Exercise = yield call(datastore.getExerciseById, exerciseId);\n    const steps = [...exercise.steps];\n    const stepIndex = steps.findIndex(s => s.id === stepId);\n    steps[stepIndex] = { ...steps[stepIndex], ...contentPatch };\n    const patchedExercise: Exercise = yield call(datastore.putExercise, {\n      ...exercise,\n      done: false,\n      steps\n    });\n    yield put(updateExerciseStepSuccess(patchedExercise));\n  } catch (e) {\n    yield put(updateExerciseStepFailure(exerciseId, stepId, contentPatch, e));\n  }\n}\nfunction* watchUpdateExerciseStep() {\n  yield takeLatest(TYPES.UPDATE_EXERCISE_STEP.REQUEST, updateExerciseStep);\n}\n\nexport default function* rootSaga() {\n  yield all([\n    watchFetchExercises(),\n    watchFetchOneExercise(),\n    watchAddNewExercise(),\n    watchDeleteExercise(),\n    watchAcknowledgeExercise(),\n    watchCancelExercise(),\n    watchUpdateExerciseName(),\n    watchAddExerciseStep(),\n    watchDeleteExerciseStep(),\n    watchAcknowledgeExerciseStep(),\n    watchCancelExerciseStep(),\n    watchMoveExerciseStep(),\n    watchUpdateExerciseStep(),\n    watchNotifications(),\n    watchServiceWorker()\n  ]);\n}\n","import { createStore, applyMiddleware, Middleware } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension/developmentOnly';\r\nimport { createLogger } from 'redux-logger';\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport { AppStore } from './reducer';\r\nimport rootReducer from './reducer';\r\nimport saga from './saga';\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\n\r\nconst middlewares: Middleware[] = [sagaMiddleware];\r\nif (process.env.NODE_ENV === 'development') {\r\n  const loggerMiddleware = createLogger();\r\n  middlewares.push(loggerMiddleware);\r\n}\r\n\r\nexport default function configureStore(preloadedState?: AppStore) {\r\n  const store = createStore(rootReducer, preloadedState, composeWithDevTools(applyMiddleware(...middlewares)));\r\n  sagaMiddleware.run(saga);\r\n  return store;\r\n}\r\n","import React, { Component } from 'react';\nimport 'App.css';\nimport Theme from './components/theme/Theme';\nimport ExerciseListPageContainer from './components/exercise-list/container/ExerciseListPageContainer';\nimport ExercisePageContainer from './components/exercise/container/ExercisePageContainer';\nimport RootContainer from './redux/RootContainer';\nimport { BrowserRouter as Router, Switch, Route, RouteComponentProps } from 'react-router-dom';\nimport Error404 from './components/empty-page/Error404';\nimport { ExerciseRunnerContainer } from 'components/exercise-runner';\nimport { register as registerServiceWorker } from './serviceWorker';\nimport configureStore from './store/configureStore';\n\nconst appStore = configureStore();\n\n// Register service worker\nregisterServiceWorker(appStore.dispatch);\n\nclass App extends Component {\n  render() {\n    return (\n      <RootContainer store={appStore}>\n        <Router basename={process.env.REACT_APP_BASE_DIR}>\n          <Theme>\n            <Switch>\n              <Route exact path=\"/\" component={ExerciseListPageContainer} />\n              <Route\n                exact\n                path=\"/:id\"\n                component={({ match }: RouteComponentProps<{ id: string }>) => (\n                  <ExercisePageContainer exerciseId={match.params.id} />\n                )}\n              />\n              <Route\n                exact\n                path=\"/:exerciseId/runner/:stepId\"\n                component={({ match }: RouteComponentProps<{ exerciseId: string; stepId: string }>) => (\n                  <ExerciseRunnerContainer exerciseId={match.params.exerciseId} stepId={match.params.stepId} />\n                )}\n              />\n              <Route component={Error404} />\n            </Switch>\n          </Theme>\n        </Router>\n      </RootContainer>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}